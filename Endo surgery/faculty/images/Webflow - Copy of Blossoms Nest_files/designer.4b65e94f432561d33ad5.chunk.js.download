(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{1255:function(e,t,a){"use strict";var n=a(320).createElement;e.exports=function(e){var t=e.scale||1;return n("svg",{"data-icon":"ChevronRightMediumThick","aria-hidden":!0,focusable:!1,width:8*t,height:13*t,viewBox:"0 0 8 13",y:null!=e.y?e.y:null,x:null!=e.x?e.x:null,className:"bem-Svg"+(e.className?" "+e.className:""),style:Object.assign({display:"block",transform:"translate(0,0)"},e.style)},n("path",{fill:"none",stroke:"currentColor",strokeWidth:"2",strokeMiterlimit:"10",d:"M2 2l4 4.5L2 11"}))},e.exports.displayName="Svg(ChevronRightMediumThick)"},1276:function(e,t,a){"use strict";var n=a(323);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.children,a=e.items,n=a.filter(function(e){return!e.mint}).size>0;return l.createElement("div",{className:"kit-list-wrapper"},l.createElement("div",{className:"kit-list"},a.map(t)),n?null:l.createElement("div",{className:"kit-empty-list"},"None"))};var l=n(a(320));a(330)},1277:function(e,t,a){"use strict";var n=a(323),l=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.getBindingContextOptions=function(e){var t=e.DYN_CONTEXT,a=e.filterFieldSlugPath,n=e.listCollection,l=e.pageCollection;if(n){var i=l||{},o=i._id,r=void 0===o?null:o,s=i.singularName,d=void 0===s?"":s,c=l?l.fields.filter(function(e){return"ItemRef"===e.get("type")||"ItemRefSet"===e.get("type")}).reduce(function(e,t){var a=t.getIn(["validations","collectionId"]),n=t.get("name"),l=t.get("slug"),i=t.get("type");return e[a]=(e[a]||[]).concat({name:n,slug:l,type:i}),e},{}):{},f=n.fields,m=(0,u.isFieldOfItemRef)(a)?null:(0,u.getValueFieldSlug)(a),p=m&&f.find(function(e){return e.get("slug")===m}),h=p&&p.getIn(["validations","collectionId"]),v="string"==typeof h&&(0,g.get)(c,h)||[],S=v.map(function(e){var a="ItemRefSet"===e.type?"Any ":"";return{label:"".concat(a).concat(e.name," of Current ").concat(d),value:"".concat(t,".").concat(e.slug)}});if(h===r){var E={label:"Current "+d,value:t};return[E].concat(S)}return S}return[]},t.convertItemRefFilterOperatorForPersisting=function(e,t,a,n){if("ItemRef"!==e)return n;var l="string"==typeof t&&/^DYN_CONTEXT\..+/.test(t)&&t.replace(/^DYN_CONTEXT\./,"");return"ItemRefSet"===(l&&(0,s.getTypeBySlug)(l,a))?h(n):p(n)},t.convertItemRefFilterOperatorForRendering=convertItemRefFilterOperatorForRendering,t.getHumanText=function(e){var t=e.item,a=e.collection,n=e.field,l=e.collectionState,i=e.bindingContextState,o=t.operator,r=t.value,s=t.value2,u=t.value3,c=i.pageCollectionId&&l.collections.get(i.pageCollectionId),f=getValueText({operator:o,value:r,value2:s,value3:u,collection:a,field:n,collectionState:l,pageCollection:c}),m=a.singularName,g=n.name,p=getNormalizedFieldType(n);switch(convertItemRefFilterOperatorForRendering(p,o)){case d.OPERATOR_EQ:return"Id"===p?m+" is "+f:g+" is "+f;case d.OPERATOR_NE:return"Id"===p?m+" is not "+f:g+" is not "+f;case d.OPERATOR_GT:return g+" is greater than "+f;case d.OPERATOR_LT:return g+" is less than "+f;case d.OPERATOR_GTE:var h="Date"===p?f:r,v="Date"===p?"after":"greater than";return"".concat(g," is ").concat(v," or equal to ").concat(h);case d.OPERATOR_LTE:var S="Date"===p?f:r,E="Date"===p?"before":"less than";return"".concat(g," is ").concat(E," or equal to ").concat(S);case d.OPERATOR_EXISTS:return g+" is set";case d.OPERATOR_NOT_EXISTS:return g+" is not set";case d.OPERATOR_IDIN:return g+" contains "+f;case d.OPERATOR_IDNIN:return g+" does not contain "+f;case d.OPERATOR_TRUE:return g+" is on";case d.OPERATOR_FALSE:return g+" is off";default:return""}},t.getValueText=getValueText,t.getReferencedCollection=t.getCollection=void 0;var i=l(a(372)),o=a(452),r=a(447),s=a(481),d=n(a(678)),u=a(508),c=a(399),f=a(388),m=a(431),g=a(490);var p=function(e){switch(e){case d.OPERATOR_IDIN:return d.OPERATOR_EQ;case d.OPERATOR_IDNIN:return d.OPERATOR_NE;default:return e}},h=function(e){switch(e){case d.OPERATOR_EQ:return d.OPERATOR_IDIN;case d.OPERATOR_NE:return d.OPERATOR_IDNIN;default:return e}};function convertItemRefFilterOperatorForRendering(e,t){return"ItemRef"===e?p(t):t}function getNormalizedFieldType(e){return"_id"!==e.get("name")?e.get("type"):"Id"}function getValueText(e){var t=e.operator,a=e.value,n=e.value2,l=e.value3,r=e.collection,s=e.field,u=e.collectionState,c=e.pageCollection,f=getNormalizedFieldType(s);if("Id"===f)return"Current "+r.singularName;var g="string"==typeof a?u.items.get(a):null;if(g)return(0,o.itemLabel)(g);if(null==a)return"";if("Date"===f)return 0!==a&&n?"boolean"==typeof l||null===l?function(e){var t=e.operator,a=e.value,n=e.value2,l=e.value3,i=t===d.OPERATOR_GTE?"ago":"from now",o=l?" excluding today":"";return"".concat(a," ").concat(n," ").concat(i).concat(o)}({operator:t,value:a,value2:n,value3:l}):function(e){var t=e.value,a=e.value2,n=e.value3;return"".concat(t," ").concat(a," ").concat(m.TENSES_TO_HUMAN_PHRASES_MAP[n])}({value:a,value2:n,value3:l}):"today";if(a=String(a),"Bool"===f)return"true"===a?"on":"false";if("Option"===f){var p=s.getIn(["validations","options"]).find(function(e){return e.get("id")===a});return p?p.get("name"):"(Unknown)"}if("ItemRef"===f||"ItemRefSet"===f){var h=i.default.dynamicContextConstant;if(c&&0===a.indexOf(h+".")){var v=c.singularName,S=c.fields,E=a.replace(/^DYN_CONTEXT\./,""),N=S.find(function(e){return e.get("slug")===E}),C=N?N.get("name"):E;return(N&&"ItemRefSet"===N.get("type")?"Any ":"")+C+" of Current "+v}return 0===a.indexOf(h)?c?"Current "+c.singularName:"Different Context":"Deleted Item"}return a}var v=function(e,t,a){var n=t.collections,l=a.pageCollectionId;return(0,r.getAllCollections)({collections:n,contextCollectionId:l}).find(function(t){return t._id===e})};t.getCollection=v;t.getReferencedCollection=function(e,t,a,n){var l=v(t,a,n),i=e&&(0,c.getFieldBySlug)(l,e),o=i?(0,f.itemRefTargetCollectionId)(i):"";return o?v(o,a,n):null}},1278:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(330),l=a(508),i=(0,n.Record)({fieldPath:(0,l.createFieldPath)(""),operator:"",value:"",value2:"",value3:"",open:!1,mint:!1});t.default=i},1279:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(321)),i=n(a(322)),o=n(a(327)),r=n(a(326)),s=n(a(328)),d=n(a(320)),u=n(a(418)),c=n(a(645)),f=[{value:"ease",label:"ease"},{value:"ease-in",label:"ease-in"},{value:"ease-out",label:"ease-out"},{value:"ease-in-out",label:"ease-in-out"},{value:"linear",label:"linear"},{value:"ease-in-quad",label:"ease-in-quad"},{value:"ease-in-cubic",label:"ease-in-cubic"},{value:"ease-in-quart",label:"ease-in-quart"},{value:"ease-in-quint",label:"ease-in-quint"},{value:"ease-in-sine",label:"ease-in-sine"},{value:"ease-in-expo",label:"ease-in-expo"},{value:"ease-in-circ",label:"ease-in-circ"},{value:"ease-in-back",label:"ease-in-back"},{value:"ease-out-quad",label:"ease-out-quad"},{value:"ease-out-cubic",label:"ease-out-cubic"},{value:"ease-out-quart",label:"ease-out-quart"},{value:"ease-out-quint",label:"ease-out-quint"},{value:"ease-out-sine",label:"ease-out-sine"},{value:"ease-out-expo",label:"ease-out-expo"},{value:"ease-out-circ",label:"ease-out-circ"},{value:"ease-out-back",label:"ease-out-back"},{value:"ease-in-out-quad",label:"ease-in-out-quad"},{value:"ease-in-out-cubic",label:"ease-in-out-cubic"},{value:"ease-in-out-quart",label:"ease-in-out-quart"},{value:"ease-in-out-quint",label:"ease-in-out-quint"},{value:"ease-in-out-sine",label:"ease-in-out-sine"},{value:"ease-in-out-expo",label:"ease-in-out-expo"},{value:"ease-in-out-circ",label:"ease-in-out-circ"},{value:"ease-in-out-back",label:"ease-in-out-back"}],m=function(e){function EasingMenu(){return(0,l.default)(this,EasingMenu),(0,o.default)(this,(0,r.default)(EasingMenu).apply(this,arguments))}return(0,s.default)(EasingMenu,e),(0,i.default)(EasingMenu,[{key:"render",value:function(){return d.default.createElement("div",{className:"kit-field pull-left easing"},d.default.createElement(u.default,{text:this.props.label}),d.default.createElement(c.default,{value:this.props.value,onCommit:this.props.onChange},f.map(function(e){return d.default.createElement("option",{value:e.value,key:e.value},e.label)})))}}]),EasingMenu}(d.default.Component);t.default=m},2068:function(e,t,a){"use strict";var n=a(323),l=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=l(a(338)),o=l(a(325)),r=l(a(321)),s=l(a(322)),d=l(a(327)),u=l(a(326)),c=l(a(332)),f=l(a(328)),m=l(a(324)),g=l(a(320)),p=a(330),h=l(a(329)),v=a(355),S=l(a(436)),E=l(a(646)),N=n(a(854)),C=a(345),b=a(361),y=a(388),k=a(452),I=a(481),T=a(447),A=a(1277),_=n(a(678)),x=a(333),P=a(508),R=a(399),O=a(380),D=a(354),F=a(431),w=["PlainText","RichText","Date","Email","Phone","Number","ImageRef","Video","Bool","ItemRef","ItemRefSet","Link","Option","CommercePrice","FileRef","Set"],M=[_.OPERATOR_EQ,_.OPERATOR_NE,_.OPERATOR_LT,_.OPERATOR_GT,_.OPERATOR_LTE,_.OPERATOR_GTE],L=function(e){return M.includes(e)},U=function(e){function ParamPanel(){var e,t;(0,r.default)(this,ParamPanel);for(var a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return t=(0,d.default)(this,(e=(0,u.default)(ParamPanel)).call.apply(e,[this].concat(n))),(0,m.default)((0,c.default)(t),"state",{fieldPath:(0,P.createFieldPath)(""),operator:"",value:"",value2:"",value3:""}),(0,m.default)((0,c.default)(t),"getReferencedCollection",function(e,a){var n=t.getAllCollections(),l=(0,R.getFieldBySlug)(e,a),i=l&&l.getIn(["validations","collectionId"]);return i?n.find(function(e){return e._id===i}):null}),(0,m.default)((0,c.default)(t),"onFieldChange",function(e){var a=(0,o.default)({},t.state,{fieldPath:e}),n=t.state.operator,l=t.getAvailableOperators(a);l.some(function(e){return e.id===n})||(a.operator=l[0].id);var i=t.getInitialValues(a);a.value=i.value,a.value2=i.value2,a.value3=i.value3,t.setState(a)}),(0,m.default)((0,c.default)(t),"onOperatorChange",function(e){var a=t.state.operator,n=(0,o.default)({},t.state,{operator:e});if(!(L(a)&&L(e))){var l=t.getInitialValues(n),i=l.value,r=l.value2,s=l.value3;n.value=i,n.value2=r,n.value3=s}t.setState(n)}),(0,m.default)((0,c.default)(t),"onValueChange",function(e){t.setState({value:e})}),(0,m.default)((0,c.default)(t),"onValue2Change",function(e){t.setState({value2:e})}),(0,m.default)((0,c.default)(t),"onValue3Change",function(e){t.setState({value3:e})}),(0,m.default)((0,c.default)(t),"onSave",function(){if(t.validParameters()){var e=t.props,a=e.index,n=e.onCommit,l=t.state,i=l.fieldPath,o=l.operator,r=l.value,s=l.value2,d=l.value3,u=t.getFieldType(),c=t.getDynPageCollection();n({index:a,fieldPath:i,fieldType:u,operator:c?(0,A.convertItemRefFilterOperatorForPersisting)(u,r,c,o):o,value:r,value2:s,value3:d,commit:!0})}}),(0,m.default)((0,c.default)(t),"onClose",function(){var e=t.props,a=e.index;(0,e.onCommit)({index:a,commit:!1})}),t}return(0,f.default)(ParamPanel,e),(0,s.default)(ParamPanel,[{key:"UNSAFE_componentWillMount",value:function(){this.refreshState()}},{key:"componentDidUpdate",value:function(e,t){h.default.isEqual(t,this.state)||this.props.refreshPanel()}},{key:"refreshState",value:function(e){var t=(e=e||this.props).item,a=t.fieldPath,n=t.operator,l=t.value,i=t.value2,r=t.value3,s={fieldPath:a,operator:n};t.mint||(s=(0,o.default)({},s,{value:l,value2:i,value3:r})),this.setState(s)}},{key:"getAllCollections",value:function(){var e=this.props.stores,t=e.collection,a=e.bindingContext,n=t.collections,l=a.pageCollectionId;return(0,T.getAllCollections)({collections:n,contextCollectionId:l})}},{key:"getCollectionId",value:function(){switch(this.props.type){case"query":return this.props.collectionId;case"condition":return this.props.condVisSettingsState.collectionId;default:return null}}},{key:"getCollection",value:function(){var e=this.getCollectionId();return this.getAllCollections().find(function(t){return t._id===e})}},{key:"getDynListCollection",value:function(){var e=this.props.stores,t=e.abstractNode,a=e.uiNode,n=(0,C.getAbstractNode)(t,a.selectedNodeNativeId),l=this.getAllCollections();return n?(0,I.getNodeRelativeContextListCollection)({node:n,abstractNodeState:t,allCollections:l}):null}},{key:"getDynPageCollection",value:function(){var e=this.props.stores.bindingContext.pageCollectionId;return this.getAllCollections().find(function(t){return t._id===e})}},{key:"getField",value:function(e){var t=(e=e||this.state).fieldPath,a=(0,P.getItemRefSlug)(t),n=this.getCollection(),l=a?this.getReferencedCollection(n,a):n;return l?(0,P.isFauxDynContextField)(t)?(0,p.Map)({name:l.singularName,type:""}):(0,R.getFieldBySlug)(l,(0,P.getValueFieldSlug)(t)):((0,D.reportBug)("ParamPanelUnreachableCodeError","No collection for selected node found",{metaData:{fieldPath:t}}),null)}},{key:"getContextField",value:function(){var e=this.state.fieldPath,t=(0,P.getItemRefSlug)(e);return t?(0,R.getFieldBySlug)(this.getCollection(),t):null}},{key:"getTargetName",value:function(){switch(this.props.type){case"query":return"filter";case"condition":return"condition";default:return null}}},{key:"getFieldType",value:function(e){var t=(e=e||this.state).fieldPath;if((0,P.isFauxDynContextField)(t))return"Id";var a=this.getField(e);return a?a.get("type",""):""}},{key:"getFieldInnerType",value:function(e){var t=this.getField(e);return t&&t.get("innerType")||""}},{key:"getFieldLabel",value:function(){var e=this.getField(),t=this.getContextField(),a=e?e.get("name"):"",n=t?t.get("name"):null;return String(a)+(n?" ("+n+")":"")}},{key:"getCollectionName",value:function(){return this.getCollection().singularName}},{key:"getFieldOptions",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=this.props,n=a.stores,l=a.type,i=n.abstractNode,o=n.uiNode,r=(0,C.getAbstractNode)(i,o.selectedNodeNativeId),s=Boolean(r&&(0,b.isInsideCommerceCheckoutFormContainer)(r,i.root)),d="condition"===l,u=this.getCollection(),c=t?this.getReferencedCollection(u,t):u,f=this.getDynListCollection(),m=f?f._id:null,g=this.getDynPageCollection(),p=g?g._id:null,v=function(a){if(!a)return[];var n=d&&(0,O.isProductsCollection)(a)&&(0,O.isOrderItemsCollection)(u),l=function(e){return"ItemRef"===e.type?2:"ItemRefSet"===e.type?1:"Set"===e.type?0:3},i=a.fields.filter(function(e){var l=e.get("slug"),i=function(e){var a=e.get("type"),l=t&&/^(?:ItemRef|ItemRefSet)$/.test(a);return w.includes(a)&&(!l||n)}(e)&&!function(e){return-1!==_.HIDDEN_FIELDS.indexOf(e.get("slug"))}(e);if(i){if((0,O.isSkusCollection)(a))return(0,y.isCustomField)(e)&&(!d||(0,O.isOrderItemsCollection)(u)&&"price"!==l);if((0,O.isProductsCollection)(a))return"default-sku"!==l;if((0,O.isCommerceOrderCollection)(a))return!(d&&(O.COMMERCE_ORDER_COND_VIS_HIDDEN_FIELD_SLUGS.includes(l)||s&&O.COMMERCE_ORDER_CARD_FIELD_SLUGS.includes(l)))}return i}),o=!t,r=i.sort(function(e,t){return(0,O.isProductsCollection)(a)||(0,O.isSkusCollection)(a)?(0,O.getProductsBindingFieldSortValue)(e.slug)-(0,O.getProductsBindingFieldSortValue)(t.slug):l(t)-l(e)}).map(function(l){var i=l.get("name"),r=l.get("slug"),s=l.get("type"),u=l.get("innerType"),c={name:i,type:s,humanizedType:(0,y.asFieldDisplayType)(s,u),value:t?(0,P.createFieldPath)(t,r):(0,P.createFieldPath)(r),nested:Boolean(t)&&!(0,O.isSkusCollection)(a)&&!n};return"ItemRef"===s&&d&&o?(function(e){var t=e.get("slug");return d&&(0,O.isOrderItemsCollection)(a)&&"ItemRef"===e.get("type")&&("product"===t||"sku"===t)}(l)?[]:[c]).concat(e.getFieldOptions(r)):c}).toArray();return h.default.flatten(r)}(c);return!t&&f&&null!==m&&m===p&&v.unshift(function(e){return{humanizedType:null,name:e?e.singularName:"Collection",type:"Id",value:(0,P.createFieldPath)("_id"),isId:!0}}(f)),v}},{key:"getAvailableOperators",value:function(e){var t=(e=e||this.state).fieldPath,a=this.getFieldType(e),n=this.getFieldInnerType(e);return(0,P.isFauxDynContextField)(t)?[{name:"is",id:_.OPERATOR_EQ},{name:"is not",id:_.OPERATOR_NE}]:"name"===(0,P.getValueFieldSlug)(t)?[{name:"Equals",id:_.OPERATOR_EQ},{name:"Does Not Equal",id:_.OPERATOR_NE}]:"PlainText"===a||"Option"===a||"Email"===a||"Phone"===a?[{name:"Equals",id:_.OPERATOR_EQ},{name:"Does Not Equal",id:_.OPERATOR_NE},{name:"Is Set",id:_.OPERATOR_EXISTS},{name:"Is Not Set",id:_.OPERATOR_NOT_EXISTS}]:"RichText"===a?[{name:"Is Set",id:_.OPERATOR_EXISTS},{name:"Is Not Set",id:_.OPERATOR_NOT_EXISTS}]:"Number"===a||"CommercePrice"===a?[{name:"Equals",id:_.OPERATOR_EQ},{name:"Does Not Equal",id:_.OPERATOR_NE},{name:"Is Greater Than",id:_.OPERATOR_GT},{name:"Is Less Than",id:_.OPERATOR_LT},{name:"Is Set",id:_.OPERATOR_EXISTS},{name:"Is Not Set",id:_.OPERATOR_NOT_EXISTS}]:"ImageRef"===a||"ImageRef"===n||"Video"===a?[{name:"Is Set",id:_.OPERATOR_EXISTS},{name:"Is Not Set",id:_.OPERATOR_NOT_EXISTS}]:"Bool"===a?[{name:"is On",id:_.OPERATOR_TRUE},{name:"is Off",id:_.OPERATOR_FALSE}]:"Date"===a?[{name:"Is set",id:_.OPERATOR_EXISTS},{name:"Is not set",id:_.OPERATOR_NOT_EXISTS},{name:"Is after or equal to...",id:_.OPERATOR_GTE},{name:"Is before or equal to...",id:_.OPERATOR_LTE}]:"ItemRef"===a?[{name:"Equals",id:_.OPERATOR_EQ},{name:"Does Not Equal",id:_.OPERATOR_NE},{name:"Is Set",id:_.OPERATOR_EXISTS},{name:"Is Not Set",id:_.OPERATOR_NOT_EXISTS}]:"ItemRefSet"===a?[{name:"Contains",id:_.OPERATOR_IDIN},{name:"Does Not Contain",id:_.OPERATOR_IDNIN},{name:"Is Set",id:_.OPERATOR_EXISTS},{name:"Is Not Set",id:_.OPERATOR_NOT_EXISTS}]:"Link"===a?[{name:"Is Set",id:_.OPERATOR_EXISTS},{name:"Is Not Set",id:_.OPERATOR_NOT_EXISTS}]:"FileRef"===a?[{name:"Is Set",id:_.OPERATOR_EXISTS},{name:"Is Not Set",id:_.OPERATOR_NOT_EXISTS}]:[{name:"Equals",id:_.OPERATOR_EQ}]}},{key:"getAvailableDateTimeTenses",value:function(){return Object.entries(F.TENSES_TO_HUMAN_PHRASES_MAP).map(function(e){var t=(0,i.default)(e,2);return{id:t[0],name:t[1]}})}},{key:"getAvailableDateUnitOptions",value:function(){return Object.values(F.TIME_INTERVALS_ENUM).map(function(e){return{value:e}})}},{key:"getAvailableItemRefOptions",value:function(e,t){var a,n,l,i=this,o=(a=(t||i.state).fieldPath,n=i.getDynListCollection(),l=i.getDynPageCollection(),(0,A.getBindingContextOptions)({DYN_CONTEXT:"DYN_CONTEXT",filterFieldSlugPath:a,listCollection:n,pageCollection:l})),r=function(){var a=(t||i.state).fieldPath,n=i.getCollection(),l=(0,O.isOrderItemsCollection)(n),o=(0,P.getItemRefSlug)(a),r=Boolean(o),s=o?i.getReferencedCollection(n,o):n,d=l&&(0,O.isProductsCollection)(s);if(r&&!d)return[];var u=s?i.getReferencedCollection(s,(0,P.getValueFieldSlug)(a)):null;return u?(e||i.props).stores.collection.items.filter(function(e){return e.get("_cid")===u._id}).toArray().sort(function(e,t){return e.get("name")-t.get("name")}).map(function(e){return{label:(0,k.itemLabel)(e),value:e.get("_id")}}):[]}(),s=o.concat(r).map(function(e){return e.value&&0===e.value.indexOf("DYN_CONTEXT")?h.default.extend({},e,{lightning:!0}):e});return s.length>0?s:[{label:"No items to select",isReadOnly:!0}]}},{key:"getAvailableOptionOptions",value:function(e){e=e||this.state;var t=this.getField(e);return t&&"Option"===this.getFieldType(e)?t.getIn(["validations","options"]).toJS():[]}},{key:"getFieldTemplate",value:function(){var e=this.getFieldType();return e?(0,v.dasherize)(e).replace(/^\-/,""):"plain-text"}},{key:"needsValue",value:function(){var e=this.getFieldType(),t=this.state.operator,a=t&&_.getOperatorById(t);return"Date"===e&&_.isComparisonOperator(t)||"Id"!==e&&a&&!a.hasOwnProperty("value")}},{key:"needsValue2",value:function(){var e=this.getFieldType(),t=this.state.operator;return"Date"===e&&_.isComparisonOperator(t)}},{key:"needsValue3",value:function(){var e=this.getFieldType(),t=this.state.operator;return"Date"===e&&_.isComparisonOperator(t)}},{key:"invalidParam",value:function(e){this.props.dispatch({type:x.INVALID_PARAMETER_DEFINITION_ATTEMPTED,errorMessage:e})}},{key:"validParameters",value:function(){var e=this.state,t=e.fieldPath,a=e.operator,n=e.value,l=e.value2,i=e.value3,o=this.needsValue(),r=this.needsValue2(),s=this.needsValue3(),d=function(e){return"string"==typeof e?Boolean(e):null!=e};return(0,P.isEmptyFieldPath)(t)?(this.invalidParam("Specify a field for this criteria"),!1):a?!(!d(n)&&o||!d(l)&&r||!d(i)&&s)||(this.invalidParam("Specify a value"),!1):(this.invalidParam("Specify an operator for criteria"),!1)}},{key:"hasFieldConflict",value:function(){var e=this,t=this.props.index,a=this.state,n=a.fieldPath,l=a.operator;return function(){switch(e.props.type){case"query":return e.props.queryParams;case"condition":return e.props.condVisSettingsState.condVisParams;default:return(0,p.List)()}}().filter(function(e,a){return!e.mint&&a!==t}).filter(function(e){return e.fieldPath===n&&e.operator===l}).size>0}},{key:"fieldConflictText",value:function(){var e=this.getTargetName();return"You already have a ".concat(String(e)," for this field. Saving will override the previous ").concat(String(e),".")}},{key:"getHelpText",value:function(){return"condition"===this.props.type?"Element is visible when...":""}},{key:"getInitialValues",value:function(e){e=e||this.state;var t=this.getFieldType(e);if("Date"===t)return{value:1,value2:this.getAvailableDateUnitOptions()[0].value,value3:F.PAST};if("Option"===t){var a=this.getAvailableOptionOptions(e);return{value:a.length>0?a[0].id:null,value2:null,value3:null}}return"ItemRef"===t||"ItemRefSet"===t?{value:this.getAvailableItemRefOptions(this.props,e)[0].value,value2:null,value3:null}:{value:null,value2:null,value3:null}}},{key:"renderFields",value:function(){var e=this.props.stores,t=this.state,a=t.operator,n=t.value,l=t.value2,i=t.value3,o=this.getFieldTemplate(),r=this.needsValue(),s=this.getCollectionName(),d=this.getAvailableOperators(),u=this.getAvailableDateUnitOptions(),c=this.getAvailableItemRefOptions(),f=this.getAvailableOptionOptions(),m=this.getFieldType(),p=m?(0,A.convertItemRefFilterOperatorForRendering)(m,a):a;return g.default.createElement("div",{className:"fields"},"date"!==o?g.default.createElement("div",{className:"operator","data-automation-id":"filter-operator-select-wrap"},g.default.createElement(N.default,{value:p,onChange:this.onOperatorChange},d.map(function(e){return g.default.createElement("option",{value:e.id,label:e.name,key:e.id},e.name)}))):null,g.default.createElement("div",{className:"field-value"},"plain-text"===o?g.default.createElement("div",{className:"input-plain-text","data-automation-id":"filter-value-input-wrap"},r?g.default.createElement("div",null,g.default.createElement(S.default,{placeholder:"Value",value:n,onChange:this.onValueChange})):null):null,"id"===o?g.default.createElement("div",{className:"input-id"},g.default.createElement("div",{className:"fake-input"},g.default.createElement("i",{className:"icon-main lightning-icon"}),g.default.createElement("span",null,"Current ",s))):null,"email"===o?g.default.createElement("div",{className:"input-email"},r?g.default.createElement("div",null,g.default.createElement(S.default,{placeholder:"Value",value:n,onChange:this.onValueChange})):null):null,"phone"===o?g.default.createElement("div",{className:"input-phone"},r?g.default.createElement("div",null,g.default.createElement(S.default,{placeholder:"Value",value:n,onChange:this.onValueChange})):null):null,"rich-text"===o?g.default.createElement("div",{className:"input-rich-text"},r?g.default.createElement("div",null,g.default.createElement(S.default,{placeholder:"Value",value:n,onChange:this.onValueChange})):null):null,"number"!==o&&"commerce-price"!==o||!r?null:g.default.createElement("div",{className:"input-number"},g.default.createElement("div",null,g.default.createElement(E.default,{value:n,precision:8,selectedNodeNativeId:e.uiNode.selectedNodeNativeId,onChange:this.onValueChange}))),"date"===o?g.default.createElement("div",{className:"input-date"},g.default.createElement("div",{className:"field-value clearfix","data-automation-id":"filter-operator-select-wrap"},g.default.createElement(N.default,{value:a,onChange:this.onOperatorChange},d.map(function(e){return g.default.createElement("option",{value:e.id,label:e.name,key:e.id},e.name)}))),a===_.OPERATOR_GTE||a===_.OPERATOR_LTE?g.default.createElement("div",{className:"field-value clearfix"},g.default.createElement("div",{className:"triple"},g.default.createElement("div",{className:"kit-field value-field","data-automation-id":"filter-date-time-length-input-wrap"},g.default.createElement(E.default,{value:n,minValue:0,onChange:this.onValueChange,stores:e})),g.default.createElement("div",{"data-automation-id":"filter-date-time-interval-select-wrap"},g.default.createElement(N.default,{onChange:this.onValue2Change,value:l},u.map(function(e){return g.default.createElement("option",{value:e.value,label:e.value,key:e.value},e.value)})))),g.default.createElement("div",{"data-automation-id":"filter-date-time-tense-select-wrap"},g.default.createElement(N.default,{onChange:this.onValue3Change,value:i},this.getAvailableDateTimeTenses().map(function(e){return g.default.createElement("option",{value:e.id,label:e.name,key:e.id},e.name)}))),0===n?g.default.createElement("div",{className:"warning shift clearfix"},g.default.createElement("span",{className:"warning-icon"},g.default.createElement("i",{className:"icon-main common-warncircle-white-small"})),g.default.createElement("span",{className:"warning-text"},g.default.createElement("span",null,'Will set this filter to "today"'))):null):null):null,"item-ref"===o||"item-ref-set"===o?g.default.createElement("div",{className:"input-item-ref"},r?g.default.createElement("div",null,c.length>0?g.default.createElement("div",null,g.default.createElement(N.default,{value:n,onChange:this.onValueChange},c.map(function(e){return g.default.createElement("option",{value:e.value,label:e.label,key:e.value},e.lightning?g.default.createElement("i",{className:"icon-main lightning"}):null,g.default.createElement("span",null,e.label))}))):null):null):null,"option"===o?g.default.createElement("div",{className:"input-option"},r?g.default.createElement("div",null,f.length>0?g.default.createElement("div",null,g.default.createElement(N.default,{value:n,onChange:this.onValueChange},f.map(function(e){return g.default.createElement("option",{value:e.id,label:e.name,key:e.id},e.name)}))):null):null):null))}},{key:"render",value:function(){var e=this.state.fieldPath,t=this.getHelpText();return g.default.createElement("div",{className:"param-panel settings-panel"},g.default.createElement("div",{className:"inner"},g.default.createElement("div",{className:"kit-panel"},t&&g.default.createElement("div",{className:"help-text"},t),g.default.createElement("div",{className:"query-param"},g.default.createElement("div",{className:"field","data-automation-id":"filter-field-select-wrap"},g.default.createElement(N.default,{value:e,label:this.getFieldLabel(),onChange:this.onFieldChange},this.getFieldOptions().map(function(e){return g.default.createElement(N.FancyOption,{value:e.value,label:e.name,readOnly:e.readOnly,key:e.readOnly?e.name:e.value,nested:e.nested},e.nested?g.default.createElement("i",{className:"sprite-main"}):null,g.default.createElement("span",{className:"label"},e.name),e.humanizedType?g.default.createElement("span",{className:"type"},e.humanizedType):null)}))),this.renderFields(),this.hasFieldConflict()?g.default.createElement("div",{className:"field-value warning clearfix","data-automation-id":"filter-already-used-warning"},g.default.createElement("span",{className:"warning-icon"},g.default.createElement("i",{className:"icon-main common-warning-yellow-small"})),g.default.createElement("span",{className:"warning-text"},this.fieldConflictText())):null),g.default.createElement("div",{className:"kit-field add"},g.default.createElement("div",{className:"kit-button has-text","data-automation-id":"filter-save-button",onClick:this.onSave},"Save")))))}}]),ParamPanel}(g.default.Component);t.default=U},2069:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(0,a(330).Record)({property:"",ascending:!0,open:!1,mint:!1});t.default=n},2070:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.parseSorts=t.parseQuery=void 0;var l=n(a(376)),i=n(a(338)),o=a(330),r=n(a(1278)),s=n(a(2069)),d=a(354),u=a(678),c=a(388),f=a(508),m=a(431),g=function(e,t){return function(e,t){var a=(0,u.getOperatorsByName)(e).find(function(e){return void 0!==e.value&&e.value===t});return a?a.id:null}(e,t)||(0,u.getOperatorsByName)(e)[0].id},p=function(e){var t=(0,u.getOperatorById)(e);return t?t.name:void 0},h={ago:m.PAST,future:m.FUTURE,"from now":m.FUTURE,past:m.PAST},v=function(e,t,a,n){var l=(n=String(n)).match(/^([0-9]+) (days|weeks|months|years)/);if(!l)return t;var o=n.match(/in the (past|future)$/),s=n.match(/(ago|from now)/),d=o?o[1]:s?s[1]:void 0,u=(0,i.default)(l,3),c=u[1],f=u[2];return(0,r.default)({fieldPath:a,operator:e,value:parseInt(c,10)||0,value2:f,value3:d?h[d]:m.PAST})};t.parseQuery=function(e){var t=e.json,a=e.collectionId,n=e.allCollections;return function(e){if(!e)return(0,o.List)();var t=Object.entries(e).map(function(e){var t=(0,i.default)(e,2);return{fieldPath:t[0],value:t[1]}});return(0,o.List)(t)}(t).flatMap(function(e){var t=e.fieldPath,i=e.value;if("object"!==(0,l.default)(i))return function(e,t){(0,d.reportBug)("DynamoQueryOldFormat","During query parse",{query:t},{skipConsole:!0});var a=p(u.OPERATOR_EQ);return(0,o.List)([(0,r.default)({fieldPath:e,operator:a?g(a,t):void 0,value:t,value2:null,value3:null})])}(t,i);var s=function(e,t){return(0,o.List)(Object.keys(t).map(function(a){var n=t[a];return(0,r.default)({fieldPath:e,operator:g(a,n),value:n,value2:null,value3:null})}))}(t,i);return"Date"===function getFieldType(e,t,a){var n=a.find(function(e){return e._id===t});if(!n)return null;var l=n.fields,i=(0,f.isFieldOfItemRef)(e)?(0,f.getItemRefSlug)(e):(0,f.getValueFieldSlug)(e),o=l.find(function(e){return e.get("slug")===i});if(!o)return null;var r=o.get("type");if("ItemRef"===r&&(0,f.isFieldOfItemRef)(e)){var s=(0,c.itemRefTargetCollectionId)(o);return getFieldType((0,f.getValueFieldSlug)(e),s,a)}return r}(t,a,n)?function(e,t,a){var n=p(u.OPERATOR_GTE),l=p(u.OPERATOR_LTE);return e.map(function(e){var i=e.operator;if(i===u.OPERATOR_GTE){var o=a[n];return"today"===o?(0,r.default)({fieldPath:t,operator:u.OPERATOR_GTE,value:0,value2:"days",value3:m.PAST}):"tomorrow"===o?(0,r.default)({fieldPath:t,operator:u.OPERATOR_GTE,value:1,value2:"days",value3:m.FUTURE}):v(u.OPERATOR_GTE,e,t,o)}if(i===u.OPERATOR_LTE){var s=a[l];return"today"===s||"end of today"===s?(0,r.default)({fieldPath:t,operator:u.OPERATOR_LTE,value:0,value2:"days",value3:m.PAST}):"end of yesterday"===s?(0,r.default)({fieldPath:t,operator:u.OPERATOR_LTE,value:1,value2:"days",value3:m.PAST}):v(u.OPERATOR_LTE,e,t,s)}return e})}(s,t,i):s})};t.parseSorts=function(e){var t=e.map(function(e){var t=e.match(/^(\-?)(.*)$/);if(null===t)return null;var a=!t[1],n=t[2];return(0,s.default)({property:n,ascending:a})}).filter(Boolean);return(0,o.List)(t)}},2071:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(320)),i=a(331),o=a(350),r=a(353),s=n(a(477)),d=a(336),u=(0,i.styled)(o.FlexRow)(function(e){var t=e.theme,a=t.colors,n=t.gutters,l=t.control;return{justifyContent:"space-between",background:a.backgroundDeepAlt,border:"".concat(l.borderWidth,"px solid ").concat(a.backgroundDeep),padding:n.normal,borderRadius:l.borderRadius}},{checked:function(e){var t=e.theme.control;return{borderRadius:"".concat(t.borderRadius,"px ").concat(t.borderRadius,"px 0 0")}}}),c=(0,i.styledDiv)(function(e){var t=e.theme,a=t.colors,n=t.gutters,l=t.control;return{background:a.backgroundDeepAlt,border:"".concat(l.borderWidth,"px solid ").concat(a.backgroundDeep),borderTop:"none",padding:n.normal,borderRadius:l.borderRadius}},{checked:function(e){var t=e.theme.control;return{borderRadius:"0 0 ".concat(t.borderRadius,"px ").concat(t.borderRadius,"px")}}}),f=(0,i.styled)("span")(function(e){var t=e.theme;return{lineHeight:"".concat(t.lineHeights.copy,"px")}}),m=(0,d.singleMemo)(function(e){return l.default.createElement(f,null,e)}),g=function(e){var t=e.checked,a=e.children,n=e.dataAutomationIdToggle,i=e.finePrint,o=e.label,d=e.onClick;return l.default.createElement(l.default.Fragment,null,l.default.createElement(u,{checked:t},l.default.createElement(s.default,{checked:t,dataAutomationId:n,label:m(o),onClick:d}),i?l.default.createElement(r.FinePrint,{checked:t,dim:!0},i):null),t?l.default.createElement(c,{checked:t},a):null)};t.default=g},2072:function(e,t,a){"use strict";var n=a(320).createElement;e.exports=function(e){var t=e.scale||1;return n("svg",{"data-icon":"LockSmall","aria-hidden":!0,focusable:!1,width:10*t,height:12*t,viewBox:"0 0 10 12",y:null!=e.y?e.y:null,x:null!=e.x?e.x:null,className:"bem-Svg"+(e.className?" "+e.className:""),style:Object.assign({display:"block",transform:"translate(0,0)"},e.style)},n("path",{fill:"currentColor",d:"M8 5.28V4c0-1.65-1.35-3-3-3S2 2.35 2 4v1.28c-.594.347-1 .985-1 1.72v3.5c0 .174.03.34.072.5H8.93c.04-.16.07-.326.07-.5V7c0-.735-.406-1.373-1-1.72zM6 8.2c0 .44-.36.8-.8.8h-.4c-.44 0-.8-.36-.8-.8v-.4c0-.44.36-.8.8-.8h.4c.44 0 .8.36.8.8v.4zM6.7 5H3.3V4c0-.937.763-1.7 1.7-1.7s1.7.763 1.7 1.7v1z"}))},e.exports.displayName="Svg(LockSmall)"},5170:function(e,t,a){"use strict";var n=a(323),l=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=l(a(321)),o=l(a(322)),r=l(a(327)),s=l(a(326)),d=l(a(328)),u=l(a(342)),c=n(a(320)),f=a(339),m=a(460),g=l(a(534)),p=a(374),h=a(345),v=a(549),S=n(a(1900)),E=l(a(1898)),N=l(a(1233)),C=l(a(5171)),b=l(a(5173)),y=l(a(5174)),k=l(a(5177)),I=l(a(5178)),T=l(a(5179)),A=l(a(5180)),_=l(a(5181)),x=l(a(5184)),P=l(a(5185)),R=l(a(5186)),O=l(a(5187)),D=l(a(5188)),F=l(a(5189)),w=l(a(5190)),M=l(a(5196)),L=l(a(5199)),U=l(a(1961)),V=l(a(5201)),B=l(a(5202)),H=l(a(5203)),G=l(a(5206)),q=l(a(5207)),Q=l(a(5208)),W=l(a(5210)),j=l(a(5211)),z=l(a(5212)),Y=l(a(5213)),K=l(a(5214)),X=l(a(5220)),Z=l(a(5221)),J=l(a(5222)),$=l(a(5224)),ee=l(a(5225)),te=l(a(5226)),ae=l(a(5227)),ne=l(a(5233)),le=l(a(5235)),ie=l(a(5236)),oe=l(a(5237)),re=l(a(1971)),se=l(a(5238)),de=l(a(1970)),ue=l(a(1972)),ce=l(a(5239)),fe=l(a(5240)),me=a(447),ge=a(844),pe=a(340),he=a(361),ve=l(a(5242)),Se=a(5244),Ee=a(530),Ne=a(1973),Ce=l(a(5245)),be=a(485),ye=a(670),ke=a(385),Ie=a(349),Te=a(386),Ae=a(987),_e=a(1980),xe=function(e){var t=e.children,a=e.title,n=e.settingsSectionFlags,l=e.toggleSettingsSection,i=e.name;return c.createElement(be.SectionContainer,{showBottomBorder:!0,expandable:!0,expanded:void 0===n[i]||n[i],onHeadingClick:function(){l(i)},label:a},t)},Pe=function(e){var t=e.abstractNodeState,a=e.abstractNode,n=e.contextType,l=e.settingsSectionFlags,i=e.toggleSettingsSection,o=e.dispatch;if(!a.type)return null;var r=a.type,s=(0,pe.isSymbolInst)(a)?"Symbol Instance":"".concat((0,m.getNodeComponentLabel)(a)," Settings");return c.createElement(xe,{title:s,settingsSectionFlags:l,toggleSettingsSection:i,name:r},c.createElement(Ne.AtomSettings,{abstractNodeState:t,abstractNode:a,contextType:n,dispatch:o}))},Re=function(e){return Boolean(e.BetaFeatureStore&&e.BetaFeatureStore.contentOverrides)},Oe=c.memo(function(e){var t=e.abstractNode,a=e.abstractNodeState,n=e.collectionState,l=e.dispatch,i=e.settingsSectionFlags,o=e.toggleSettingsSection,r=(0,ke.getAtom)(t),s=(0,v.getContextType)(n.collections),d=t&&r?(0,ye.gatherRelatedNodes)(a.root,(0,Ie.getParent)(a.root,t.id),t,(0,ke.getPluginContext)()):[],f=(0,Te.useDesignerSelector)(Re);return[].concat((0,u.default)(d),[t]).filter(function(e){return(0,Ae.showAtomDataTypeSettings)(e,a,f)}).map(function(e){return c.createElement(Pe,{abstractNode:e,abstractNodeState:a,contextType:s,dispatch:l,key:e.id,settingsSectionFlags:i,toggleSettingsSection:o})})}),De=(0,f.container)(function(e){return{abstractNodeState:e.AbstractNodeStore,assetState:e.AssetStore,assetUiState:e.AssetManagerUIStore,betaFeatureState:e.BetaFeatureStore,bindingContextState:e.BindingContextStore,blockerFlags:(0,ge.compute)(e),collectionState:e.CollectionStore,commerceState:e.CommerceStore,dataManagerUIState:e.DataManagerUIStore,designerState:e.DesignerStore,externalState:e.ExternalStore,ix2State:e.IX2UiStore,notificationState:e.NotificationStore,pageManagerState:e.PageManagerUIStore,pageState:e.PageStore,searchState:e.SearchStore,settingsUIState:e.SettingsUIStore,siteDataState:e.SiteDataStore,styleBlockState:e.StyleBlockStore,tabState:e.TabStore,uiNodeState:e.UiNodeStore,uiState:e.UiStore}})(function(e){function SettingsTab(){return(0,i.default)(this,SettingsTab),(0,r.default)(this,(0,s.default)(SettingsTab).apply(this,arguments))}return(0,d.default)(SettingsTab,e),(0,o.default)(SettingsTab,[{key:"selectedNodeMetadata",value:function(){var e=this.props,t=e.abstractNodeState,a=e.styleBlockState,n=e.uiNodeState,l=(0,h.getAbstractNode)(t,n.selectedNodeNativeId),i={tag:"div",label:"None Selected"};return l&&((i=(0,m.getNodeMetadata)(l,t,a)).label="".concat(i.label," Settings")),i}},{key:"render",value:function(){var e=this.props,t=e.flux,a=e.externalState,n=e.tabState,l=t.dispatch,i=this.props,o=i.abstractNodeState,r=i.uiNodeState.selectedNodeNativeId,s=i.designerState,d=s.currentPageId,u=s.permanentlyDismissedNotes,f=i.searchState,Ne=i.uiNodeState,be=i.collectionState,ye=i.assetState,ke=i.assetUiState,Ie=i.pageState,Te=i.settingsUIState,Ae=i.pageManagerState,xe=i.betaFeatureState,Pe=i.siteDataState,Re=i.uiState,De=i.styleBlockState,Fe=i.designerState,we=i.commerceState,Me=i.ix2State,Le=i.dataManagerUIState,Ue=(0,h.getAbstractNode)(o,Ne.selectedNodeNativeId),Ve=t.__DEPRECATED__getCreators("ExternalActionCreators"),Be=(0,me.cleanUpBindingContextForSymbols)(this.props.bindingContextState,o,Ne),He=Boolean(f.lastSearchIndex),Ge=Be.inCommerceProductOptionsContext,qe=Be.inCommerceCartContext,Qe=(0,v.getSettingsFlags)(r,o,Be,xe),We={stores:{abstractNode:o,collection:be,bindingContext:Be,external:a,uiNode:Ne,asset:ye},actions:{external:t.__DEPRECATED__getCreators("ExternalActionCreators")},dispatch:l,permanentlyDismissedNotes:u},je={stores:{abstractNode:o,external:a,uiNode:Ne},actions:{external:t.__DEPRECATED__getCreators("ExternalActionCreators")},dispatch:l},ze={stores:{abstractNode:o,asset:ye,assetUi:ke,page:Ie,pageManager:Ae,collection:be,bindingContext:Be,settingsUI:Te,external:a,uiNode:Ne,betaFeatures:xe,siteData:Pe},actions:{external:t.__DEPRECATED__getCreators("ExternalActionCreators"),ui:t.__DEPRECATED__getCreators("UiActionCreators"),confirm:t.__DEPRECATED__getCreators("__DEPRECATED__ConfirmActionCreators")},dispatch:l,permanentlyDismissedNotes:u},Ye={stores:{abstractNode:o,external:a,uiNode:Ne,ui:Re,collection:be,bindingContext:Be,asset:ye,assetUi:ke,betaFeature:xe},actions:{ui:t.__DEPRECATED__getCreators("UiActionCreators"),notification:t.__DEPRECATED__getCreators("NotificationActionCreators"),external:t.__DEPRECATED__getCreators("ExternalActionCreators")},dispatch:l,permanentlyDismissedNotes:u},Ke={stores:{abstractNode:o,collection:be,bindingContext:Be,external:a,uiNode:Ne},actions:{bindingContext:t.__DEPRECATED__getCreators("BindingContextActionCreators"),external:t.__DEPRECATED__getCreators("ExternalActionCreators")},dispatch:l},Xe={stores:{abstractNode:o,external:a,uiNode:Ne},actions:{external:t.__DEPRECATED__getCreators("ExternalActionCreators")},dispatch:l},Ze={dispatch:l,stores:{abstractNode:o,asset:ye,assetUI:ke,bindingContext:Be,collection:be,uiNode:Ne},actions:{openAssetManagerTab:t.__DEPRECATED__getCreators("UiActionCreators").openAssetManagerTab},settingsSectionFlags:a.settingsSectionFlags,toggleSettingsSection:Ve.toggleSettingsSection},Je={stores:{abstractNode:o,external:a,uiNode:Ne},actions:{bindingContext:t.__DEPRECATED__getCreators("BindingContextActionCreators"),external:t.__DEPRECATED__getCreators("ExternalActionCreators")},dispatch:l},$e={stores:{external:a,page:Ie,uiNode:Ne},actions:{external:t.__DEPRECATED__getCreators("ExternalActionCreators"),page:t.__DEPRECATED__getCreators("PageActionCreators"),ui:t.__DEPRECATED__getCreators("UiActionCreators"),pageManager:t.__DEPRECATED__getCreators("PageManagerActionCreators")},currentPageId:d},et={stores:{abstractNode:o,external:a,uiNode:Ne,siteData:Pe,ui:Re},actions:{external:t.__DEPRECATED__getCreators("ExternalActionCreators"),ui:t.__DEPRECATED__getCreators("UiActionCreators")},isIndexed:He,dispatch:l},tt={stores:{abstractNode:o,collection:be,bindingContext:Be,external:a,uiNode:Ne},actions:{bindingContext:t.__DEPRECATED__getCreators("BindingContextActionCreators"),external:t.__DEPRECATED__getCreators("ExternalActionCreators")},dispatch:l,permanentlyDismissedNotes:u},at={stores:{abstractNode:o,external:a,uiNode:Ne},actions:{external:t.__DEPRECATED__getCreators("ExternalActionCreators"),navigateToSiteIntegrations:t.__DEPRECATED__getCreators("WidgetBridgeActionCreators").navigateToSiteIntegrations},dispatch:l},nt={stores:{abstractNode:o,external:a,uiNode:Ne},actions:{external:t.__DEPRECATED__getCreators("ExternalActionCreators")},dispatch:l},lt=Ue?(0,m.getNodeMetadata)(Ue,o,De).label:"element",it={stores:{abstractNode:o,uiNode:Ne,page:Ie,external:a,ui:Re,bindingContextState:Be,collectionState:be},actions:{external:t.__DEPRECATED__getCreators("ExternalActionCreators"),pageManager:t.__DEPRECATED__getCreators("PageManagerActionCreators"),ui:t.__DEPRECATED__getCreators("UiActionCreators")},selectedNodeLabel:lt,dispatch:l,currentPageId:d,permanentlyDismissedNotes:u},ot={stores:{abstractNode:o,collection:be,bindingContext:Be,uiNode:Ne,siteData:Pe,external:a,designer:Fe,page:Ie,commerceState:we,dataManagerUI:Le,styleBlock:De,asset:ye},actions:{ui:t.__DEPRECATED__getCreators("UiActionCreators"),external:t.__DEPRECATED__getCreators("ExternalActionCreators")},dispatch:l},rt={stores:{abstractNode:o,collection:be,bindingContext:Be,uiNode:Ne,external:a},actions:{external:t.__DEPRECATED__getCreators("ExternalActionCreators")},dispatch:l},st={stores:{abstractNode:o,collection:be,bindingContext:Be,external:a,uiNode:Ne,asset:ye},actions:{external:t.__DEPRECATED__getCreators("ExternalActionCreators")},dispatch:l,permanentlyDismissedNotes:u},dt={stores:{abstractNode:o,uiNode:Ne,external:a,styleBlock:De,designer:Fe,page:Ie,ix2:Me,collection:be},actions:{external:t.__DEPRECATED__getCreators("ExternalActionCreators")},dispatch:l},ut={stores:{abstractNode:o,uiNode:Ne,external:a},actions:{external:t.__DEPRECATED__getCreators("ExternalActionCreators")},dispatch:l},ct={stores:{abstractNode:o,uiNode:Ne,external:a},actions:{external:t.__DEPRECATED__getCreators("ExternalActionCreators")},dispatch:l},ft={stores:{abstractNode:o,styleBlock:De,uiNode:Ne,external:a},actions:{external:t.__DEPRECATED__getCreators("ExternalActionCreators")},dispatch:l},mt={stores:{abstractNode:o,styleBlock:De,uiNode:Ne,external:a},actions:{external:t.__DEPRECATED__getCreators("ExternalActionCreators")},dispatch:l},gt={stores:{abstractNode:o,uiNode:Ne,external:a},actions:{external:t.__DEPRECATED__getCreators("ExternalActionCreators")},dispatch:l},pt={stores:{abstractNode:o,uiNode:Ne,external:a},actions:{uiNode:t.__DEPRECATED__getCreators("UiNodeActionCreators"),external:t.__DEPRECATED__getCreators("ExternalActionCreators")},dispatch:l},ht={stores:{abstractNode:o,external:a,uiNode:Ne},actions:{external:t.__DEPRECATED__getCreators("ExternalActionCreators")},dispatch:l},vt={stores:{abstractNode:o,external:a,uiNode:Ne},actions:{external:t.__DEPRECATED__getCreators("ExternalActionCreators")},dispatch:l},St={abstractNode:Ue,stores:{external:a},actions:{embedEditor:t.__DEPRECATED__getCreators("EmbedEditorActionCreators"),external:t.__DEPRECATED__getCreators("ExternalActionCreators")}},Et={stores:{abstractNode:o,asset:ye,external:a,uiNode:Ne},actions:{external:t.__DEPRECATED__getCreators("ExternalActionCreators")},dispatch:l},Nt={stores:{abstractNode:o,uiNodeState:Ne,external:a},actions:{external:t.__DEPRECATED__getCreators("ExternalActionCreators")},dispatch:l},Ct={stores:{abstractNode:o,uiNode:Ne,external:a},actions:{external:t.__DEPRECATED__getCreators("ExternalActionCreators"),uiNode:t.__DEPRECATED__getCreators("UiNodeActionCreators")},dispatch:l},bt={abstractNodeState:this.props.abstractNodeState,uiNodeState:this.props.uiNodeState,collectionState:be,settingsSectionFlags:this.props.externalState.settingsSectionFlags,toggleSettingsSection:t.__DEPRECATED__getCreators("ExternalActionCreators").toggleSettingsSection,dispatch:l},yt={abstractNodeState:this.props.abstractNodeState,uiNodeState:this.props.uiNodeState,commerceState:we,uiState:Re,settingsSectionFlags:this.props.externalState.settingsSectionFlags,toggleSettingsSection:t.__DEPRECATED__getCreators("ExternalActionCreators").toggleSettingsSection,toggleLeftSidebarTab:t.__DEPRECATED__getCreators("UiActionCreators").toggleLeftSidebarTab,dispatch:l},kt={abstractNodeState:this.props.abstractNodeState,uiNodeState:this.props.uiNodeState,collectionState:be,settingsSectionFlags:this.props.externalState.settingsSectionFlags,toggleSettingsSection:t.__DEPRECATED__getCreators("ExternalActionCreators").toggleSettingsSection,dispatch:l},It={abstractNodeState:this.props.abstractNodeState,uiNodeState:this.props.uiNodeState,settingsSectionFlags:this.props.externalState.settingsSectionFlags,toggleSettingsSection:t.__DEPRECATED__getCreators("ExternalActionCreators").toggleSettingsSection,dispatch:l},Tt={abstractNodeState:this.props.abstractNodeState,uiNodeState:this.props.uiNodeState,settingsSectionFlags:this.props.externalState.settingsSectionFlags,toggleSettingsSection:t.__DEPRECATED__getCreators("ExternalActionCreators").toggleSettingsSection,dispatch:l},At=Ue&&(0,pe.isCommerceOptionListOrItem)(Ue),_t=qe?"Cart List Settings":"Order Items Settings",xt={abstractNodeState:this.props.abstractNodeState,uiNodeState:this.props.uiNodeState,settingsSectionFlags:this.props.externalState.settingsSectionFlags,toggleSettingsSection:t.__DEPRECATED__getCreators("ExternalActionCreators").toggleSettingsSection,dispatch:l,title:At?"Option List Settings":_t,collectionName:At?"Product Options":"Products"},Pt={abstractNodeState:this.props.abstractNodeState,toggleSettingsSection:t.__DEPRECATED__getCreators("ExternalActionCreators").toggleSettingsSection,settingsSectionFlags:this.props.externalState.settingsSectionFlags,selectedNodeNativeId:r,dispatch:l},Rt={abstractNodeState:this.props.abstractNodeState,uiNodeState:this.props.uiNodeState,settingsSectionFlags:this.props.externalState.settingsSectionFlags,toggleSettingsSection:t.__DEPRECATED__getCreators("ExternalActionCreators").toggleSettingsSection,dispatch:l},Ot={abstractNodeState:this.props.abstractNodeState,selectedNodeNativeId:r,collectionState:this.props.collectionState,settingsSectionFlags:this.props.externalState.settingsSectionFlags,toggleSettingsSection:t.__DEPRECATED__getCreators("ExternalActionCreators").toggleSettingsSection,dispatch:l},Dt=Qe.pagination&&Ue?(0,Se.buildPaginationSettingsProps)({selectedNode:Ue,abstractNodeState:this.props.abstractNodeState,dispatch:l,settingsSectionFlags:this.props.externalState.settingsSectionFlags,toggleSettingsSection:t.__DEPRECATED__getCreators("ExternalActionCreators").toggleSettingsSection}):null,Ft=this.selectedNodeMetadata(),wt=Be.inCommerceOrderContext,Mt=Be.inCommerceShippingMethodsContext,Lt=xe.contentOverrides,Ut=(0,ge.has)(this.props.blockerFlags,ge.NoNodeSelected)||(0,ge.has)(this.props.blockerFlags,ge.SymbolSelected)&&!1===Lt,Vt=Ue&&(0,he.isInsideRepeaterListItem)(Ue)(o.root),Bt=(0,Ee.getLiveAbstractNodeState)(Fe,o),Ht=Ue?(0,h.getAbstractNode)(Bt,Ue.id):null,Gt=Ht&&(0,he.isInsideSymbol)(o.root)(Ht),qt=(0,_e.showLegacyMiniSettings)(Ht,o,Lt);return c.createElement("div",{className:"settings-tab kit-sidebar-tab",key:r,"data-automation-id":"right-sidebar-settings-tab"},n.showHighlight?c.createElement("div",{className:"panel-highlight"}):null,c.createElement("div",{className:"kit-sidebar-top-section"},Ue&&Ft?c.createElement(S.default,{icon:c.createElement(g.default,{abstractNodeState:o,abstractNode:Ue}),label:Ft.label}):c.createElement(S.NoneSelectedNodeTitle,null),Qe.general&&Ue?c.createElement(C.default,{abstractNode:Ue,selectedNodeGuid:(0,p.getGuid)(Ne.selectedNodeNativeId),abstractNodeState:o,contentOverridesEnabled:Lt,dispatch:l,settingsFlags:Qe,permanentlyDismissedNotes:u}):null),Ut?c.createElement(E.default,{abstractNode:Ue,abstractNodeState:this.props.abstractNodeState,flags:this.props.blockerFlags,designerState:this.props.designerState}):null,Ue?c.createElement(N.default,null,Ht&&Gt&&r&&d&&Lt&&(0,pe.isSymbolRoot)(Ht)&&c.createElement(Ce.default,null),Ht&&c.createElement(Oe,{abstractNode:Ht,abstractNodeState:Bt,collectionState:be,dispatch:l,settingsSectionFlags:a.settingsSectionFlags,toggleSettingsSection:Ve.toggleSettingsSection}),Qe.image&&qt?c.createElement(I.default,Ye):null,Qe.heading?c.createElement(b.default,We):null,Qe.innerText?c.createElement(P.default,tt):null,Qe.grid?c.createElement(U.default,dt):null,Qe.video?c.createElement(T.default,Ke):null,Qe.youTubeVideo?c.createElement(A.default,Xe):null,Qe.map?c.createElement(F.default,at):null,Qe.gplus?c.createElement(W.default,ht):null,Qe.twitter?c.createElement(j.default,vt):null,Qe.slider?c.createElement(Q.default,pt):null,Qe.link&&qt?c.createElement(k.default,ze):null,Qe.dropdown?c.createElement(q.default,gt):null,Qe.lightbox?c.createElement(_.default,Ze):null,Qe.navbar?c.createElement(G.default,mt):null,Qe.tabs?c.createElement(H.default,ft):null,Qe.embed?c.createElement(z.default,St):null,Qe.backgroundVideo?c.createElement(X.default,Et):null,!Qe.input||Qe.passwordPageFormInput||Qe.searchInput?null:c.createElement(x.default,Je),Qe.passwordPageFormInput&&Ne.selectedNodeNativeId?c.createElement(ee.default,{stores:{abstractNode:o,uiNodeState:Ne,external:a},actions:{external:t.__DEPRECATED__getCreators("ExternalActionCreators")},dispatch:l}):null,Qe.checkbox?c.createElement(B.default,ut):null,Qe.radio?c.createElement(V.default,ct):null,Qe.form&&!Qe.passwordPageForm?c.createElement(R.default,{abstractNode:Ue,abstractNodeState:o,dispatch:l,toggleSettingsSection:Ve.toggleSettingsSection,settingsSectionFlags:a.settingsSectionFlags}):null,Qe.formFileUpload&&r?c.createElement(O.default,{externalActions:t.__DEPRECATED__getCreators("ExternalActionCreators"),externalState:a,abstractNodeState:o,dispatch:l,selectedNodeNativeId:r}):null,Qe.formFileUploadError&&r?c.createElement(D.default,{externalActions:t.__DEPRECATED__getCreators("ExternalActionCreators"),externalState:a,abstractNodeState:o,dispatch:l,selectedNodeNativeId:r}):null,Qe.passwordPageForm?c.createElement($.default,Nt):null,Qe.insideSearchForm?c.createElement(Y.default,$e):null,Qe.insideSearchResultWrapper?c.createElement(K.default,et):null,Qe.addToCartButton?c.createElement(re.default,Pt):null,Qe.commerceCartCheckoutButton?c.createElement(de.default,Pt):null,Qe.commerceCheckoutPlaceOrderButton?c.createElement(ue.default,Pt):null,Qe.addToCartForm?c.createElement(te.default,Ct):null,Qe.commerceCartButtonSettings?c.createElement(ie.default,It):null,Qe.commerceCartButtonItemCountSettings?c.createElement(le.default,Tt):null,Qe.commerceLockedDynlistSettings?c.createElement(oe.default,xt):null,Qe.commerceQuickCheckoutActions?c.createElement(fe.default,yt):null,Qe.commerceCartWrapper?c.createElement(ae.default,bt):null,Qe.commerceCheckoutShippingMethodsWrapper?c.createElement(ne.default,kt):null,Qe.commerceCheckoutPaymentInfoWrapper?c.createElement(se.default,Rt):null,Qe.commerceOrderItems?c.createElement(ce.default,Ot):null,Qe.pagination&&Dt?c.createElement(ve.default,Dt):null,Qe.dynList?c.createElement(w.default,ot):null,!Qe.dynStyle||wt||Mt||Ge?null:c.createElement(L.default,st),Qe.condVis&&!Vt?c.createElement(M.default,rt):null,c.createElement(y.default,je),Qe.searchIndexableNode?c.createElement(J.default,it):null,Qe.contributor?c.createElement(Z.default,nt):null):null)}}]),SettingsTab}(c.Component));t.default=De},5171:function(e,t,a){"use strict";var n=a(323),l=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=l(a(321)),o=l(a(322)),r=l(a(327)),s=l(a(326)),d=l(a(332)),u=l(a(328)),c=l(a(324)),f=l(a(320)),m=a(330),g=l(a(381)),p=l(a(329)),h=l(a(436)),v=l(a(645)),S=l(a(448)),E=a(366),N=a(408),C=a(660),b=a(360),y=n(a(340)),k=a(416),I=n(a(450)),T=a(467),A=a(5172),_=a(426),x=["div","header","footer","nav","main","section","article","aside","address","figure"],P="DISMISS_PHASE_OUT_VISABILITY_UI_NOTE",R=function(e){return e.abstractNode?e.abstractNode.data.getIn(["attr","id"],""):""},O=function(e){var t=e&&e.data.get("vis")||(0,m.Map)();return k.DEFAULT_MEDIA_QUERY_KEYS.some(function(e){return!1===t.get(e)})},D={color:"#F8D64A"},F=function(e){function GeneralSettings(){var e,t;(0,i.default)(this,GeneralSettings);for(var a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return t=(0,r.default)(this,(e=(0,s.default)(GeneralSettings)).call.apply(e,[this].concat(n))),(0,c.default)((0,d.default)(t),"state",{_abstractNode:t.props.abstractNode,id:R(t.props),idTaken:!1,idReserved:!1,idInvalid:!1,isVisibilitySetInitially:O(t.props.abstractNode)}),(0,c.default)((0,d.default)(t),"onIdChange",function(e){var a=I.toStringId(e),n=t.props.abstractNodeState,l=t.props.selectedNodeGuid;t.setState({id:e,idTaken:!!a&&(0,T.isIdTaken)(n,a,l),idReserved:!!a&&I.isReservedId(a),idInvalid:""!==e&&null===a})}),(0,c.default)((0,d.default)(t),"onIdCommit",function(){var e=t.state.id,a=I.toStringId(e);a!==R(t.props)&&t.props.dispatch((0,A.generalIdChanged)({id:a})),null===a&&t.setState({id:"",idInvalid:!1})}),(0,c.default)((0,d.default)(t),"onTagChange",function(e){t.props.dispatch((0,A.generalTagChanged)({tag:e}))}),(0,c.default)((0,d.default)(t),"onDismissVisabilityNote",function(){t.props.dispatch((0,_.dismissNote)({id:P}))}),(0,c.default)((0,d.default)(t),"renderVisibility",function(){var e=t.props.permanentlyDismissedNotes,a=t.state.isVisibilitySetInitially,n=t.getVisibility(),l=!a,i=!e.has(P);return a||i?f.default.createElement(f.default.Fragment,null,f.default.createElement("div",{className:"kit-field visibility"},f.default.createElement("div",{className:"kit-label"},f.default.createElement("a",{className:"link"},f.default.createElement("i",{className:"icon-main common-eye-visible"}))),f.default.createElement("div",{className:"kit-radio-buttons kit-input-control clearfix"},f.default.createElement(S.default,{content:"Desktop",placement:"bottom",hideOn:"click"},f.default.createElement("div",{className:(0,g.default)("kit-button kit-radio-button vis-main",{active:n.get("main"),disabled:l}),onClick:l?p.default.noop:t.onToggleVisibility("main")},f.default.createElement("i",{className:"icon-main device-laptop-small-white"}))),f.default.createElement(S.default,{content:"Tablet",placement:"bottom",hideOn:"click"},f.default.createElement("div",{className:(0,g.default)("kit-button kit-radio-button vis-medium",{active:n.get("medium"),disabled:l}),onClick:l?p.default.noop:t.onToggleVisibility("medium")},f.default.createElement("i",{className:"icon-main device-tablet-small-p-white"}))),f.default.createElement(S.default,{content:"Mobile Landscape",placement:"bottom",hideOn:"click"},f.default.createElement("div",{className:(0,g.default)("kit-button kit-radio-button vis-small",{active:n.get("small"),disabled:l}),onClick:l?p.default.noop:t.onToggleVisibility("small")},f.default.createElement("i",{className:"icon-main device-phone-small-l-white"}))),f.default.createElement(S.default,{content:"Mobile Portrait",placement:"bottom",hideOn:"click"},f.default.createElement("div",{className:(0,g.default)("kit-button kit-radio-button vis-tiny",{active:n.get("tiny"),disabled:l}),onClick:l?p.default.noop:t.onToggleVisibility("tiny")},f.default.createElement("i",{className:"icon-main device-phone-small-p-white"}))))),f.default.createElement("div",{className:"kit-title visibility"},f.default.createElement("span",null,t.getVisibilityPreText()),f.default.createElement("span",{className:"info"},t.getVisibilityText())),i&&f.default.createElement(E.Note,{marginTop:1,intent:"warning",callToActionText:"OK, hide this control",onCallToActionClick:t.onDismissVisabilityNote,control:f.default.createElement(N.Link,{style:D,onClick:t.onDismissVisabilityNote},"Ok, got it"),content:f.default.createElement(f.default.Fragment,null,"We’re removing this visibility control. But don’t worry! You can"," ",f.default.createElement("a",{href:"https://university.webflow.com/article/display-visibility",target:"_blank",rel:"noopener noreferrer"},"use the ",f.default.createElement("strong",null,"display")," property"," ",f.default.createElement("strong",null,"none"))," ","in the Style panel to hide elements.")})):null}),t}return(0,u.default)(GeneralSettings,e),(0,o.default)(GeneralSettings,[{key:"getVisibility",value:function(){var e=this.props.abstractNode,t=e&&e.data.get("vis")||(0,m.Map)();return k.DEFAULT_MEDIA_QUERIES.forEach(function(e){var a=e.key;p.default.isBoolean(t.get(a))||(t=t.set(a,!0))}),t}},{key:"getVisibilityPreText",value:function(){var e=this.getVisibility();return k.DEFAULT_MEDIA_QUERY_KEYS.filter(function(t){return e.get(t)}).length>0?"Visible on: ":"Visible in: "}},{key:"getVisibilityText",value:function(){var e=this.getVisibility(),t=k.DEFAULT_MEDIA_QUERY_KEYS.filter(function(t){return e.get(t)});return 4===t.length?"All Devices":0===t.length?"Your imagination : )":p.default.isEqual(t,["main"])?"Desktop only":p.default.isEqual(t,["main","medium"])?"Desktop & Tablet only":p.default.isEqual(t,["main","small","tiny"])?"Desktop & Phone only":p.default.isEqual(t,["medium","small","tiny"])?"Tablet & Phone only":p.default.isEqual(t,["medium"])?"Tablet only":p.default.isEqual(t,["small","tiny"])?"Phone only":p.default.isEqual(t,["small"])?"Phone Landscape only":p.default.isEqual(t,["tiny"])?"Phone Portrait only":p.default.isEqual(t,["main","medium","small"])?"Hide on Phone Portrait":p.default.isEqual(t,["main","medium","tiny"])?"Hide on Phone Landscape":"Custom"}},{key:"getTagDescription",value:function(e){switch(e){case"address":return"Defines contact information for a person or people, or for an organization";case"article":return"Defines an article";case"aside":return"Defines content aside from the page content, such as a sidebar";case"details":return"Defines additional details that the user can view or hide";case"div":return"The default, non-semantic tag";case"figcaption":return"Defines a caption for a <figure> element, such as a photo, illustration, graph, or code listing";case"figure":return"Specifies self-contained content, like illustrations, diagrams, photos, code listings, etc.";case"footer":return"Defines a footer for a document or section";case"header":return"Specifies a header for a document or section";case"main":return"Specifies the main content of a document";case"mark":return"Defines marked/highlighted text";case"nav":return"Defines a set of navigation links, such as those in your main site nav";case"section":return"Defines a section of a document";case"summary":return"Defines a visible heading for a <details> element";case"time":return"Defines a date/time";default:return null}}},{key:"onToggleVisibility",value:function(e){var t=this;return function(){t.props.dispatch((0,A.generalVisibilityToggled)({mediaQuery:e}))}}},{key:"render",value:function(){var e=this.props,t=e.settingsFlags,a=e.contentOverridesEnabled,n=this.state.id,l=this.props.abstractNode,i=y.isSymbolInst(l),o=y.isDynamoItem(l),r=y.isAnyCommerceDynListItem(l),s=(0,b.isRichTextContentNode)(this.props.abstractNodeState,this.props.selectedNodeGuid),d=!(i||o||r||s),u={float:"left",width:"192px"};return f.default.createElement("div",{className:"general-settings clearfix"},f.default.createElement("div",{className:"kit-divider top"}),f.default.createElement("div",{className:"kit-panel"},d?f.default.createElement("div",{className:"kit-field element-id"},f.default.createElement("div",{className:"kit-label"},"ID"),f.default.createElement(h.default,{className:"text-box","aria-label":"ID attribute input",placeholder:"For in-page linking",value:n,maxLength:200,onChange:this.onIdChange,onEnter:this.onIdCommit,onBlur:this.onIdCommit}),this.state.idTaken&&f.default.createElement(E.Note,{style:u,marginLeft:7,marginTop:2,intent:"warning",content:f.default.createElement(C.Text,null,"This ID is already taken.")}),this.state.idReserved&&f.default.createElement(E.Note,{style:u,marginLeft:7,marginTop:2,intent:"warning",content:f.default.createElement(C.Text,null,"This ID is reserved for Webflow features.")}),this.state.idInvalid&&f.default.createElement(E.Note,{style:u,marginLeft:7,marginTop:2,intent:"warning",content:f.default.createElement(C.Text,null,"This ID is not valid.")})):null,d&&t.block?f.default.createElement("div",{className:"block-settings kit-field"},f.default.createElement("div",{className:"kit-label"},"Tag"),f.default.createElement(v.default,{value:l.data.get("tag","div"),onCommit:this.onTagChange,footerDescriptionFunction:this.getTagDescription,title:"These tags help both browsers and developers understand an element's content."},x.map(function(e){return f.default.createElement("option",{value:e,key:e},p.default.capitalize(e))}))):null,d&&this.renderVisibility(),i&&!1===a?f.default.createElement("div",{className:"disabled-message"},f.default.createElement("span",null,"Editing ID and Visibility settings is disabled for symbol instances. You can either place this instance in a Div Block, or double-click the symbol to edit settings for all instances.")):null,o||r?f.default.createElement("div",{className:"disabled-message"},f.default.createElement("span",null,"Editing ID and Visibility settings is disabled for individual\n                ".concat(o?"Collection":"Ecommerce"," Items. You can select the parent ").concat(o?"Collection":"Ecommerce"," List to\n                edit these settings."))):null,s?f.default.createElement("div",{className:"disabled-message"},f.default.createElement("span",null,"Editing ID and Visibility settings is disabled for Rich Text children. You can select the parent Rich Text node to edit these settings.")):null))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.abstractNode!==t._abstractNode?{_abstractNode:e.abstractNode,id:R(e),idTaken:!1,idReserved:!1,idInvalid:!1,isVisibilitySetInitially:e.abstractNode.id===t._abstractNode.id?t.isVisibilitySetInitially:O(e.abstractNode)}:null}}]),GeneralSettings}(f.default.Component);t.default=F},5172:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generalVisibilityToggled=t.generalTagChanged=t.generalIdChanged=void 0;var n=a(357),l=a(333),i=(0,n.createAction)(l.GENERAL_SETTINGS_ID_CHANGED);t.generalIdChanged=i;var o=(0,n.createAction)(l.GENERAL_SETTINGS_TAG_CHANGED);t.generalTagChanged=o;var r=(0,n.createAction)(l.GENERAL_SETTINGS_VISIBILITY_TOGGLED);t.generalVisibilityToggled=r},5173:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(321)),i=n(a(322)),o=n(a(327)),r=n(a(326)),s=n(a(328)),d=n(a(320)),u=n(a(384)),c=n(a(1943)),f=function(e){function HeadingSettings(){return(0,l.default)(this,HeadingSettings),(0,o.default)(this,(0,r.default)(HeadingSettings).apply(this,arguments))}return(0,s.default)(HeadingSettings,e),(0,i.default)(HeadingSettings,[{key:"render",value:function(){var e=this.props,t=e.stores,a=e.actions,n=e.dispatch,l=e.permanentlyDismissedNotes;return d.default.createElement(u.default,{className:"heading-settings custom",name:"heading",title:"Heading Type",settingsSectionFlags:t.external.settingsSectionFlags,toggleSettingsSection:a.external.toggleSettingsSection},d.default.createElement(c.default,{stores:t,actions:a,dispatch:n,permanentlyDismissedNotes:l}))}}]),HeadingSettings}(d.default.Component);t.default=f},5174:function(e,t,a){"use strict";var n=a(323),l=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=l(a(321)),o=l(a(322)),r=l(a(327)),s=l(a(326)),d=l(a(332)),u=l(a(328)),c=l(a(324)),f=l(a(320)),m=l(a(330)),g=l(a(329)),p=l(a(384)),h=l(a(1276)),v=l(a(767)),S=l(a(5175)),E=n(a(355)),N=n(a(345)),C=n(a(5176)),b=a(713),y=m.default.Record({name:"",value:"",open:!1,mint:!1,oldName:void 0,oldValue:void 0}),k=function(e){function AttributeSettings(){var e,t;(0,i.default)(this,AttributeSettings);for(var a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return t=(0,r.default)(this,(e=(0,s.default)(AttributeSettings)).call.apply(e,[this].concat(n))),(0,c.default)((0,d.default)(t),"onAddClick",t.onAddClick.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onOpen",t.onOpen.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onClose",t.onClose.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onCommit",t.onCommit.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onChange",t.onChange.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"removeAttribute",t.removeAttribute.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"state",{attributes:m.default.List()}),t}return(0,u.default)(AttributeSettings,e),(0,o.default)(AttributeSettings,[{key:"UNSAFE_componentWillMount",value:function(){this.refreshAttributes()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.refreshAttributes(e)}},{key:"refreshAttributes",value:function(e){e=e||this.props;var t=this.getNode(e);if(t){var a=this.state.attributes,n=a.filter(function(e){return e.get("mint")}),l=t.getIn(["data","xattr"],m.default.List()).map(function(e,t){var n=a.getIn([t,"open"],!1);return y({name:e.get("name"),value:e.get("value"),open:n})}).concat(n);this.setState({attributes:l})}}},{key:"getNode",value:function(e){return e=e||this.props,N.getAbstractNode(e.stores.abstractNode,e.stores.uiNode.selectedNodeNativeId)}},{key:"getTag",value:function(){var e=this.getNode();return e&&(0,b.__DEPRECATED__getTag)(e)}},{key:"onAddClick",value:function(){var e=this.state.attributes,t=T(E.increment(e.map(function(e){return e.name}).toArray(),"attr")),a=T(E.increment(e.map(function(e){return e.value}).toArray(),"value")),n=y({name:t,value:a,mint:!0,open:!0}),l=e.push(n);this.setState({attributes:l})}},{key:"onOpen",value:function(e){var t=this.state.attributes.update(e,function(e){return e.set("open",!0)});this.setState({attributes:t})}},{key:"onClose",value:function(){var e=this.state.attributes.filter(function(e){return!e.mint}).map(function(e){return e.set("open",!1)});this.setState({attributes:e})}},{key:"onCommit",value:function(e){var t=this.props,a=t.stores,n=t.dispatch,l=a.uiNode.selectedNodeNativeId,i=this.state.attributes;e&&i.forEach(function(e){if(e.open){var t=T(e.name),a=g.default.trim(e.value);n(C.customAttributeChanged({nodeId:l,oldName:e.mint?void 0:e.oldName,newName:t,newValue:a}))}});var o=e?i.map(function(e){return e.set("open",!1).set("mint",!1)}):i.filter(function(e){return!e.mint}).map(function(e){return e.set("open",!1)});this.setState({attributes:o})}},{key:"onChange",value:function(e,t,a){var n=t.name,l=t.value,i=this.state.attributes.update(e,function(e){return e.mint||(e=e.set("oldName",e.name).set("oldValue",e.value)),e=e.set("name",n).set("value",l)});this.setState({attributes:i},a)}},{key:"removeAttribute",value:function(e){var t=this.props,a=t.stores,n=t.dispatch,l=a.uiNode.selectedNodeNativeId;n(C.customAttributeRemoved({nodeId:l,name:e}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.stores,n=t.actions,l=this.getTag(),i=this.state.attributes,o=this.onChange,r=this.removeAttribute;return f.default.createElement(p.default,{className:"attribute-settings",name:"attribute",title:"Custom Attributes",settingsSectionFlags:a.external.settingsSectionFlags,toggleSettingsSection:n.external.toggleSettingsSection,"data-automation-id":"custom-attributes-settings","aria-label":"Custom Attributes"},f.default.createElement("div",{className:"kit-panel"},f.default.createElement("div",{className:"kit-field attributes"},f.default.createElement("div",{className:"kit-label"},"Custom <"+l+"> attributes"),f.default.createElement("div",{className:"button-group"},f.default.createElement("div",{className:"kit-button add-part add-attribute",title:"Add Custom Attribute",onClick:this.onAddClick},f.default.createElement("i",null)))),f.default.createElement(h.default,{items:i},function(t,l){return f.default.createElement(v.default,{key:l,itemData:t,index:l,open:t.open,onOpen:e.onOpen,onClose:e.onClose,onCommit:e.onCommit,childProps:{stores:a,actions:n,onChange:o,removeAttribute:r},Item:I,Panel:S.default})})))}}]),AttributeSettings}(f.default.Component);t.default=k;var I=function(e){function AttributeItem(){var e,t;(0,i.default)(this,AttributeItem);for(var a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return t=(0,r.default)(this,(e=(0,s.default)(AttributeItem)).call.apply(e,[this].concat(n))),(0,c.default)((0,d.default)(t),"onRemove",t.onRemove.bind((0,d.default)(t))),t}return(0,u.default)(AttributeItem,e),(0,o.default)(AttributeItem,[{key:"onRemove",value:function(e){var t=this.props.item;(0,this.props.removeAttribute)(t.name),e.preventDefault(),e.stopPropagation()}},{key:"render",value:function(){var e=this.props.item,t=e.name,a=e.value;return e.mint?f.default.createElement("div",{className:"button-group"},f.default.createElement("div",{className:"kit-button add-part add-attribute"},f.default.createElement("i",null))):f.default.createElement("div",{className:"kit-list-item attribute clearfix",onClick:this.props.onClick},f.default.createElement("a",{className:"edit sprite-mid"},f.default.createElement("i",null)),f.default.createElement("a",{className:"trash sprite-mid",onClick:this.onRemove},f.default.createElement("i",null)),f.default.createElement("div",{className:"label one-line-text"},f.default.createElement("span",{className:"name"},t),f.default.createElement("span",null,'="'),f.default.createElement("span",{className:"value"},a),f.default.createElement("span",null,'"')))}}]),AttributeItem}(f.default.Component),T=function(e){return e.replace(/\s/g,"")}},5175:function(e,t,a){"use strict";var n=a(323),l=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=l(a(321)),o=l(a(322)),r=l(a(327)),s=l(a(326)),d=l(a(332)),u=l(a(328)),c=l(a(324)),f=l(a(320)),m=l(a(359)),g=l(a(375)),p=l(a(381)),h=l(a(329)),v=a(330),S=l(a(405)),E=l(a(418)),N=l(a(436)),C=l(a(647)),b=n(a(355)),y=n(a(450)),k=a(345),I=l(a(553)),T=function(e){function AttributePanel(){var e,t;(0,i.default)(this,AttributePanel);for(var a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return t=(0,r.default)(this,(e=(0,s.default)(AttributePanel)).call.apply(e,[this].concat(n))),(0,c.default)((0,d.default)(t),"onNameChange",t.onNameChange.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onValueChange",t.onValueChange.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onSave",t.onSave.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onCancel",t.onCancel.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"state",{name:"",value:"",nameInvalid:!1,nameReserved:!1,nameTaken:!1,valueInvalid:!1}),t}return(0,u.default)(AttributePanel,e),(0,o.default)(AttributePanel,[{key:"UNSAFE_componentWillMount",value:function(){this.refreshAttribute()}},{key:"componentDidMount",value:function(){this.focusInput()}},{key:"componentDidUpdate",value:function(e,t){h.default.isEqual(t,this.state)||this.props.refreshPanel()}},{key:"refreshAttribute",value:function(e){var t=(e=e||this.props).item;if(!t.mint){var a=t.name,n=t.value,l={};a!==this.state.name&&(l.name=a),n!==this.state.value&&(l.value=n),Object.keys(l).length>0&&(this.setState(l),this.refreshStates(l))}}},{key:"refreshStates",value:function(e){e=e||this.state,this.refreshNameStates(e),this.refreshValueStates(e)}},{key:"refreshNameStates",value:function(e){var t=(e=e||this.state).name,a=this.props,n=a.index,l=a.stores,i=l.uiNode,o=l.abstractNode,r=i.selectedNodeNativeId,s=(0,k.getAbstractNode)(o,r),d=!b.hasValue(t)||!y.isValidAttrName(t),u=y.isInternalAttr(t)||y.isReservedAttr(t),c=s.data.get("xattr",(0,v.List)()),f=Boolean(c.find(function(e){return b.weakEqual(e.get("name"),t)&&n!==c.indexOf(e)}));this.setState({nameInvalid:d,nameReserved:u,nameTaken:f})}},{key:"refreshValueStates",value:function(e){var t=(e=e||this.state).value,a=!b.hasValue(t);this.setState({valueInvalid:a})}},{key:"focusInput",value:function(){(0,S.default)(g.default.findDOMNode(this.refs.name)).find("input").trigger("focus").trigger("select")}},{key:"getNameInputClasses",value:function(){var e=this.state,t=e.nameInvalid,a=e.nameReserved,n=e.nameTaken;return(0,p.default)({invalid:t||a||n})}},{key:"getValueInputClasses",value:function(){var e=this.state.valueInvalid;return(0,p.default)({invalid:e})}},{key:"getSaveButtonClasses",value:function(){var e=this.isValid();return(0,p.default)(["kit-button","has-text save"],{disabled:!e})}},{key:"isValid",value:function(){var e=this.state,t=e.name,a=e.value,n=e.nameInvalid,l=e.valueInvalid,i=e.nameReserved,o=e.nameTaken;return Boolean(t)&&Boolean(a)&&!n&&!l&&!i&&!o}},{key:"onNameChange",value:function(e){var t={name:e};this.setState(t),this.refreshNameStates(t)}},{key:"onValueChange",value:function(e){var t={value:e};this.setState(t),this.refreshValueStates(t)}},{key:"onSave",value:function(){if(this.isValid()){var e=this.state,t=e.name,a=e.value,n=this.props,l=n.index,i=n.onChange,o=n.onCommit;i(l,{name:t,value:a},function(){o(!0)})}}},{key:"onCancel",value:function(){(0,this.props.onCommit)(!1)}},{key:"render",value:function(){var e=this.state,t=e.name,a=e.value,n=e.nameReserved,l=e.nameTaken,i=this.props,o=i.open,r=i.handleOpen,s=f.default.createElement(C.default,null,f.default.createElement("div",{className:"attribute-panel settings-panel"},f.default.createElement("div",{className:"inner"},f.default.createElement("div",{className:"kit-panel"},f.default.createElement("div",{className:"kit-field name"},f.default.createElement(E.default,{text:"Name"}),f.default.createElement(N.default,{className:this.getNameInputClasses(),value:t,placeholder:"data-custom",tabIndex:100,onChange:this.onNameChange,onEnter:this.onSave,ref:"name",autofocus:!0}),n?f.default.createElement("div",{className:"reserved"},"This is a reserved name."):null,l?f.default.createElement("div",{className:"taken"},"This attribute already exists."):null),f.default.createElement("div",{className:"kit-field value"},f.default.createElement(E.default,{text:"Value"}),f.default.createElement(N.default,{className:this.getValueInputClasses(),value:a,placeholder:"Custom Value",tabIndex:100,maxLength:512,onChange:this.onValueChange,onEnter:this.onSave})),f.default.createElement("div",{className:this.getSaveButtonClasses(),tabIndex:3,onClick:this.onSave},"Save"),f.default.createElement("div",{className:"kit-button has-text cancel",tabIndex:4,onClick:this.onCancel},"Cancel")))));return f.default.createElement(I.default,{title:"Add Attribute",content:s,open:o,arrowSize:0,handleOpen:r,showMask:!0},this.props.children)}}]),AttributePanel}(f.default.Component);t.default=T,(0,c.default)(T,"propTypes",{item:m.default.object.isRequired,index:m.default.number.isRequired,stores:m.default.object.isRequired,onChange:m.default.func.isRequired,onCommit:m.default.func.isRequired,open:m.default.bool.isRequired,handleOpen:m.default.func.isRequired})},5176:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.customAttributeRemoved=t.customAttributeChanged=void 0;var n=a(357),l=a(333),i=(0,n.createAction)(l.ABSTRACT_NODE_CUSTOM_ATTRIBUTE_CHANGED);t.customAttributeChanged=i;var o=(0,n.createAction)(l.ABSTRACT_NODE_CUSTOM_ATTRIBUTE_REMOVED);t.customAttributeRemoved=o},5177:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(321)),i=n(a(322)),o=n(a(327)),r=n(a(326)),s=n(a(328)),d=n(a(320)),u=n(a(384)),c=n(a(1944)),f=function(e){function LinkSettings(){return(0,l.default)(this,LinkSettings),(0,o.default)(this,(0,r.default)(LinkSettings).apply(this,arguments))}return(0,s.default)(LinkSettings,e),(0,i.default)(LinkSettings,[{key:"render",value:function(){var e=this.props,t=e.stores,a=e.actions,n=e.dispatch,l=e.permanentlyDismissedNotes;return d.default.createElement(u.default,{className:"link-settings",name:"link",title:"Link Settings",settingsSectionFlags:this.props.stores.external.settingsSectionFlags,toggleSettingsSection:this.props.actions.external.toggleSettingsSection},d.default.createElement(c.default,{stores:t,actions:a,dispatch:n,permanentlyDismissedNotes:l}))}}]),LinkSettings}(d.default.Component);t.default=f},5178:function(e,t,a){"use strict";var n=a(323),l=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=l(a(321)),o=l(a(322)),r=l(a(327)),s=l(a(326)),d=l(a(332)),u=l(a(328)),c=l(a(324)),f=l(a(320)),m=n(a(330)),g=l(a(329)),p=l(a(384)),h=l(a(986)),v=a(372),S=l(a(1237)),E=l(a(418)),N=l(a(646)),C=l(a(436)),b=n(a(700)),y=l(a(478)),k=l(a(985)),I=n(a(340)),T=a(345),A=a(406),_=a(387),x=n(a(749)),P=l(a(1946)),R=a(361),O=a(509),D=a(987),F=m.default.Record({id:null,src:"",fileName:"",sourceWidth:0,sourceHeight:0,sourceSize:0,width:0,height:0,useSrcset:!0}),w=function(e){function ImageSettings(){var e,t;(0,i.default)(this,ImageSettings);for(var a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return t=(0,r.default)(this,(e=(0,s.default)(ImageSettings)).call.apply(e,[this].concat(n))),(0,c.default)((0,d.default)(t),"onWidthChange",t.onWidthChange.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onWidthReset",t.onWidthReset.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onHeightChange",t.onHeightChange.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onHeightReset",t.onHeightReset.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onAltTextChange",t.onAltTextChange.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onAltTextCommit",t.onAltTextCommit.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"toggleSrcset",t.toggleSrcset.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"state",{imageSettingsState:F(),altText:""}),t}return(0,u.default)(ImageSettings,e),(0,o.default)(ImageSettings,[{key:"UNSAFE_componentWillMount",value:function(){this.refreshAttributes()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.props;e.stores.uiNode.selectedNodeNativeId===t.stores.uiNode.selectedNodeNativeId&&m.default.is(e.stores.abstractNode,t.stores.abstractNode)&&e.stores.betaFeature===t.stores.betaFeature||this.refreshAttributes(e)}},{key:"refreshAttributes",value:function(e){var t=(e=e||this.props).stores.asset,a=this.getImageNode(e);if(a){var n=this.state.imageSettingsState.set("src",a.getIn(["data","attr","src"],"")).set("width",a.getIn(["data","attr","width"])).set("height",a.getIn(["data","attr","height"])).set("useSrcset",!a.getIn(["data","img","srcsetDisabled"])),l=(0,_.getImageModel)(a,t);if(l){var i=l._id,o=l.origFileName,r=l.width,s=l.height,d=l.fileSize;n=n.set("id",i).set("fileName",o).set("sourceWidth",r).set("sourceHeight",s).set("sourceSize",d)}var u=a.getIn(["data","attr","alt"],"");this.setState({imageSettingsState:n,altText:u})}}},{key:"getImageNode",value:function(e){var t=(e=e||this.props).stores,a=t.abstractNode,n=t.uiNode.selectedNodeNativeId,l=(0,T.getAbstractNode)(a,n);return l&&I.isImage(l)?l:null}},{key:"isSrcBound",value:function(){var e=this.getImageNode();return!!e&&(function(e){return e&&(0,O.getBindingShapeAt)(e.bind,[{in:"Record",at:"img"}])}(e)||I.isBound(e,"src"))}},{key:"isAltBound",value:function(){var e=this.getImageNode();return Boolean(e&&I.isBound(e,"alt"))}},{key:"onWidthChange",value:function(e){this.props.dispatch(x.imageWidthChanged({width:e}))}},{key:"onWidthReset",value:function(){this.props.dispatch(x.imageWidthChanged({width:""}))}},{key:"onHeightChange",value:function(e){var t=this.props.stores.uiNode.selectedNodeNativeId;this.props.dispatch(x.imageHeightChanged({nodeId:t,height:e}))}},{key:"onHeightReset",value:function(){var e=this.props.stores.uiNode.selectedNodeNativeId;this.props.dispatch(x.imageHeightChanged({nodeId:e,height:""}))}},{key:"onAltTextChange",value:function(e){this.setState({altText:e})}},{key:"onAltTextCommit",value:function(){var e=this.getImageNode(),t=e?e.getIn(["data","attr","alt"],""):"",a=this.state.altText;if(t!==a){var n=this.props.stores.uiNode.selectedNodeNativeId;this.props.dispatch(x.imageAltTextChanged({nodeId:n,altText:a}))}}},{key:"toggleSrcset",value:function(){var e=this.props.stores.uiNode.selectedNodeNativeId;this.props.dispatch(x.srcsetToggled({nodeId:e}))}},{key:"render",value:function(){var e=this.props,t=e.stores,a=e.actions,n=e.dispatch,l=e.permanentlyDismissedNotes,i=t.ui,o=t.abstractNode,r=this.state.imageSettingsState,s=r.src,d=r.fileName,u=r.sourceWidth,c=r.sourceHeight,m=r.sourceSize,I=r.width,T=r.height,_=r.useSrcset,x=r.id,O=this.state.altText,F=i.srcsetOptions,w=this.isSrcBound(),M=null!==x&&!(0,A.isPluginAsset)(x)&&x!==v.paths.EXAMPLE_IMG_ID&&x!==v.paths.EXAMPLE_THUMB_ID,L=this.getImageNode();if(!L)return null;var U={prop:"src",checkboxLabel:"Get Image from",stores:t,dispatch:n,node:L},V=t.betaFeature.contentOverrides,B=(0,D.showAtomDataTypeSettings)(L,o,V);if(B&&!(0,b.isDynFieldSelectVisible)(U))return null;var H=L&&"image"===L.getIn(["data","search","bind","src",0,"slug"]),G=L&&"title"===L.getIn(["data","search","bind","alt",0,"slug"]),q=Boolean(L&&(0,R.isInsideRepeaterWithImageRefSet)(L)(o.root));return f.default.createElement(p.default,{className:"image-settings replace back",name:"image",title:"Image Settings",settingsSectionFlags:this.props.stores.external.settingsSectionFlags,toggleSettingsSection:this.props.actions.external.toggleSettingsSection},f.default.createElement("div",{className:"kit-panel"},w||B?null:f.default.createElement(h.default,{dispatch:this.props.dispatch,replace:M,type:"imageSettings",filter:"image",label:"Image",openAssetManagerTab:a.ui.openAssetManagerTab,disabled:t.assetUi.hotSelecting,style:{marginBottom:"7px"}}),f.default.createElement(b.default,U),!B&&f.default.createElement(f.default.Fragment,null,H?f.default.createElement(k.default,{type:"image",dispatch:n,permanentlyDismissedNotes:l}):null,w?null:f.default.createElement("div",{className:"details clearfix"},f.default.createElement("div",{className:"preview"},f.default.createElement("img",{className:"image",src:s})),f.default.createElement(S.default,{fileName:d,sourceWidth:u,sourceHeight:c,sourceSize:m,width:I,stores:t,actions:a,dispatch:n})),f.default.createElement("div",{className:"kit-divider"}),f.default.createElement("div",{className:"kit-field width"},f.default.createElement(E.default,{text:"Width"}),f.default.createElement(N.default,{value:I,unit:"px",units:["px"],minValue:0,placeholder:"Auto",selectedNodeNativeId:t.uiNode.selectedNodeNativeId,onChange:this.onWidthChange,onUnitChange:g.default.noop,onValueUnitChange:g.default.noop,onReset:this.onWidthReset})),f.default.createElement("div",{className:"kit-field height"},f.default.createElement(E.default,{text:"Height"}),f.default.createElement(N.default,{value:T,unit:"px",units:["px"],minValue:0,placeholder:"Auto",stores:t,onChange:this.onHeightChange,onUnitChange:g.default.noop,onValueUnitChange:g.default.noop,onReset:this.onHeightReset})),F?f.default.createElement("div",{className:"kit-panel srcset"},f.default.createElement("div",{className:"kit-divider"}),f.default.createElement("div",{className:"kit-checkbox-group kit-inset-box srcset-sizes"},f.default.createElement(y.default,{className:"hi-dpi",checked:_,onClick:this.toggleSrcset},"Responsive Image"))):null,f.default.createElement("div",{className:"kit-divider"}),q&&w?f.default.createElement(P.default,null):null,this.isAltBound()||q&&w?null:f.default.createElement("div",{className:"alt-text-section"},f.default.createElement("div",{className:"kit-field alt-text"},f.default.createElement(E.default,{text:"Alt"}),f.default.createElement(C.default,{value:O,placeholder:"A porcupine",onChange:this.onAltTextChange,onEnter:this.onAltTextCommit,onBlur:this.onAltTextCommit,"data-automation-id":"image-settings-alt-input"})))),q?null:f.default.createElement("div",{className:"alt-binding"},f.default.createElement(b.default,{prop:"alt",checkboxLabel:"Get Alt Text from",stores:t,dispatch:n,node:L}),G?f.default.createElement(k.default,{type:"title",dispatch:n,permanentlyDismissedNotes:l}):null)))}}]),ImageSettings}(f.default.Component);t.default=w},5179:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(321)),i=n(a(322)),o=n(a(327)),r=n(a(326)),s=n(a(328)),d=n(a(320)),u=n(a(384)),c=n(a(1949)),f=function(e){function VideoSettings(){return(0,l.default)(this,VideoSettings),(0,o.default)(this,(0,r.default)(VideoSettings).apply(this,arguments))}return(0,s.default)(VideoSettings,e),(0,i.default)(VideoSettings,[{key:"render",value:function(){var e=this.props,t=e.stores,a=e.actions,n=e.dispatch;return d.default.createElement(u.default,{className:"video-settings custom",name:"video",title:"Video Settings",settingsSectionFlags:t.external.settingsSectionFlags,toggleSettingsSection:a.external.toggleSettingsSection},d.default.createElement(c.default,{stores:t,actions:a,dispatch:n}))}}]),VideoSettings}(d.default.Component);t.default=f},5180:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(321)),i=n(a(322)),o=n(a(327)),r=n(a(326)),s=n(a(328)),d=n(a(320)),u=n(a(384)),c=n(a(1950)),f=a(345),m=function(e){function YouTubeVideoSettings(){return(0,l.default)(this,YouTubeVideoSettings),(0,o.default)(this,(0,r.default)(YouTubeVideoSettings).apply(this,arguments))}return(0,s.default)(YouTubeVideoSettings,e),(0,i.default)(YouTubeVideoSettings,[{key:"render",value:function(){var e=this.props,t=e.stores,a=e.actions,n=e.dispatch,l=t.abstractNode,i=t.uiNode;return d.default.createElement(u.default,{className:"youtube-video-settings custom",name:"youtubevideo",title:"YouTube Settings",settingsSectionFlags:t.external.settingsSectionFlags,toggleSettingsSection:a.external.toggleSettingsSection},d.default.createElement(c.default,{abstractNode:(0,f.getAbstractNode)(l,i.selectedNodeNativeId),dispatch:n}))}}]),YouTubeVideoSettings}(d.default.Component);t.default=m},5181:function(e,t,a){"use strict";var n=a(323),l=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=l(a(342)),o=l(a(321)),r=l(a(322)),s=l(a(327)),d=l(a(326)),u=l(a(332)),c=l(a(328)),f=l(a(324)),m=l(a(320)),g=a(330),p=l(a(381)),h=a(348),v=l(a(384)),S=l(a(436)),E=l(a(478)),N=l(a(611)),C=l(a(767)),b=l(a(700)),y=l(a(5182)),k=l(a(5183)),I=a(354),T=l(a(372)),A=a(1148),_=a(340),x=n(a(361)),P=a(345),R=function(e){var t=function(e){return(0,P.getAbstractNode)(e.stores.abstractNode,e.stores.uiNode.selectedNodeNativeId)}(e);return t?x.closestLightboxNode(t,e.stores.abstractNode.root):null},O=(0,g.Record)({id:"",url:"",cdnUrl:"",fileName:"",origFileName:"",width:0,height:0,fileSize:0,caption:"",mint:!1,open:!1}),D=(0,g.Record)({id:"",originalUrl:"",url:"",html:"",thumbnailUrl:"",width:0,height:0,mint:!1,open:!1}),F={},w=[],M=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:F,a=R(e),n="",l="",i=w;if(a){var o=e.stores.asset;n=a.getIn(["data","json","group"]),l=a.get("id"),i=a.getIn(["data","json","items"],(0,g.List)()).map(function(e,n){e=e.toJS?e.toJS():e;var l=t.lastLightboxNodeId===a.get("id")?t.items[n]:null,i=Boolean(l&&l.open),r=Boolean(l&&l.mint),s=e._id||e.id,d=e.type,u=e.url,c=e.html,f=e.thumbnailUrl,m=e.originalUrl,g=e.caption||"";switch(d){case"image":var p=o.getByUrl(u);if(p){var h=p.cdnUrl,v=p.fileName,S=p.origFileName,E=p.width,N=p.height,C=p.fileSize;return O({id:s,url:u,cdnUrl:h,fileName:v,origFileName:S,width:E,height:N,fileSize:C,caption:g,open:i,mint:r})}return(0,I.reportBug)("LightboxAssetMissing","Missing lightbox asset when loading items",{id:s,url:u,item:e}),null;case"video":var b=e.width,y=e.height;return D({id:s,url:u,html:c,thumbnailUrl:f,originalUrl:m,width:b,height:y,open:i,mint:r});default:return null}}).filter(Boolean).toArray()}return{prevLightboxNode:a,items:i,group:n,lastLightboxNodeId:l}},L=function(e){function LightboxSettings(){var e,t;(0,o.default)(this,LightboxSettings);for(var a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return t=(0,s.default)(this,(e=(0,d.default)(LightboxSettings)).call.apply(e,[this].concat(n))),(0,f.default)((0,u.default)(t),"state",M(t.props)),(0,f.default)((0,u.default)(t),"isMediaBound",function(){var e=R(t.props);return Boolean(e&&(0,_.isBound)(e,"media"))}),(0,f.default)((0,u.default)(t),"onAddVideoClick",function(){var e=t.state.items,a=D({id:T.default.paths.EXAMPLE_IMG_ID,mint:!0,open:!0});t.setState({items:[a].concat((0,i.default)(e))})}),(0,f.default)((0,u.default)(t),"onAddImageClick",function(){t.props.dispatch((0,A.lightboxItemAdded)({data:{_id:T.default.paths.EXAMPLE_IMG_ID,type:"image",url:T.default.paths.EXAMPLE_IMG_URL,cdnUrl:T.default.paths.EXAMPLE_IMG_URL,fileName:T.default.paths.EXAMPLE_IMG_NAME,origFileName:T.default.paths.EXAMPLE_IMG_NAME,width:150,height:150,fileSize:2063}})),h.window.requestAnimationFrame(function(){var e=t.state.items,a=e[0];a&&t.setState({items:[a.set("open",!0)].concat((0,i.default)(e.slice(1)))})})}),(0,f.default)((0,u.default)(t),"onGroupChange",function(e){t.setState({group:e})}),(0,f.default)((0,u.default)(t),"onGroupCommit",function(){var e=t.state.group;t.props.dispatch((0,A.lightboxGroupChanged)({group:e}))}),(0,f.default)((0,u.default)(t),"onToggleLinked",function(){t.props.dispatch((0,A.lightboxLinkToggled)())}),(0,f.default)((0,u.default)(t),"onSortEnd",function(e){var a=e.startIndex,n=e.endIndex;e.commit&&t.props.dispatch((0,A.lightboxItemMoved)({startIndex:a,endIndex:n}))}),(0,f.default)((0,u.default)(t),"onOpen",function(e){var a=t.state.items;t.setState({items:a.map(function(t,a){return a===e?t.set("open",!0):t})})}),(0,f.default)((0,u.default)(t),"onClose",function(){var e=t.state.items;t.setState({items:e.filter(function(e){return!e.mint}).map(function(e){return e.set("open",!1)})})}),(0,f.default)((0,u.default)(t),"onCommit",function(e){if(e){var a=e.type,n=e.index,l=t.state.items[n].mint,i="image"===a?{_id:e.id,type:"image",url:e.url,cdnUrl:e.cdnUrl,width:e.width,height:e.height,fileName:e.fileName,origFileName:e.origFileName,fileSize:e.fileSize,caption:e.caption}:"video"===a?{type:"video",originalUrl:e.originalUrl,url:e.url,html:e.html,thumbnailUrl:e.thumbnailUrl,width:e.width,height:e.height}:null;t.props.dispatch((0,A.lightboxItemChanged)({index:n,data:i,isMint:l}))}var o=t.state.items;t.setState({items:o.filter(function(t){return Boolean(e||!t.mint)}).map(function(e){return e.set("open",!1).set("mint",!1)})})}),(0,f.default)((0,u.default)(t),"renderItem",function(e){var a=e.item,n=e.index,l=e.Item,i=e.Item_Handle,o=t.props,r=o.dispatch,s=o.stores.assetUI,d=o.actions.openAssetManagerTab;return m.default.createElement(C.default,{itemData:a,index:n,open:a.open,onOpen:t.onOpen,onClose:t.onClose,onCommit:t.onCommit,childProps:{assetUiState:s,openAssetManagerTab:d,Item:l,Item_Handle:i,dispatch:r},Item:V,Panel:a instanceof O?y.default:k.default,key:n})}),t}return(0,c.default)(LightboxSettings,e),(0,r.default)(LightboxSettings,[{key:"render",value:function(){var e=this.props,t=e.stores,a=e.dispatch,n=e.settingsSectionFlags,l=e.toggleSettingsSection,i=this.state,o=i.group,r=i.items,s="string"==typeof o,d=this.isMediaBound(),u=R(this.props);return u?m.default.createElement(v.default,{className:"lightbox-settings",name:"lightbox",title:"Lightbox Settings",settingsSectionFlags:n,toggleSettingsSection:l,"data-automation-id":"lightbox-settings","aria-label":"Lightbox"},m.default.createElement("div",{className:"kit-panel"},d?null:m.default.createElement(m.default.Fragment,null,m.default.createElement("div",{className:"kit-field media-field"},m.default.createElement("div",{className:"kit-button add-list lightbox-add-video relative pull-right",title:"Add Video",onClick:this.onAddVideoClick},m.default.createElement("i",null)),m.default.createElement("div",{className:"kit-button add-list lightbox-add-image relative pull-right",title:"Add Image",onClick:this.onAddImageClick},m.default.createElement("i",null)),m.default.createElement("div",{className:"kit-label kit-list-label"},"Media")),r.length>0?m.default.createElement(N.default,{"data-automation-id":"lightbox-settings-sortable-list",className:"kit-list2",styleDragOffset:!0,onSortEnd:this.onSortEnd,items:r,getItemKey:U,renderItem:this.renderItem}):m.default.createElement("div",{"data-automation-id":"lightbox-settings-sortable-list-empty",className:"kit-list-wrapper tab-list-none"},m.default.createElement("div",{className:"kit-empty-list"},"None"))),m.default.createElement(b.default,{prop:"media",className:(0,p.default)("lightbox-media-binding",{enabled:d}),checkboxLabel:"Get Media from",stores:t,dispatch:a,node:u}),m.default.createElement(E.default,{className:"link-checkbox",checked:s,onClick:this.onToggleLinked},"Link with other lightboxes"),s?m.default.createElement("div",{className:"kit-field group-field"},m.default.createElement("div",{className:"kit-label"},"Group name"),m.default.createElement(S.default,{className:"group",value:o,placeholder:"e.g. Sunset Collection",onChange:this.onGroupChange,onEnter:this.onGroupCommit,onBlur:this.onGroupCommit})):null)):null}}],[{key:"getDerivedStateFromProps",value:function(e,t){return t.prevLightboxNode!==R(e)?M(e,t):null}}]),LightboxSettings}(m.default.Component);t.default=L;var U=function(e,t){return t},V=function(e){function ImageItem(){var e,t;(0,o.default)(this,ImageItem);for(var a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return t=(0,s.default)(this,(e=(0,d.default)(ImageItem)).call.apply(e,[this].concat(n))),(0,f.default)((0,u.default)(t),"onRemoveClick",t.onRemoveClick.bind((0,u.default)(t))),t}return(0,c.default)(ImageItem,e),(0,r.default)(ImageItem,[{key:"getTitle",value:function(){var e=this.props.item,t=e.origFileName,a=e.fileName,n=e.originalUrl,l=t||a||n;return l||(e instanceof O?"image-placeholder.png":"video-placeholder.png")}},{key:"getImageStyles",value:function(){var e=this.props.item,t=e instanceof O?e.cdnUrl:e.thumbnailUrl;return t?{backgroundImage:'url("'+t+'")'}:null}},{key:"onRemoveClick",value:function(e){var t=this.props.index;this.props.dispatch((0,A.lightboxItemRemoved)({index:t})),e.preventDefault(),e.stopPropagation()}},{key:"render",value:function(){var e=this.props,t=e.item,a=e.Item,n=e.Item_Handle,l=t.loading,i=this.getTitle();return a({className:(0,p.default)("kit-list2-item","flat"),onClick:this.props.onClick,children:[m.default.createElement("div",{className:"kit-list2-item-wrap",key:"wrap"},n({className:"kit-drag-handle"}),m.default.createElement("a",{className:"trash sprite-mid",title:"Remove Item",onClick:this.onRemoveClick},m.default.createElement("i",null)),l?null:m.default.createElement("div",{className:"image-preview checkerboard-3px"},m.default.createElement("div",{className:"image cover",style:this.getImageStyles()})),l?m.default.createElement("div",{className:"indicator animate-blink"}):null,m.default.createElement("div",{className:"label one-line-text"},m.default.createElement("span",{className:"name"},i)))]})}}]),ImageItem}(m.default.Component)},5182:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(321)),i=n(a(322)),o=n(a(327)),r=n(a(326)),s=n(a(332)),d=n(a(328)),u=n(a(324)),c=n(a(320)),f=n(a(647)),m=n(a(436)),g=n(a(1237)),p=n(a(986)),h=a(372),v=n(a(553)),S=a(1148),E=function(e){function LightboxImagePanel(){var e,t;(0,l.default)(this,LightboxImagePanel);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return t=(0,o.default)(this,(e=(0,r.default)(LightboxImagePanel)).call.apply(e,[this].concat(n))),(0,u.default)((0,s.default)(t),"state",{caption:t.props.item.caption||""}),(0,u.default)((0,s.default)(t),"onCaptionChange",function(e){t.setState({caption:e})}),(0,u.default)((0,s.default)(t),"onCaptionSubmit",function(){var e=t.props.onCommit;t.commitCaption(),e()}),(0,u.default)((0,s.default)(t),"onCancel",function(){(0,t.props.onCommit)()}),t}return(0,d.default)(LightboxImagePanel,e),(0,i.default)(LightboxImagePanel,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.props;e.item!==t.item&&this.setState({caption:e.item.caption})}},{key:"commitCaption",value:function(){var e=this.state.caption,t=this.props.index;this.props.dispatch((0,S.lightboxImageCaptionChanged)({index:t,caption:e}))}},{key:"render",value:function(){var e=this.props,t=e.item,a=e.index,n=e.assetUiState,l=e.dispatch,i=e.openAssetManagerTab,o=t.fileName,r=t.width,s=t.height,d=t.fileSize,u=t.cdnUrl,S=this.state.caption,E=t.id!==h.paths.EXAMPLE_IMG_ID,N=c.default.createElement(f.default,null,c.default.createElement("div",{className:"attribute-panel lightbox-image-panel wf-control replace visible"},c.default.createElement("div",{className:"kit-field image"},c.default.createElement("div",{className:"kit-group kit-inset-box"},c.default.createElement(p.default,{dispatch:this.props.dispatch,type:"lightbox",filter:"image",label:"Image",openAssetManagerTab:i,disabled:n.hotSelecting,replace:E,hotSelectSpec:{lightboxImage:{index:a}}}),c.default.createElement("div",{className:"details clearfix"},c.default.createElement("div",{className:"preview checkerboard-5px kit-inset-box"},c.default.createElement("img",{src:u})),c.default.createElement(g.default,{dispatch:l,fileName:o,sourceWidth:r,sourceHeight:s,sourceSize:d,hideRetina:!0})))),c.default.createElement("div",{className:"kit-field lightbox-caption-field"},c.default.createElement(m.default,{value:S,placeholder:"Caption",onChange:this.onCaptionChange,onEnter:this.onCaptionSubmit})),c.default.createElement("div",{className:"kit-button has-text save",onClick:this.onCaptionSubmit},"Save")));return c.default.createElement(v.default,{content:N,open:this.props.open,arrowSize:0,title:"Add Image",handleOpen:this.onCancel,showMask:!0},this.props.children)}}]),LightboxImagePanel}(c.default.Component);t.default=E},5183:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(125)),i=n(a(126)),o=n(a(321)),r=n(a(322)),s=n(a(327)),d=n(a(326)),u=n(a(332)),c=n(a(328)),f=n(a(324)),m=n(a(320)),g=a(329),p=n(a(647)),h=n(a(988)),v=n(a(553)),S=a(826),E=a(693),N=450,C=function(e){function LightboxEmbedPanel(){var e,t;(0,o.default)(this,LightboxEmbedPanel);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return t=(0,s.default)(this,(e=(0,d.default)(LightboxEmbedPanel)).call.apply(e,[this].concat(n))),(0,f.default)((0,u.default)(t),"isMounted",!1),(0,f.default)((0,u.default)(t),"state",{originalUrl:t.props.item&&t.props.item.originalUrl,metadata:null,changed:!1,loading:!1,error:null}),(0,f.default)((0,u.default)(t),"request",null),(0,f.default)((0,u.default)(t),"onOriginalUrlChange",function(e){t.setState({originalUrl:e,changed:!0}),t.delayValidate(e)}),(0,f.default)((0,u.default)(t),"delayValidate",(0,g.debounce)(function(e){return t.validateLinkUrl(e)},N)),(0,f.default)((0,u.default)(t),"validateLinkUrl",function(){var e=(0,i.default)(l.default.mark(function _callee(e){return l.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t.request&&(t.request.cancel(),t.request=null),t.request=(0,E.makeCancelable)((0,S.request)(e)),t.setState({loading:!0,error:!1}),a.next=5,t.request.then(function(a){if(t.isMounted){var n=a.metadata;t.setState({changed:t.state.originalUrl!==e,loading:!1,metadata:n})}}).catch(function(a){t.isMounted&&(console.warn(a),t.setState({changed:t.state.originalUrl!==e,loading:!1,error:a}))});case 5:case"end":return a.stop()}},_callee)}));return function(t){return e.apply(this,arguments)}}()),(0,f.default)((0,u.default)(t),"onSave",function(){var e=t.state,a=e.changed,n=e.loading,l=e.error;if(!a&&!n&&!l&&null!==t.state.metadata){var i=t.props,o=i.index,r=i.onCommit,s=t.state,d=s.originalUrl,u=s.metadata,c=u.url,f=u.html,m=u.thumb,g=u.width,p=u.height;r({index:o,type:"video",originalUrl:d,url:c,html:f,thumbnailUrl:m.url,width:g,height:p})}}),(0,f.default)((0,u.default)(t),"onCancel",function(){t.props.onCommit(null)}),t}return(0,c.default)(LightboxEmbedPanel,e),(0,r.default)(LightboxEmbedPanel,[{key:"componentDidMount",value:function(){this.isMounted=!0}},{key:"componentWillUnmount",value:function(){this.isMounted=!1,this.request&&this.request.cancel()}},{key:"componentDidUpdate",value:function(e,t){(0,g.isEqual)(t,this.state)||this.props.refreshPanel()}},{key:"getSaveButtonClasses",value:function(){var e=this.state,t=e.changed,a=e.loading,n=e.error;return"kit-button has-text save"+(!t&&!a&&!n?"":" disabled")}},{key:"render",value:function(){var e=this.state,t=e.originalUrl,a=e.loading,n=e.error,l=m.default.createElement(p.default,null,m.default.createElement("div",{className:"attribute-panel lightbox-embed-panel-wrap settings-panel"},m.default.createElement("div",{className:"kit-panel"},m.default.createElement("div",{className:"kit-field lightbox-embed-url-field"},m.default.createElement("div",{className:"kit-label"},"URL:"),m.default.createElement(h.default,{value:t,placeholder:"e.g. https://vimeo.com/69534373",maxLength:100,loading:a,error:n,onChange:this.onOriginalUrlChange}))),m.default.createElement("div",{className:this.getSaveButtonClasses(),onClick:this.onSave},"Save")),m.default.createElement("div",{className:"panel-mask lightbox-embed-panel wf-control"},m.default.createElement("canvas",{className:"mask"})));return m.default.createElement(v.default,{content:l,open:this.props.open,arrowSize:0,title:"Add Video",handleOpen:this.onCancel,showMask:!0},this.props.children)}}]),LightboxEmbedPanel}(m.default.Component);t.default=C},5184:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(321)),i=n(a(322)),o=n(a(327)),r=n(a(326)),s=n(a(328)),d=n(a(320)),u=n(a(384)),c=n(a(1947)),f=function(e){function InputSettings(){return(0,l.default)(this,InputSettings),(0,o.default)(this,(0,r.default)(InputSettings).apply(this,arguments))}return(0,s.default)(InputSettings,e),(0,i.default)(InputSettings,[{key:"render",value:function(){var e=this.props,t=e.stores,a=e.actions,n=e.dispatch;return d.default.createElement(u.default,{className:"input-settings",name:"input",title:"Input Settings",settingsSectionFlags:t.external.settingsSectionFlags,toggleSettingsSection:a.external.toggleSettingsSection},d.default.createElement(c.default,{stores:t,actions:a,dispatch:n}))}}]),InputSettings}(d.default.Component);t.default=f},5185:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(321)),i=n(a(322)),o=n(a(327)),r=n(a(326)),s=n(a(328)),d=n(a(320)),u=n(a(384)),c=n(a(984)),f=function(e){function InnerTextSettings(){return(0,l.default)(this,InnerTextSettings),(0,o.default)(this,(0,r.default)(InnerTextSettings).apply(this,arguments))}return(0,s.default)(InnerTextSettings,e),(0,i.default)(InnerTextSettings,[{key:"render",value:function(){var e=this.props,t=e.stores,a=e.actions,n=e.dispatch,l=e.permanentlyDismissedNotes;return d.default.createElement(u.default,{className:"innertext-settings custom",name:"innertext",title:"Inner Text Settings",settingsSectionFlags:t.external.settingsSectionFlags,toggleSettingsSection:a.external.toggleSettingsSection},d.default.createElement(c.default,{stores:t,actions:a,dispatch:n,permanentlyDismissedNotes:l}))}}]),InnerTextSettings}(d.default.Component);t.default=f},5186:function(e,t,a){"use strict";var n=a(323),l=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=l(a(321)),o=l(a(322)),r=l(a(327)),s=l(a(326)),d=l(a(332)),u=l(a(328)),c=l(a(324)),f=l(a(320)),m=l(a(384)),g=l(a(418)),p=l(a(436)),h=l(a(645)),v=l(a(1951)),S=n(a(361)),E=a(1238),N=function(e,t){var a=S.getFormProxyNode(e,t.root);return a?{_abstractNode:e,method:a.getIn(["data","attr","method"],""),redirectUrl:a.getIn(["data","form","redirect"],""),actionUrl:a.getIn(["data","attr","action"],"")}:{_abstractNode:e,method:"",redirectUrl:"",actionUrl:""}},C=function(e){function FormSettings(){var e,t;(0,i.default)(this,FormSettings);for(var a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return t=(0,r.default)(this,(e=(0,s.default)(FormSettings)).call.apply(e,[this].concat(n))),(0,c.default)((0,d.default)(t),"state",N(t.props.abstractNode,t.props.abstractNodeState)),(0,c.default)((0,d.default)(t),"onRedirectUrlChange",function(e){t.setState({redirectUrl:e})}),(0,c.default)((0,d.default)(t),"onRedirectUrlCommit",function(){var e=t.state.redirectUrl;t.props.dispatch((0,E.formSettingsRedirectUrlChanged)({redirectUrl:e}))}),(0,c.default)((0,d.default)(t),"onActionUrlChange",function(e){t.setState({actionUrl:e})}),(0,c.default)((0,d.default)(t),"onActionUrlCommit",function(){var e=t.state.actionUrl;t.props.dispatch((0,E.formSettingsActionUrlChanged)({actionUrl:e}))}),(0,c.default)((0,d.default)(t),"onMethodChange",function(e){t.props.dispatch((0,E.formSettingsMethodChanged)({method:e}))}),t}return(0,u.default)(FormSettings,e),(0,o.default)(FormSettings,[{key:"render",value:function(){var e=this.props,t=e.abstractNode,a=e.abstractNodeState,n=e.dispatch,l=e.settingsSectionFlags,i=e.toggleSettingsSection,o=this.state,r=o.method,s=o.redirectUrl,d=o.actionUrl;return f.default.createElement(m.default,{className:"form-settings",name:"form",title:"Form Settings",settingsSectionFlags:l,toggleSettingsSection:i},f.default.createElement("div",{className:"kit-panel"},f.default.createElement(v.default,{abstractNode:t,abstractNodeState:a,dispatch:n}),f.default.createElement("div",{className:"kit-divider"}),f.default.createElement("div",{className:"kit-field redirect"},f.default.createElement(g.default,{text:"Redirect URL",title:"Redirect to a URL on success"}),f.default.createElement(p.default,{value:s,placeholder:"e.g. /success",maxLength:1024,onChange:this.onRedirectUrlChange,onEnter:this.onRedirectUrlCommit,onBlur:this.onRedirectUrlCommit})),f.default.createElement("div",{className:"kit-field action"},f.default.createElement(g.default,{text:"Action",title:"Custom form action URL"}),f.default.createElement(p.default,{value:d,placeholder:"(webflow default)",maxLength:1024,onChange:this.onActionUrlChange,onEnter:this.onActionUrlCommit,onBlur:this.onActionUrlCommit})),f.default.createElement("div",{className:"kit-field method"},f.default.createElement(g.default,{text:"Method",title:"Form method"}),f.default.createElement(h.default,{value:r,placeholder:"Auto (default)",onCommit:this.onMethodChange},f.default.createElement("option",{value:"get"},"GET"),f.default.createElement("option",{value:"post"},"POST")))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return t._abstractNode!==e.abstractNode?N(e.abstractNode,e.abstractNodeState):null}}]),FormSettings}(f.default.Component);t.default=C},5187:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(321)),i=n(a(322)),o=n(a(327)),r=n(a(326)),s=n(a(328)),d=n(a(320)),u=n(a(384)),c=n(a(1952)),f=function(e){function FormFileUploadSettings(){return(0,l.default)(this,FormFileUploadSettings),(0,o.default)(this,(0,r.default)(FormFileUploadSettings).apply(this,arguments))}return(0,s.default)(FormFileUploadSettings,e),(0,i.default)(FormFileUploadSettings,[{key:"render",value:function(){var e=this.props,t=e.abstractNodeState,a=e.externalState,n=e.externalActions,l=e.dispatch,i=e.selectedNodeNativeId;return d.default.createElement(u.default,{className:"form-file-upload-settings",name:"form",title:"File Upload Settings",settingsSectionFlags:a.settingsSectionFlags,toggleSettingsSection:n.toggleSettingsSection,"data-automation-id":"form-file-upload-settings-panel"},d.default.createElement("div",{className:"kit-panel"},d.default.createElement(c.default,{dispatch:l,abstractNodeState:t,selectedNodeNativeId:i})))}}]),FormFileUploadSettings}(d.default.Component);t.default=f},5188:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(321)),i=n(a(322)),o=n(a(327)),r=n(a(326)),s=n(a(328)),d=n(a(320)),u=n(a(384)),c=n(a(1954)),f=function(e){function FormFileUploadErrorSettings(){return(0,l.default)(this,FormFileUploadErrorSettings),(0,o.default)(this,(0,r.default)(FormFileUploadErrorSettings).apply(this,arguments))}return(0,s.default)(FormFileUploadErrorSettings,e),(0,i.default)(FormFileUploadErrorSettings,[{key:"render",value:function(){var e=this.props,t=e.abstractNodeState,a=e.externalState,n=e.externalActions,l=e.dispatch,i=e.selectedNodeNativeId;return d.default.createElement(u.default,{className:"form-file-upload-error-settings",name:"form",title:"Error Message Settings",settingsSectionFlags:a.settingsSectionFlags,toggleSettingsSection:n.toggleSettingsSection},d.default.createElement(c.default,{dispatch:l,abstractNodeState:t,selectedNodeNativeId:i}))}}]),FormFileUploadErrorSettings}(d.default.Component);t.default=f},5189:function(e,t,a){"use strict";var n=a(323),l=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=l(a(334)),o=l(a(321)),r=l(a(322)),s=l(a(327)),d=l(a(326)),u=l(a(332)),c=l(a(328)),f=l(a(324)),m=l(a(320)),g=l(a(330)),p=l(a(384)),h=l(a(418)),v=l(a(436)),S=l(a(653)),E=l(a(572)),N=l(a(478)),C=l(a(1955)),b=a(527),y=n(a(340)),k=a(345),I=l(a(606)),T=l(a(636)),A=n(a(1956)),_=function(e){function MapSettings(){var e,t;(0,o.default)(this,MapSettings);for(var a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return t=(0,s.default)(this,(e=(0,d.default)(MapSettings)).call.apply(e,[this].concat(n))),(0,f.default)((0,u.default)(t),"onTooltipChange",t.onTooltipChange.bind((0,u.default)(t))),(0,f.default)((0,u.default)(t),"onTooltipCommit",t.onTooltipCommit.bind((0,u.default)(t))),(0,f.default)((0,u.default)(t),"onMapZoomSliderChange",t.onMapZoomSliderChange.bind((0,u.default)(t))),(0,f.default)((0,u.default)(t),"onMapZoomTextChange",t.onMapZoomTextChange.bind((0,u.default)(t))),(0,f.default)((0,u.default)(t),"onMapZoomTextCommit",t.onMapZoomTextCommit.bind((0,u.default)(t))),(0,f.default)((0,u.default)(t),"onStyleChange",t.onStyleChange.bind((0,u.default)(t))),(0,f.default)((0,u.default)(t),"onToggleScrollwheel",t.onToggleScrollwheel.bind((0,u.default)(t))),(0,f.default)((0,u.default)(t),"onToggleEnableTouch",t.onToggleEnableTouch.bind((0,u.default)(t))),(0,f.default)((0,u.default)(t),"onAPIKeyClick",t.onAPIKeyClick.bind((0,u.default)(t))),(0,f.default)((0,u.default)(t),"state",{tooltip:"",zoomText:String(12)}),t}return(0,c.default)(MapSettings,e),(0,r.default)(MapSettings,[{key:"UNSAFE_componentWillMount",value:function(){this.request=null,this.refreshAttributes()}},{key:"componentWillUnmount",value:function(){this.request&&this.request.cancel()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.props;e.stores.uiNode.selectedNodeNativeId===t.stores.uiNode.selectedNodeNativeId&&g.default.is(e.stores.abstractNode,t.stores.abstractNode)||this.refreshAttributes(e)}},{key:"refreshAttributes",value:function(e){e=e||this.props;var t=this.getMapNode(e);if(t){var a=t.getIn(["data","widget","tooltip"],""),n=t.getIn(["data","widget","zoom"],12),l=(0,b.hasValidGoogleMapsApiKey)(),i=!l,o=l,r=String(n);this.setState({tooltip:a,zoomText:r,withoutAPIKey:i,validAPIKey:o})}}},{key:"getMapNode",value:function(e){e=e||this.props;var t=(0,k.getAbstractNode)(e.stores.abstractNode,e.stores.uiNode.selectedNodeNativeId);return y.isMapWidget(t)?t:null}},{key:"onTooltipChange",value:function(e){this.setState({tooltip:e})}},{key:"onAPIKeyClick",value:function(e){(0,this.props.actions.navigateToSiteIntegrations)(e)}},{key:"onTooltipCommit",value:function(){var e=this.props.stores.uiNode.selectedNodeNativeId,t=this.state.tooltip;this.props.dispatch(A.mapWidgetTooltipChanged({nodeId:e,tooltip:t}))}},{key:"onMapZoomSliderChange",value:function(e){var t=this.props.stores.uiNode.selectedNodeNativeId,a=String(e);this.setState({zoomText:a}),this.props.dispatch(A.mapWidgetZoomChanged({nodeId:t,zoom:e}))}},{key:"onMapZoomTextChange",value:function(e){this.setState({zoomText:e})}},{key:"onMapZoomTextCommit",value:function(){var e=this.props.stores.uiNode.selectedNodeNativeId,t=this.state.zoomText,a=parseFloat(t);isNaN(a)?this.props.dispatch(A.mapWidgetZoomChanged({nodeId:e,zoom:12})):this.props.dispatch(A.mapWidgetZoomChanged({nodeId:e,zoom:a}))}},{key:"onStyleChange",value:function(e){var t=this.props.stores.uiNode.selectedNodeNativeId;this.props.dispatch(A.mapWidgetStyleChanged({nodeId:t,style:e}))}},{key:"onToggleScrollwheel",value:function(){var e=this.props.stores.uiNode.selectedNodeNativeId,t=!this.getMapNode().getIn(["data","widget","scrollwheel"],!0);this.props.dispatch(A.mapWidgetScrollwheelToggled({nodeId:e,scrollwheel:t}))}},{key:"onToggleEnableTouch",value:function(){var e=this.props.stores.uiNode.selectedNodeNativeId,t=!this.getMapNode().getIn(["data","widget","enableTouch"],!0);this.props.dispatch(A.mapWidgetEnableTouchToggled({nodeId:e,enableTouch:t}))}},{key:"render",value:function(){var e=this.props,t=e.stores,a=e.actions,n=this.state,l=n.tooltip,o=n.zoomText,r=n.withoutAPIKey,s=n.validAPIKey,d=this.getMapNode();if(!d)return null;var u=d.getIn(["data","widget","style"],"roadmap"),c=d.getIn(["data","widget","zoom"],12),f=d.getIn(["data","widget","scrollwheel"],!0),g=d.getIn(["data","widget","enableTouch"],!0),b="map-settings custom";b+=r?" wf-missing-api-key":"",b+=r||s?"":" wf-invalid-api-key";var y=r||!s;return m.default.createElement(p.default,{className:b,name:"map",title:"Map Settings",settingsSectionFlags:t.external.settingsSectionFlags,toggleSettingsSection:a.external.toggleSettingsSection},m.default.createElement("div",{className:"kit-panel"},r?m.default.createElement("div",{className:"kit-field apikey"},m.default.createElement("div",{className:"kit-title"},"Google Maps API Key Required"),m.default.createElement("div",{className:"kit-label apikey"},"An API key is required to display Google Maps."),m.default.createElement("div",{className:"kit-button kit-button-replace kit-input-control has-text",onClick:this.onAPIKeyClick},m.default.createElement("span",{className:"text"},"Add API Key ",m.default.createElement(I.default,null)))):null,r||s?null:m.default.createElement("div",{className:"kit-field apikey"},m.default.createElement("div",{className:"kit-title"},"Invalid API Key ",m.default.createElement(T.default,null)),m.default.createElement("div",{className:"kit-label apikey"},"The API key provided has been revoked or is invalid."),m.default.createElement("div",{className:"kit-button kit-button-replace kit-input-control has-text",onClick:this.onAPIKeyClick},m.default.createElement("span",{className:"text"},"Update API Key ",m.default.createElement(I.default,null)))),r||!s?m.default.createElement("div",{className:"kit-divider"}):null,m.default.createElement(C.default,(0,i.default)({disabled:y},this.props)),m.default.createElement("div",{className:"kit-field tooltip"},m.default.createElement(h.default,{text:"Tooltip"}),m.default.createElement(v.default,{className:"tooltip",value:l,placeholder:"e.g. Headquarters",maxLength:1024,onChange:this.onTooltipChange,onEnter:this.onTooltipCommit,onBlur:this.onTooltipCommit,disabled:y})),m.default.createElement("div",{className:"kit-field zoom"},m.default.createElement(h.default,{text:"Zoom"}),m.default.createElement(S.default,{value:c,minValue:0,maxValue:18,step:1,onChange:this.onMapZoomSliderChange,disabled:y}),m.default.createElement(v.default,{value:o,maxLength:2,onChange:this.onMapZoomTextChange,onEnter:this.onMapZoomTextCommit,onBlur:this.onMapZoomTextCommit,disabled:y})),m.default.createElement("div",{className:"kit-divider"}),m.default.createElement("div",{className:"kit-field style"},m.default.createElement("div",{className:"kit-title"},"Map Type"),m.default.createElement(E.default,{buttonClass:"has-text",value:u,onChange:this.onStyleChange,choices:[{value:"roadmap",label:"Road"},{value:"terrain",label:"Terrain"},{value:"satellite",label:"Satellite"},{value:"hybrid",label:"Hybrid"}],disabled:y})),m.default.createElement("div",{className:"kit-checkbox-group kit-insert-box"},m.default.createElement(N.default,{checked:f,onClick:this.onToggleScrollwheel,disabled:y},"Scrollwheel"),m.default.createElement(N.default,{checked:g,onClick:this.onToggleEnableTouch,disabled:y},"Touch drag")),r?null:m.default.createElement("div",{className:"kit-divider"}),r?null:m.default.createElement("div",{className:"kit-field apikey update"},m.default.createElement("div",{className:"kit-button kit-button-replace kit-input-control has-text",onClick:this.onAPIKeyClick},m.default.createElement("span",{className:"text"},"Update API Key ",m.default.createElement(I.default,null))))))}}]),MapSettings}(m.default.Component);t.default=_},5190:function(e,t,a){"use strict";var n=a(323),l=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=l(a(325)),o=l(a(321)),r=l(a(322)),s=l(a(327)),d=l(a(326)),u=l(a(332)),c=l(a(328)),f=l(a(324)),m=n(a(320)),g=a(330),p=l(a(381)),h=l(a(329)),v=a(366),S=l(a(384)),E=l(a(1957)),N=l(a(418)),C=l(a(1276)),b=l(a(767)),y=a(468),k=l(a(611)),I=l(a(5191)),T=l(a(5192)),A=l(a(1278)),_=l(a(2069)),x=a(361),P=a(345),R=n(a(481)),O=a(447),D=n(a(2070)),F=n(a(678)),w=n(a(1958)),M=l(a(372)),L=a(1277),U=a(508),V=a(340),B=l(a(5193)),H=a(333),G=a(815),q=a(475),Q=a(370),W=a(720),j=a(663),z=a(331),Y=l(a(511)),K=l(a(2071)),X=a(350),Z=a(353),J=a(431),$=(0,Q.getElse)(["data","dyn","query","filterFor"],J.QUERY_FILTER_FOR_STATES.ALL),ee=(0,Q.getElse)(["data","dyn","query","fields"],(0,g.Map)()),te=(0,Q.getElse)(["data","dyn","query","sort"],(0,g.List)()),ae=(0,Q.get)(["data","dyn","query","offset"]),ne=(0,Q.getElse)(["data","dyn","query","limit"],null),le=(0,z.styledDiv)({display:"flex",flexBasis:"100px",alignItems:"center"},{second:function(e){return{marginLeft:e.theme.gutters.wide}}}),ie=(0,z.styled)(Z.FinePrint)(function(e){return{whiteSpace:"nowrap",marginRight:e.theme.gutters.narrow}}),oe={collectionId:null,queryParams:(0,g.List)(),queryParamsFilterForValue:J.QUERY_FILTER_FOR_STATES.ALL,querySorts:(0,g.List)(),offset:null,limit:null},re=function(e){function DynListSettings(){var e,t;(0,o.default)(this,DynListSettings);for(var a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return t=(0,s.default)(this,(e=(0,d.default)(DynListSettings)).call.apply(e,[this].concat(n))),(0,f.default)((0,u.default)(t),"state",oe),(0,f.default)((0,u.default)(t),"onQueryParamAdd",function(){t.setState(function(e){return{queryParams:e.queryParams.push((0,A.default)({fieldPath:(0,U.createFieldPath)("name"),operator:F.OPERATOR_EQ,value:"value",value2:null,value3:null,open:!0,mint:!0}))}})}),(0,f.default)((0,u.default)(t),"onQuerySortAdd",function(){var e=t.getSortableProperties(),a=function(t){var a=null;return e.some(function(e){return!t.querySorts.some(function(t){return t.property===e})&&(a=e,!0)}),a||"name"};t.setState(function(e){return{querySorts:e.querySorts.push((0,_.default)({property:a(e),ascending:!0,open:!0,mint:!0}))}})}),(0,f.default)((0,u.default)(t),"onToggleLimited",function(){t.props.dispatch(w.dynListOffsetLimitChanged({uiNodeState:t.props.stores.uiNode}))}),(0,f.default)((0,u.default)(t),"onOffsetChange",function(e){var a=t.props.stores.uiNode.selectedNodeNativeId;a&&t.props.dispatch(w.dynListOffsetChanged({nodeId:a,offset:e}))}),(0,f.default)((0,u.default)(t),"onLimitChange",function(e){var a=t.props.stores.uiNode.selectedNodeNativeId;a&&t.props.dispatch(w.dynListLimitChanged({nodeId:a,limit:e}))}),(0,f.default)((0,u.default)(t),"onLimitReset",function(){t.onLimitChange(null)}),(0,f.default)((0,u.default)(t),"onSortEnd",function(e){var a=e.startIndex,n=e.endIndex;if(e.commit){var l=t.props.stores.uiNode.selectedNodeNativeId;if(!l)return;t.props.dispatch(w.dynQuerySortMoved({nodeId:l,startIndex:a,endIndex:n}))}}),(0,f.default)((0,u.default)(t),"onQueryParamOpen",function(e){t.setState(function(t){return{queryParams:t.queryParams.setIn([e,"open"],!0)}})}),(0,f.default)((0,u.default)(t),"onQueryParamClose",function(){t.setState(function(e){return{queryParams:e.queryParams.filter(function(e){return!e.mint}).map(function(e){return e.set("open",!1)})}})}),(0,f.default)((0,u.default)(t),"onQueryParamCommit",function(e){var a=e.fieldPath,n=e.fieldType,l=e.index,o=e.operator,r=e.value,s=e.value2,d=e.value3,u=e.commit,c=t.state.queryParams,f=c.getIn([l,"mint"],!1),m=c.update(l,function(e){return void 0!==a&&(e=e.set("fieldPath",a)),void 0!==o&&(e=e.set("operator",o)),void 0!==r&&(e=e.set("value",r)),void 0!==s&&(e=e.set("value2",s)),void 0!==d&&(e=e.set("value3",d)),u&&(e=e.set("mint",!1)),e}).filter(function(e){return!e.mint}).map(function(e){return e.set("open",!1)});if(t.setState({queryParams:m}),u){var g=t.props.stores.uiNode.selectedNodeNativeId;if(!g)return;var p=(0,i.default)({},f?{}:{index:l},{nodeId:g,fieldPath:a,operator:o,value:r,value2:s,value3:d,fieldType:n}),h=f?w.dynQueryParamAdded:w.dynQueryParamChanged;t.props.dispatch(h(p))}}),(0,f.default)((0,u.default)(t),"handleQueryParamsFilterForSwitch",function(e){var a=t.props.stores.uiNode.selectedNodeNativeId;a&&(t.setState({queryParamsFilterForValue:e}),t.props.dispatch(w.dynQueryFilterForChanged({nodeId:a,value:e})))}),(0,f.default)((0,u.default)(t),"onQuerySortOpen",function(e){t.setState(function(t){return{querySorts:t.querySorts.setIn([e,"open"],!0)}})}),(0,f.default)((0,u.default)(t),"onQuerySortClose",function(){t.setState(function(e){return{querySorts:e.querySorts.filter(function(e){return!e.mint}).map(function(e){return e.set("open",!1)})}})}),(0,f.default)((0,u.default)(t),"onQuerySortCommit",function(e){var a=e.index,n=e.property,l=e.ascending,o=e.commit,r=t.state.querySorts,s=r.getIn([a,"mint"]),d=r.update(a,function(e){return void 0!==n&&(e=e.set("property",n)),void 0!==l&&(e=e.set("ascending",l)),o&&(e=e.set("mint",!1)),e}).filter(function(e){return!e.mint}).map(function(e){return e.set("open",!1)});if(t.setState({querySorts:d}),o){var u=t.props.stores.uiNode.selectedNodeNativeId;if(!u)return;var c=(0,i.default)({},s?{}:{index:a},{nodeId:u,property:n,ascending:l}),f=s?w.dynQuerySortAdded:w.dynQuerySortChanged;t.props.dispatch(f(c))}}),(0,f.default)((0,u.default)(t),"renderItem",function(e){var a=e.item,n=e.index,l=e.Item,i=e.Item_Handle,o=t.props,r=o.stores,s=o.actions,d=o.dispatch,u=t.state,c=u.collectionId,f=u.querySorts;return m.createElement(b.default,{key:n,itemData:a,index:n,open:a.open,onOpen:t.onQuerySortOpen,onClose:t.onQuerySortClose,onCommit:t.onQuerySortCommit,childProps:{stores:r,actions:s,collectionId:c,querySorts:f,dispatch:d,type:"sort",Item:l,Item_Handle:i},Item:ue,Panel:T.default})}),(0,f.default)((0,u.default)(t),"togglePaginationEnabled",function(){var e=t.getDynamoWrapperNode(t.props);if(e){var a=(0,V.isPaginatedList)(e)?H.PAGINATION_DISABLED:H.PAGINATION_ENABLED;t.props.dispatch({type:a})}}),(0,f.default)((0,u.default)(t),"updatePaginationLimit",function(e){var a={limit:e};t.props.dispatch({type:H.PAGINATION_LIMIT_UPDATED,payload:a})}),(0,f.default)((0,u.default)(t),"selectPaginationPage",function(e){var a=t.getDynamoWrapperNode(t.props);if(a){var n={wrapperId:a.id,pageNumber:e};t.props.dispatch({type:H.PAGINATION_PAGE_SWITCHED,payload:n})}}),(0,f.default)((0,u.default)(t),"getTotalItems",function(){var e=t.getDynamoWrapperNode(t.props),a=t.props.stores,n=a.collection,l=a.bindingContext,i=a.dataManagerUI;return e?(0,G.numberOfNonNestedDynamicListItems)(e)(n)(l)(i):0}),t}return(0,c.default)(DynListSettings,e),(0,r.default)(DynListSettings,[{key:"UNSAFE_componentWillMount",value:function(){this.refreshAttributes()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.props;e.stores.uiNode.selectedNodeNativeId===t.stores.uiNode.selectedNodeNativeId&&(0,g.is)(e.stores.abstractNode,t.stores.abstractNode)&&(0,g.is)(e.stores.bindingContext,t.stores.bindingContext)||this.refreshAttributes(e)}},{key:"refreshAttributes",value:function(e){e=e||this.props;var t=this.getDynamoWrapperNode(e);if(t){var a=e.stores,n=a.bindingContext.pageCollectionId,l=a.collection.collections,i=(0,q.getListItemCollectionId)(t),o=(0,q.getListContextCollectionId)(t),r=(0,q.getListContextItemRefSetSlug)(t),s=o&&r?(0,O.buildFauxItemRefSetCollectionId)(o,r):i||null,d=(0,O.getAllCollections)({collections:l,contextCollectionId:n}),u=ee(t),c=i&&u.size>0?D.parseQuery({json:u.toJS(),collectionId:i,allCollections:d}):(0,g.List)(),f=te(t),m=f.size>0&&D.parseSorts(f.toJS())||(0,g.List)(),p=ae(t);this.setState({collectionId:s,queryParams:c,queryParamsFilterForValue:$(t),querySorts:m,offset:"number"==typeof p?p+1:null,limit:ne(t)})}}},{key:"getSelectedNode",value:function(e){var t=(e=e||this.props).stores,a=t.abstractNode,n=t.uiNode.selectedNodeNativeId;return(0,P.getAbstractNode)(a,n)}},{key:"getDynamoWrapperNode",value:function(e){var t=(e=e||this.props).stores.abstractNode,a=this.getSelectedNode(e);return a?(0,x.closestDynamoWrapper)(a,t.root):null}},{key:"getParentDynamoWrapperNode",value:function(e){var t=(e=e||this.props).stores.abstractNode,a=this.getSelectedNode(e);return a?(0,x.closestParentDynamoWrapper)(a,t.root):null}},{key:"hasLimitOrOffset",value:function(){return null!==this.state.offset||null!==this.state.limit}},{key:"getAddSortClasses",value:function(){return(0,p.default)(["kit-button","add-part"],{disabled:this.hasRandomSort()})}},{key:"getSortableProperties",value:function(){var e=this.props.stores,t=e.bindingContext,a=e.collection,n=this.state,l=n.collectionId,i=n.querySorts,o=(0,L.getCollection)(l,a,t).get("fields").filter(function(e){var t=e.get("type"),a=e.get("slug");return h.default.includes(M.default.sortableFieldTypes,t)&&!h.default.includes(F.HIDDEN_FIELDS,a)}).map(function(e){return e.get("slug")}).toArray(),r=["_random"];return 1===i.size?o.concat(r):this.hasRandomSort()?r:o}},{key:"hasRandomSort",value:function(){return this.state.querySorts.some(function(e){return"_random"===e.get("property")})}},{key:"render",value:function(){var e=this,t=this.props,a=t.stores,n=t.actions,l=t.dispatch,i=this.state,o=i.collectionId,r=i.queryParams,s=i.queryParamsFilterForValue,d=i.querySorts,u=i.offset,c=i.limit,f=Boolean(this.getParentDynamoWrapperNode(this.props)),g=Boolean(o&&(0,O.isFauxItemRefSetCollectionId)(o)),p=Boolean(o)&&!g,h=this.hasLimitOrOffset(),y=d.some(function(e){return!e.mint}),T=this.getDynamoWrapperNode(this.props),A=Boolean(T&&(0,V.isPaginatedList)(T)),_=T?(0,j.getPaginationLimit)(T):j.PAGINATION_MAX_LIMIT,x=T&&a.designer.paginationPageNumbers[(0,W.getPaginationKeyFromNodeId)(T.id)]||1,P=(0,W.capDynamoWrapperLimit)(A)(f);return m.createElement(S.default,{className:"dynlist-settings custom","data-automation-id":"DynListSettings",name:"dynlist",title:"Collection List Settings",settingsSectionFlags:a.external.settingsSectionFlags,toggleSettingsSection:n.external.toggleSettingsSection},m.createElement("div",{className:"kit-panel"},m.createElement(E.default,{stores:a,actions:n,dispatch:l}),p&&m.createElement(m.Fragment,null,m.createElement("div",{className:"kit-divider"}),m.createElement("div",{"data-automation-id":"collection-list-settings-filters-group"},m.createElement("div",{className:"kit-field query"},m.createElement(N.default,{text:"Filters"}),m.createElement("div",{className:"button-group"},m.createElement("div",{className:"kit-button add-part","data-automation-id":"add-filter-button",onClick:this.onQueryParamAdd},m.createElement("i",{className:"icon-main common-add"})))),m.createElement("div",{id:"query-parameter-list","data-automation-id":"filter-query-param-list",className:"query-param kit-list-wrapper kit-field"},m.createElement(C.default,{items:r,hasItems:!1},function(t,i){return m.createElement(b.default,{key:i,itemData:t,index:i,open:t.open,onOpen:e.onQueryParamOpen,onClose:e.onQueryParamClose,onCommit:e.onQueryParamCommit,childProps:{stores:a,actions:n,collectionId:o,queryParams:r,dispatch:l,type:"query"},Item:de,Panel:I.default})})),r.size>1?m.createElement(QueryFilterForDropdown,{onChange:this.handleQueryParamsFilterForSwitch,value:s}):null)),p&&m.createElement(m.Fragment,null,m.createElement("div",{className:"kit-divider"}),m.createElement("div",{"data-automation-id":"collection-list-settings-sorts-group"},m.createElement("div",{className:"kit-field query"},m.createElement(N.default,{text:"Sort Order"}),m.createElement("div",{className:"button-group"},m.createElement("div",{className:this.getAddSortClasses(),"data-automation-id":"collection-list-settings-add-sorting",onClick:this.onQuerySortAdd},m.createElement("i",{className:"icon-main common-add"})))),m.createElement("div",{id:"query-sort-list",className:"query-sort kit-list-wrapper kit-field","data-automation-id":"collection-list-settings-sorting-list"},d.size>0?m.createElement(k.default,{className:"kit-list2",styleDragOffset:!0,onSortEnd:this.onSortEnd,items:d,getItemKey:se,renderItem:this.renderItem}):null,y?null:m.createElement("div",{className:"kit-list"},m.createElement("div",{className:"kit-empty-list"},"None"))))),p&&m.createElement(m.Fragment,null,m.createElement("div",{className:"kit-divider"}),m.createElement(B.default,{itemsPerPage:_,paginationEnabled:A,togglePaginationEnabled:this.togglePaginationEnabled,totalItems:this.getTotalItems(),updatePaginationLimit:this.updatePaginationLimit,pageNumber:x,selectPage:this.selectPaginationPage})),(p||f)&&m.createElement(m.Fragment,null,m.createElement("div",{className:"kit-divider"}),m.createElement(K.default,{checked:h,label:"Limit items",dataAutomationIdToggle:"limit-settings-toggle",onClick:this.onToggleLimited},m.createElement(X.FlexRow,null,m.createElement(le,null,m.createElement(ie,null,"Show:"),m.createElement(Y.default,{value:A?null==c?void 0:c:P(c),placeholder:A?"All":void 0,min:1,max:P(99999),step:1,onChange:this.onLimitChange,onReset:this.onLimitReset,optional:A,"data-automation-id":"limit-settings-item-count-field"})),f?null:m.createElement(le,{second:!0},m.createElement(ie,null,"Start at:"),m.createElement(Y.default,{value:null==u?void 0:u,min:1,max:99999,step:1,onChange:this.onOffsetChange,"data-automation-id":"limit-settings-starting-index-field"})))),!f&&!A&&h&&P(c)>=100?m.createElement(v.Note,{marginTop:2,content:"To list more than 100 Collection items, turn on pagination."}):null,f&&h&&P(c)>=5?m.createElement(v.Note,{marginTop:2,content:"Nested collection lists may only display up to 5 items."}):null)))}}]),DynListSettings}(m.Component);t.default=re;var se=function(e){return e.property},de=function(e){function QueryParamItem(){var e,t;(0,o.default)(this,QueryParamItem);for(var a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return t=(0,s.default)(this,(e=(0,d.default)(QueryParamItem)).call.apply(e,[this].concat(n))),(0,f.default)((0,u.default)(t),"onRemoveClick",function(e){e.preventDefault(),e.stopPropagation();var a=t.props,n=a.dispatch,l=a.index,i=a.stores.uiNode.selectedNodeNativeId;i&&n(w.dynQueryParamRemoved({nodeId:i,index:l}))}),t}return(0,c.default)(QueryParamItem,e),(0,r.default)(QueryParamItem,[{key:"getField",value:function(){var e=this.props,t=e.item.fieldPath,a=e.stores,n=a.collection,l=a.bindingContext,i=e.collectionId;if((0,U.isFauxDynContextField)(t))return(0,g.Map)({name:"_id"});var o=(0,U.isFieldOfItemRef)(t)?(0,L.getReferencedCollection)((0,U.getItemRefSlug)(t),i,n,l):(0,L.getCollection)(i,n,l);return(o?o.fields:(0,g.List)()).find(function(e){return e.get("slug")===(0,U.getValueFieldSlug)(t)})}},{key:"getHumanText",value:function(){var e=this.getField();if(!e)return null;var t=this.props,a=t.item,n=t.collectionId,l=t.stores,i=l.collection,o=l.bindingContext,r=(0,L.getCollection)(n,i,o);return(0,L.getHumanText)({bindingContextState:o,collection:r,collectionState:i,field:e,item:a})}},{key:"render",value:function(){var e=this.props,t=e.item.mint,a=e.onClick;return t?m.createElement(AddPartButton,null):m.createElement("div",{className:"kit-list-item","data-automation-id":"filter-list-item",onClick:a},m.createElement("div",{className:"label one-line-text"},this.getHumanText()),m.createElement("a",{className:"trash sprite-mid","data-automation-id":"filter-list-item-trash-link",onClick:this.onRemoveClick},m.createElement("i",null)))}}]),QueryParamItem}(m.Component),ue=function(e){function QuerySortItem(){var e,t;(0,o.default)(this,QuerySortItem);for(var a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return t=(0,s.default)(this,(e=(0,d.default)(QuerySortItem)).call.apply(e,[this].concat(n))),(0,f.default)((0,u.default)(t),"onRemoveClick",function(e){var a=t.props,n=a.dispatch,l=a.index,i=a.stores.uiNode.selectedNodeNativeId;i&&(n(w.dynQuerySortRemoved({nodeId:i,index:l})),e.preventDefault(),e.stopPropagation())}),t}return(0,c.default)(QuerySortItem,e),(0,r.default)(QuerySortItem,[{key:"getField",value:function(){var e=this.props,t=e.item.property,a=e.collectionId,n=e.stores,l=n.collection,i=n.bindingContext;return(0,L.getCollection)(a,l,i).fields.find(function(e){return e.get("slug")===t})}},{key:"getPropertyText",value:function(){return"_random"===this.props.item.property?"Random":this.getField().get("name")}},{key:"getOrderText",value:function(){var e=this.props,t=e.item,a=t.ascending,n=t.property,l=e.collectionId,i=e.stores,o=i.collection,r=i.bindingContext,s=(0,L.getCollection)(l,o,r);return R.textForSort({ascending:a,collection:s,property:n})}},{key:"render",value:function(){var e=this.props,t=e.item.mint,a=e.Item,n=e.Item_Handle,l=e.onClick;return t?m.createElement(AddPartButton,null):a({className:(0,p.default)("kit-list2-item","flat"),onClick:l,children:[m.createElement("div",{className:"kit-list2-item-wrap",key:"wrap"},n({className:"kit-drag-handle"}),m.createElement("div",{className:"label one-line-text"},m.createElement("span",{className:"prop"},this.getPropertyText()),m.createElement("span",{className:"comma"},", "),m.createElement("span",{className:"order"},this.getOrderText())),m.createElement("a",{className:"trash sprite-mid",onClick:this.onRemoveClick},m.createElement("i",null)))]})}}]),QuerySortItem}(m.Component);function AddPartButton(){return m.createElement("div",{className:"button-group"},m.createElement("div",{className:"kit-button add-part"},m.createElement("i",{className:"icon-main common-add"})))}var ce=[{text:"All Filters",value:J.QUERY_FILTER_FOR_STATES.ALL},{text:"Any Filters",value:J.QUERY_FILTER_FOR_STATES.ANY}],fe=(0,z.styledDiv)(function(e){return{alignItems:"center",display:"flex",marginTop:e.theme.gutters.x4}}),me=(0,z.styledDiv)(function(e){return{flexShrink:0,marginRight:e.theme.gutters.x8}}),ge={flexGrow:1};function QueryFilterForDropdown(e){var t=e.onChange,a=e.value;return m.createElement(fe,{"data-automation-id":"query-filter-for-dropdown-wrap"},m.createElement(me,null,"Show items matching:"),m.createElement(y.Select,{"data-automation-id":"query-filter-for-select",handleChange:t,value:a,style:ge},ce.map(function(e){return m.createElement(y.Option,{key:e.value,label:e.text,value:e.value})})))}},5191:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(334)),i=n(a(321)),o=n(a(322)),r=n(a(327)),s=n(a(326)),d=n(a(332)),u=n(a(328)),c=n(a(324)),f=n(a(320)),m=n(a(647)),g=n(a(2068)),p=n(a(553)),h=function(e){function QueryParamPanel(){var e,t;(0,i.default)(this,QueryParamPanel);for(var a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return t=(0,r.default)(this,(e=(0,s.default)(QueryParamPanel)).call.apply(e,[this].concat(n))),(0,c.default)((0,d.default)(t),"onClose",function(){(0,t.props.onCommit)(!1)}),(0,c.default)((0,d.default)(t),"getTitle",function(){return(t.props.item.mint?"Add":"Edit")+" Filter"}),t}return(0,u.default)(QueryParamPanel,e),(0,o.default)(QueryParamPanel,[{key:"render",value:function(){var e=f.default.createElement(m.default,null,f.default.createElement("div",{className:"query-item-param-panel small-double-field-panel cond-vis-param-panel"},f.default.createElement(g.default,(0,l.default)({type:"query"},this.props))));return f.default.createElement(p.default,{title:this.getTitle(),content:e,open:this.props.open,arrowSize:0,handleOpen:this.onClose,showMask:!0},this.props.children)}}]),QueryParamPanel}(f.default.Component);t.default=h},5192:function(e,t,a){"use strict";var n=a(323),l=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=l(a(321)),o=l(a(322)),r=l(a(327)),s=l(a(326)),d=l(a(332)),u=l(a(328)),c=l(a(324)),f=l(a(320)),m=l(a(329)),g=l(a(647)),p=l(a(854)),h=l(a(553)),v=l(a(372)),S=a(581),E=n(a(481)),N=a(447),C=n(a(678)),b=a(388),y=l(a(963)),k=function(e){function QuerySortPanel(){var e,t;(0,i.default)(this,QuerySortPanel);for(var a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return t=(0,r.default)(this,(e=(0,s.default)(QuerySortPanel)).call.apply(e,[this].concat(n))),(0,c.default)((0,d.default)(t),"onPropertyChange",t.onPropertyChange.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onAscendingChange",t.onAscendingChange.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onSave",t.onSave.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onClose",t.onClose.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"state",{property:"",ascending:!0}),t}return(0,u.default)(QuerySortPanel,e),(0,o.default)(QuerySortPanel,[{key:"UNSAFE_componentWillMount",value:function(){this.refreshState()}},{key:"componentDidUpdate",value:function(e,t){m.default.isEqual(t,this.state)||this.props.refreshPanel()}},{key:"refreshState",value:function(e){var t=(e=e||this.props).item,a=t.property,n=t.ascending;this.setState({property:a,ascending:n})}},{key:"getAllCollections",value:function(){var e=this.props.stores,t=e.collection,a=e.bindingContext,n=t.collections,l=a.pageCollectionId;return(0,N.getAllCollections)({collections:n,contextCollectionId:l})}},{key:"getCollection",value:function(){var e=this.props.collectionId;return this.getAllCollections().find(function(t){return t._id===e})}},{key:"getSortableProperties",value:function(){var e=this.getCollection().get("fields").toArray().filter(function(e){var t=e.type,a=e.slug;return m.default.includes(v.default.sortableFieldTypes,t)&&!m.default.includes(C.HIDDEN_FIELDS,a)}),t=(0,S.reifyField)({id:"random",name:"Random order",slug:"_random",type:"Random"});return 1===this.props.querySorts.size?e.concat([t]):this.hasRandomSort()?[t]:e}},{key:"isRandomSort",value:function(){return"_random"===this.state.property}},{key:"hasRandomSort",value:function(){return this.props.querySorts.some(function(e){return"_random"===e.property})}},{key:"getSortOrders",value:function(){var e=this.state.property,t=this.getCollection();return[{value:!0,text:E.textForSort({property:e,ascending:!0,collection:t})},{value:!1,text:E.textForSort({property:e,ascending:!1,collection:t})}]}},{key:"onPropertyChange",value:function(e){this.setState({property:e})}},{key:"onAscendingChange",value:function(e){this.setState({ascending:e})}},{key:"onSave",value:function(){var e=this.props,t=e.index,a=e.onCommit,n=this.state;a({index:t,property:n.property,ascending:n.ascending,commit:!0})}},{key:"onClose",value:function(){var e=this.props,t=e.index;(0,e.onCommit)({index:t,commit:!1})}},{key:"render",value:function(){var e=this.state,t=e.property,a=e.ascending,n=this.getSortableProperties(),l=this.getSortOrders(),i=this.isRandomSort(),o=this.hasRandomSort(),r=f.default.createElement(g.default,null,f.default.createElement("div",{className:"query-item-sort-panel settings-panel small-double-field-panel"},f.default.createElement("div",{className:"sort"},f.default.createElement("div",{className:"field property","data-automation-id":"sort-panel-property-field"},f.default.createElement(p.default,{value:t,onChange:this.onPropertyChange},n.map(function(e){var t=(0,b.getFieldDisplayType)(e),a=t?e.name+" ("+t+")":e.name;return f.default.createElement("option",{value:e.slug,label:a,key:e.slug},f.default.createElement("span",{className:"label"},e.name),t&&f.default.createElement("span",{className:"type"},t))}))),i?null:f.default.createElement("div",{className:"field order","data-automation-id":"sort-panel-order-field"},f.default.createElement(p.default,{value:a,onChange:this.onAscendingChange},l.map(function(e){return f.default.createElement("option",{value:e.value,label:e.text,key:e.text+":"+e.value},e.text)}))),o?f.default.createElement("div",{className:"info"},f.default.createElement("div",{className:"icon"},f.default.createElement(y.default,null)),f.default.createElement("div",{className:"text"},f.default.createElement("span",null,"Remove the random sort to sort by a field."))):null),f.default.createElement("div",{className:"add"},f.default.createElement("div",{className:"kit-button has-text","data-automation-id":"sort-panel-save-button",onClick:this.onSave},"Save"))));return f.default.createElement(h.default,{title:"Sort Order",content:r,open:this.props.open,arrowSize:0,handleOpen:this.onClose,showMask:!0},this.props.children)}}]),QuerySortPanel}(f.default.Component);t.default=k},5193:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(320)),i=a(329),o=a(331),r=a(353),s=n(a(817)),d=n(a(511)),u=a(336),c=a(403),f=a(663),m=n(a(2071)),g=a(350),p=n(a(5194)),h=(0,o.styled)(p.default)(function(e){return{marginTop:e.theme.gutters.normal}}),v=(0,u.weakMemo)(function(e){return(0,i.throttle)(function(t){return e((0,c.clamp)(1,f.PAGINATION_MAX_LIMIT,Math.ceil(t)))},16)}),S=(0,o.styled)(d.default)({width:40}),E=(0,o.styled)(s.default)(function(e){var t=e.theme.gutters;return{flexGrow:1,marginLeft:t.normal,marginRight:t.normal}}),N=function(e){var t=e.paginationEnabled,a=e.togglePaginationEnabled,n=e.itemsPerPage,i=e.totalItems,o=e.updatePaginationLimit,s=e.pageNumber,d=e.selectPage,u=i>0?Math.ceil(i/n):1,c=v(o),p=l.default.createElement(l.default.Fragment,null,l.default.createElement(g.FlexRow,{align:"center"},l.default.createElement(r.FinePrint,null,"Items/page:"),l.default.createElement(E,{disabled:!1,onChange:c,value:n,step:1,min:1,max:f.PAGINATION_MAX_LIMIT}),l.default.createElement(S,{onChange:c,value:n,step:1,min:1,max:f.PAGINATION_MAX_LIMIT,"data-automation-id":"pagination-settings-ipp-input"})),l.default.createElement(h,{pageNumber:s,itemsPerPage:n,totalItems:i,selectPage:d}));return l.default.createElement(m.default,{checked:t,label:"Paginate items",onClick:function(){return a(!t)},finePrint:t?"".concat(u," page").concat(1===u?"":"s"):null,dataAutomationIdToggle:"pagination-settings-toggle"},p)};t.default=N},5194:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(321)),i=n(a(322)),o=n(a(327)),r=n(a(326)),s=n(a(332)),d=n(a(328)),u=n(a(324)),c=n(a(320)),f=a(329),m=a(331),g=a(350),p=a(353),h=a(468),v=a(389),S=n(a(570)),E=n(a(5195)),N=n(a(1255)),C=a(336),b=a(403),y=(0,m.styled)(g.FlexRow)({alignItems:"center",justifyContent:"between"}),k=(0,m.styled)(p.FinePrint)(function(e){return{width:44,marginRight:e.theme.gutters.normal}}),I=(0,m.styled)(h.Select)(function(e){return{marginRight:e.theme.gutters.normal,flexGrow:1}}),T=(0,m.styled)(S.default)({flexBasis:"auto",width:"49px"}),A=(0,C.singleMemo)(function(e){return(0,f.range)(1,e+1).map(function(t){return c.default.createElement(h.Option,{key:t,value:t,label:_(t,e)})})}),_=function(e,t){return"".concat(e," of ").concat(t)},x=function(e){function PaginationPreviewSettings(){var e,t;(0,l.default)(this,PaginationPreviewSettings);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return t=(0,o.default)(this,(e=(0,r.default)(PaginationPreviewSettings)).call.apply(e,[this].concat(n))),(0,u.default)((0,s.default)(t),"selectPreviousPage",function(){var e=t.props,a=e.pageNumber,n=e.itemsPerPage,l=e.totalItems,i=l>0?Math.ceil(l/n):1,o=a-1,r=(0,b.wrap)(i,o-1);t.props.selectPage(r+1)}),(0,u.default)((0,s.default)(t),"selectNextPage",function(){var e=t.props,a=e.pageNumber,n=e.itemsPerPage,l=e.totalItems,i=l>0?Math.ceil(l/n):1,o=a-1,r=(0,b.wrap)(i,o+1);t.props.selectPage(r+1)}),t}return(0,d.default)(PaginationPreviewSettings,e),(0,i.default)(PaginationPreviewSettings,[{key:"componentDidUpdate",value:function(){var e=this.props,t=e.pageNumber,a=e.itemsPerPage,n=e.totalItems,l=e.selectPage,i=n>0?Math.ceil(n/a):1;t>i&&l(i)}},{key:"render",value:function(){var e=this.props,t=e.pageNumber,a=e.itemsPerPage,n=e.totalItems,l=e.selectPage,i=e.style,o=n>0?Math.ceil(n/a):1,r=(0,b.clamp)(1,o,t);return c.default.createElement(y,{style:i},c.default.createElement(k,null,"Preview:"),c.default.createElement(I,{animated:!1,handleChange:l,value:r,placeholder:_(r,o),"data-automation-id":"pagination-preview-settings-select-page"},A(o)),c.default.createElement(T,null,c.default.createElement(v.ButtonWithHitarea,{"data-automation-id":"pagination-preview-settings-prev-page",onClick:this.selectPreviousPage},c.default.createElement(E.default,null)),c.default.createElement(v.ButtonWithHitarea,{"data-automation-id":"pagination-preview-settings-next-page",onClick:this.selectNextPage},c.default.createElement(N.default,null))))}}]),PaginationPreviewSettings}(c.default.PureComponent);t.default=x},5195:function(e,t,a){"use strict";var n=a(320).createElement;e.exports=function(e){var t=e.scale||1;return n("svg",{"data-icon":"ChevronLeftMediumThick","aria-hidden":!0,focusable:!1,width:8*t,height:13*t,viewBox:"0 0 8 13",y:null!=e.y?e.y:null,x:null!=e.x?e.x:null,className:"bem-Svg"+(e.className?" "+e.className:""),style:Object.assign({display:"block",transform:"translate(0,0)"},e.style)},n("path",{fill:"none",stroke:"currentColor",strokeWidth:"2",strokeMiterlimit:"10",d:"M6 11L2 6.5 6 2"}))},e.exports.displayName="Svg(ChevronLeftMediumThick)"},5196:function(e,t,a){"use strict";var n=a(323),l=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=l(a(321)),o=l(a(322)),r=l(a(327)),s=l(a(326)),d=l(a(332)),u=l(a(328)),c=l(a(324)),f=l(a(320)),m=a(330),g=l(a(384)),p=l(a(1276)),h=l(a(767)),v=l(a(5197)),S=n(a(2070)),E=n(a(345)),N=n(a(678)),C=n(a(5198)),b=l(a(658)),y=l(a(1278)),k=a(1277),I=a(508),T=a(447),A=a(399),_=a(431),x=function(e){function CondVisSettings(){var e,t;(0,i.default)(this,CondVisSettings);for(var a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return t=(0,r.default)(this,(e=(0,s.default)(CondVisSettings)).call.apply(e,[this].concat(n))),(0,c.default)((0,d.default)(t),"state",{collectionId:null,condVisParams:(0,m.List)()}),(0,c.default)((0,d.default)(t),"onAddClick",function(){t.setState(function(e){return{condVisParams:e.condVisParams.update(function(e){var a=t.getPrimaryFieldOptionSlug();return e.push((0,y.default)({fieldPath:a?(0,I.createFieldPath)(a):"",operator:N.OPERATOR_EQ,value:"value",value2:null,value3:null,open:!0,mint:!0}))})}})}),(0,c.default)((0,d.default)(t),"onOpen",function(e){t.setState(function(t){return{condVisParams:t.condVisParams.setIn([e,"open"],!0)}})}),(0,c.default)((0,d.default)(t),"onClose",function(){t.setState(function(e){return{condVisParams:e.condVisParams.update(function(e){return e.filter(function(e){return!e.mint}).map(function(e){return e.set("open",!1)})})}})}),(0,c.default)((0,d.default)(t),"onCommit",function(e){var a=e.index,n=e.fieldPath,l=e.fieldType,i=e.operator,o=e.value,r=e.value2,s=e.value3,d=e.commit,u=t.state.condVisParams.getIn([a,"mint"],!1);if(t.setState(function(e){return{condVisParams:e.condVisParams.update(function(e){return e.update(a,function(e){return void 0!==n&&(e=e.set("fieldPath",n)),void 0!==i&&(e=e.set("operator",i)),void 0!==o&&(e=e.set("value",o)),void 0!==r&&(e=e.set("value2",r)),void 0!==s&&(e=e.set("value3",s)),d&&(e=e.set("mint",!1)),e}).filter(function(e){return!e.mint}).map(function(e){return e.set("open",!1)})})}}),d){var c=t.props,f=c.dispatch,m=c.stores.uiNode.selectedNodeNativeId;f(u?C.condVisParamAdded({nodeId:m,fieldPath:n,operator:i,value:o,value2:r,value3:s,fieldType:l}):C.condVisParamChanged({nodeId:m,index:a,operator:i,value:o,value2:r,value3:s,fieldType:l,fieldPath:n}))}}),t}return(0,u.default)(CondVisSettings,e),(0,o.default)(CondVisSettings,[{key:"UNSAFE_componentWillMount",value:function(){this.refreshAttributes()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.props;e.stores.uiNode.selectedNodeNativeId===t.stores.uiNode.selectedNodeNativeId&&(0,m.is)(e.stores.abstractNode,t.stores.abstractNode)&&(0,m.is)(e.stores.bindingContext,t.stores.bindingContext)||this.refreshAttributes(e)}},{key:"refreshAttributes",value:function(e){e=e||this.props;var t=this.getNode(e);if(t){var a=e.stores,n=a.bindingContext,l=a.collection,i=n.pageCollectionId,o=l.collections,r=(0,T.getAllCollections)({collections:o,contextCollectionId:i}),s=(0,T.getBindingCollectionId)(n),d=s?S.parseQuery({json:t.getIn(["data","dyn","condition","class","false",_.CONDITION_INVISIBLE_CLASS],(0,m.Map)()).toJS().fields,collectionId:s,allCollections:r}):(0,m.List)();this.setState({collectionId:s,condVisParams:d})}}},{key:"getNode",value:function(e){return e=e||this.props,E.getAbstractNode(e.stores.abstractNode,e.stores.uiNode.selectedNodeNativeId)}},{key:"getPrimaryFieldOptionSlug",value:function(){var e=this.state.collectionId,t=this.props.stores,a=t.collection,n=t.bindingContext,l=(0,k.getCollection)(e,a,n),i=l?l.fields:(0,m.List)();if(i&&(0,A.getFieldBySlug)(l,"name"))return"name";var o=i&&i.find(function(e){return"PlainText"===e.get("type")})||i.first();return o?o.get("slug"):null}},{key:"render",value:function(){var e=this,t=this.props,a=t.stores,n=t.actions,l=t.dispatch,i=this.state,o=i.collectionId,r=i.condVisParams;return f.default.createElement(g.default,{className:"cond-vis-settings custom",name:"cond-vis",title:"Conditional Visibility",settingsSectionFlags:a.external.settingsSectionFlags,toggleSettingsSection:n.external.toggleSettingsSection,"data-automation-id":"conditional-visibility-settings","aria-label":"Conditional Visibility"},f.default.createElement("div",{className:"kit-panel"},f.default.createElement("div",{className:"kit-field conditions"},f.default.createElement("div",{className:"kit-label"},f.default.createElement("span",null,"Conditions:")),f.default.createElement("div",{className:"button-group"},f.default.createElement("div",{className:"kit-button add-part",onClick:this.onAddClick},f.default.createElement("i",{className:"icon-main common-add"})))),f.default.createElement("div",{id:"cond-vis-parameter-list",className:"kit-list-wrapper kit-field cond-vis-param"},f.default.createElement(p.default,{items:r,hasItems:r.some(function(e){return!e.mint})},function(t,i){return f.default.createElement(h.default,{key:i,itemData:t,index:i,open:t.open,onOpen:e.onOpen,onClose:e.onClose,onCommit:e.onCommit,childProps:{stores:a,actions:n,condVisSettingsState:{collectionId:o,condVisParams:r},dispatch:l,type:"condition"},Item:P,Panel:v.default})}))))}}]),CondVisSettings}(f.default.Component);t.default=x;var P=function(e){function CondVisParamItem(){var e,t;(0,i.default)(this,CondVisParamItem);for(var a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return t=(0,r.default)(this,(e=(0,s.default)(CondVisParamItem)).call.apply(e,[this].concat(n))),(0,c.default)((0,d.default)(t),"onRemoveClick",function(e){var a=t.props.stores.uiNode.selectedNodeNativeId,n=t.props,l=n.dispatch,i=n.index;l(C.condVisParamRemoved({nodeId:a,index:i})),e.preventDefault(),e.stopPropagation()}),t}return(0,u.default)(CondVisParamItem,e),(0,o.default)(CondVisParamItem,[{key:"getCollection",value:function(){var e=this.props,t=e.condVisSettingsState.collectionId,a=e.stores,n=a.collection,l=a.bindingContext;return(0,k.getCollection)(t,n,l)}},{key:"getField",value:function(){var e=this.props,t=e.condVisSettingsState.collectionId,a=e.item.fieldPath,n=e.stores,l=n.collection,i=n.bindingContext;if((0,I.isFauxDynContextField)(a))return(0,b.default)({name:"_id"});var o=(0,I.isFieldOfItemRef)(a)?(0,k.getReferencedCollection)((0,I.getItemRefSlug)(a),t,l,i):this.getCollection();return(o?o.fields:(0,m.List)()).find(function(e){return e.get("slug")===(0,I.getValueFieldSlug)(a)})}},{key:"getHumanText",value:function(){var e=this.getField();if(!e)return null;var t=this.props,a=t.item,n=t.stores,l=n.collection,i=n.bindingContext,o=this.getCollection();return(0,k.getHumanText)({item:a,collection:o,field:e,collectionState:l,bindingContextState:i})}},{key:"render",value:function(){var e=this.props,t=e.item.mint,a=e.onClick;return t?f.default.createElement("div",{className:"button-group"},f.default.createElement("div",{className:"kit-button add-part"},f.default.createElement("i",{className:"icon-main common-add"}))):f.default.createElement("div",{className:"kit-list-item",onClick:a},f.default.createElement("div",{className:"label one-line-text"},this.getHumanText()),f.default.createElement("a",{className:"trash sprite-mid",onClick:this.onRemoveClick},f.default.createElement("i",null)))}}]),CondVisParamItem}(f.default.Component)},5197:function(e,t,a){"use strict";var n=a(323),l=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=l(a(334)),o=l(a(321)),r=l(a(322)),s=l(a(327)),d=l(a(326)),u=l(a(332)),c=l(a(328)),f=l(a(324)),m=n(a(320)),g=l(a(647)),p=l(a(2068)),h=l(a(553)),v=function(e){function CondVisParamPanel(){var e,t;(0,o.default)(this,CondVisParamPanel);for(var a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return t=(0,s.default)(this,(e=(0,d.default)(CondVisParamPanel)).call.apply(e,[this].concat(n))),(0,f.default)((0,u.default)(t),"onClose",function(){(0,t.props.onCommit)(!1)}),(0,f.default)((0,u.default)(t),"getTitle",function(){return(t.props.item.mint?"Add":"Edit")+" Condition"}),t}return(0,c.default)(CondVisParamPanel,e),(0,r.default)(CondVisParamPanel,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.condVisSettingsState,n=e.dispatch,l=e.index,o=e.item,r=e.refreshPanel,s=e.open,d={condVisSettingsState:a,dispatch:n,index:l,item:o,refreshPanel:r,stores:e.stores,onCommit:e.onCommit},u=m.createElement(g.default,null,m.createElement("div",{className:"query-item-param-panel small-double-field-panel cond-vis-param-panel"},m.createElement(p.default,(0,i.default)({type:"condition"},d))));return m.createElement(h.default,{title:this.getTitle(),content:u,open:s,arrowSize:0,handleOpen:this.onClose,showMask:!0},t)}}]),CondVisParamPanel}(m.Component);t.default=v},5198:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.condVisParamChanged=t.condVisParamRemoved=t.condVisParamAdded=void 0;var n=a(357),l=a(333),i=(0,n.createAction)(l.COND_VIS_PARAM_ADDED);t.condVisParamAdded=i;var o=(0,n.createAction)(l.COND_VIS_PARAM_REMOVED);t.condVisParamRemoved=o;var r=(0,n.createAction)(l.COND_VIS_PARAM_CHANGED);t.condVisParamChanged=r},5199:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(321)),i=n(a(322)),o=n(a(327)),r=n(a(326)),s=n(a(328)),d=n(a(320)),u=n(a(384)),c=n(a(5200)),f=function(e){function DynStyleSettings(){return(0,l.default)(this,DynStyleSettings),(0,o.default)(this,(0,r.default)(DynStyleSettings).apply(this,arguments))}return(0,s.default)(DynStyleSettings,e),(0,i.default)(DynStyleSettings,[{key:"render",value:function(){var e=this.props,t=e.stores,a=e.actions,n=e.dispatch,l=e.permanentlyDismissedNotes,i=t.bindingContext.inSearchContext;return d.default.createElement(u.default,{className:"dynlist-settings custom",name:"dynstyle",title:"".concat(i?"Search":"Dynamic"," Style Settings"),settingsSectionFlags:t.external.settingsSectionFlags,toggleSettingsSection:a.external.toggleSettingsSection},d.default.createElement("div",{className:"kit-panel"},d.default.createElement(c.default,{stores:t,inSearchContext:i,dispatch:n,permanentlyDismissedNotes:l})))}}]),DynStyleSettings}(d.default.Component);t.default=f},5200:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(321)),i=n(a(322)),o=n(a(327)),r=n(a(326)),s=n(a(328)),d=n(a(320)),u=n(a(700)),c=n(a(985)),f=a(345),m=a(361),g=a(713),p=function(e){function DynStyleSettingsShared(){return(0,l.default)(this,DynStyleSettingsShared),(0,o.default)(this,(0,r.default)(DynStyleSettingsShared).apply(this,arguments))}return(0,s.default)(DynStyleSettingsShared,e),(0,i.default)(DynStyleSettingsShared,[{key:"getNode",value:function(){return(0,f.getAbstractNode)(this.props.stores.abstractNode,this.props.stores.uiNode.selectedNodeNativeId)}},{key:"render",value:function(){var e=this.props,t=e.stores,a=e.inSearchContext,n=e.dispatch,l=e.permanentlyDismissedNotes,i=this.getNode();if(!i)return null;var o=i&&"img"===(0,g.__DEPRECATED__getTag)(i),r=i&&"image"===i.getIn(["data","search","bind","style","background-image",0,"slug"]),s=i&&(0,m.isInsideRepeaterListItem)(i)(t.abstractNode.root)||a;return d.default.createElement("div",{className:"dyn-style-settings-shared","data-automation-id":"dyn-style-settings"},s||o?null:d.default.createElement(u.default,{prop:"style",styleProp:"color",checkboxLabel:"Get Text Color from",stores:t,dispatch:n,node:i}),d.default.createElement(u.default,{prop:"style",styleProp:"background-image",checkboxLabel:"Get BG Image from",warningText:"This overrides all background images and gradients.",warningFaq:{link:"https://university.webflow.com/article/image-field?utm_source=settings-panel",text:"Learn More"},stores:t,dispatch:n,node:i}),s?null:d.default.createElement(u.default,{prop:"style",styleProp:"background-color",checkboxLabel:"Get BG Color from",stores:t,dispatch:n,node:i}),s?null:d.default.createElement(u.default,{prop:"style",styleProp:"border-color",checkboxLabel:"Get Border Color from",stores:t,dispatch:n,node:i}),r?d.default.createElement(c.default,{type:"image",dispatch:n,permanentlyDismissedNotes:l}):null)}}]),DynStyleSettingsShared}(d.default.Component);t.default=p},5201:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(321)),i=n(a(322)),o=n(a(327)),r=n(a(326)),s=n(a(328)),d=n(a(320)),u=n(a(384)),c=n(a(1963)),f=function(e){function RadioSettings(){return(0,l.default)(this,RadioSettings),(0,o.default)(this,(0,r.default)(RadioSettings).apply(this,arguments))}return(0,s.default)(RadioSettings,e),(0,i.default)(RadioSettings,[{key:"render",value:function(){var e=this.props,t=e.stores,a=e.actions,n=e.dispatch;return d.default.createElement(u.default,{className:"radio-settings",name:"radio",title:"Radio Button Settings",settingsSectionFlags:this.props.stores.external.settingsSectionFlags,toggleSettingsSection:this.props.actions.external.toggleSettingsSection},d.default.createElement("div",{className:"kit-panel"},d.default.createElement(c.default,{stores:t,actions:a,dispatch:n})))}}]),RadioSettings}(d.default.Component);t.default=f},5202:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(320)),i=n(a(384)),o=n(a(1962)),r=function(e){var t=e.stores,a=e.stores,n=a.abstractNode,r=a.uiNode,s=e.actions,d=e.dispatch;return l.default.createElement(i.default,{className:"checkbox-settings",name:"checkbox",title:"Checkbox Settings",settingsSectionFlags:t.external.settingsSectionFlags,toggleSettingsSection:s.external.toggleSettingsSection},l.default.createElement(o.default,{stores:{abstractNode:n,uiNode:r},dispatch:d}))};r.displayName="CheckboxSettings";var s=r;t.default=s},5203:function(e,t,a){"use strict";var n=a(323),l=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.TabsSettingsState=t.Tab=void 0;var i=l(a(321)),o=l(a(322)),r=l(a(327)),s=l(a(326)),d=l(a(332)),u=l(a(328)),c=l(a(324)),f=l(a(320)),m=l(a(330)),g=l(a(381)),p=l(a(329)),h=l(a(384)),v=l(a(418)),S=l(a(646)),E=l(a(611)),N=l(a(767)),C=l(a(1279)),b=l(a(5204)),y=n(a(349)),k=n(a(340)),I=n(a(345)),T=n(a(5205)),A=[0],_=m.default.Record({id:"",open:!1});t.Tab=_;var x=m.default.Record({tabs:m.default.List(),current:null,easing:"ease",fadeIn:0,fadeOut:1});t.TabsSettingsState=x;var P=function(e){function TabsSettings(){var e,t;(0,i.default)(this,TabsSettings);for(var a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return t=(0,r.default)(this,(e=(0,s.default)(TabsSettings)).call.apply(e,[this].concat(n))),(0,c.default)((0,d.default)(t),"onAddClick",t.onAddClick.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onOpen",t.onOpen.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onClose",t.onClose.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onCommit",t.onCommit.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onSelectClick",t.onSelectClick.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onEditClick",t.onEditClick.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onRemoveClick",t.onRemoveClick.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onEasingChange",t.onEasingChange.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onFadeInChange",t.onFadeInChange.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onFadeOutChange",t.onFadeOutChange.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"state",{tabsSettingsState:new x}),t}return(0,u.default)(TabsSettings,e),(0,o.default)(TabsSettings,[{key:"UNSAFE_componentWillMount",value:function(){this.refreshAttributes()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.props;e.stores.uiNode.selectedNodeNativeId===t.stores.uiNode.selectedNodeNativeId&&e.stores.abstractNode===t.stores.abstractNode||this.refreshAttributes(e)}},{key:"refreshAttributes",value:function(e){var t=this;e=e||this.props;var a,n,l=this.getTabsNode(e);if(l){var i=this.state.tabsSettingsState,o=(a=[new _({id:""})],(n=t.getTabsMenuNode(e))&&n.children.forEach(function(e){var t=e.getIn(["data","attr","data-w-tab"]);t&&a.push(new _({id:t}))}),m.default.List(a)),r=l.getIn(["data","tabs","current"],""),s=i.set("tabs",o).set("current",r).set("easing",l.getIn(["data","tabs","easing"],"ease")).set("fadeIn",l.getIn(["data","tabs","fadeIn"],300)).set("fadeOut",l.getIn(["data","tabs","fadeOut"],100));this.setState({tabsSettingsState:s})}}},{key:"getTabsNode",value:function(e){var t=(e=e||this.props).stores.uiNode.selectedNodeNativeId,a=I.getAbstractNode(e.stores.abstractNode,t),n=e.stores.abstractNode.root;return y.closestNode(n,a,function(e){return k.isTabsWrapper(e)})}},{key:"getTabsMenuNode",value:function(e){return e=e||this.props,this.getTabsNode(e).children.find(function(e){return k.isTabsMenu(e)})||null}},{key:"getTabsContentNode",value:function(){return this.getTabsNode().children.find(function(e){return k.isTabsContent(e)})||null}},{key:"onAddClick",value:function(){var e=this.props.stores.uiNode.selectedNodeNativeId;this.getTabsContentNode()&&this.getTabsMenuNode()&&this.props.dispatch(T.tabsTabAdded({nodeId:e}))}},{key:"onOpen",value:function(e){var t=this.state.tabsSettingsState.setIn(["tabs",e,"open"],!0);this.setState({tabsSettingsState:t})}},{key:"onClose",value:function(){var e=this.state.tabsSettingsState.update("tabs",function(e){return e.map(function(e){return e.set("open",!1)})});this.setState({tabsSettingsState:e})}},{key:"onCommit",value:function(e){var t=e.index,a=e.id,n=e.commit,l=this.state.tabsSettingsState,i=l.getIn(["tabs",t,"id"],null),o=l.update("tabs",function(e){return e.update(t,function(e){return void 0!==a&&(e=e.set("id",a)),e}).map(function(e){return e.set("open",!1)})});if(this.setState({tabsSettingsState:o}),n){var r=this.props.stores.uiNode.selectedNodeNativeId;this.props.dispatch(T.tabsTabRenamed({nodeId:r,oldId:i,newId:a}))}}},{key:"onSelectClick",value:function(e){var t=this.props.stores.uiNode.selectedNodeNativeId;this.props.dispatch(T.tabsCurrentChanged({nodeId:t,id:e}))}},{key:"onEditClick",value:function(e){var t=this.state.tabsSettingsState.update("tabs",function(t){return t.map(function(t){return t.id===e?t.set("open",!0):t})});this.setState({tabsSettingsState:t})}},{key:"onRemoveClick",value:function(e){var t=this.props.stores.uiNode.selectedNodeNativeId;this.props.dispatch(T.tabsTabRemoved({nodeId:t,id:e,styleBlockState:this.props.stores.styleBlock}))}},{key:"onEasingChange",value:function(e){var t=this.props.stores.uiNode.selectedNodeNativeId;this.props.dispatch(T.tabsEasingChanged({nodeId:t,easing:e}))}},{key:"onFadeInChange",value:function(e){var t=this.props.stores.uiNode.selectedNodeNativeId;this.props.dispatch(T.tabsFadeInChanged({nodeId:t,fadeIn:e}))}},{key:"onFadeOutChange",value:function(e){var t=this.props.stores.uiNode.selectedNodeNativeId;this.props.dispatch(T.tabsFadeOutChanged({nodeId:t,fadeOut:e}))}},{key:"render",value:function(){var e=this.props,t=e.stores,a=e.actions,n=e.dispatch,l=this.state.tabsSettingsState,i=l.tabs,o=l.current,r=l.easing,s=l.fadeIn,d=l.fadeOut;return f.default.createElement(h.default,{className:"tabs-settings",name:"tabs",title:"Tabs Settings",settingsSectionFlags:t.external.settingsSectionFlags,toggleSettingsSection:a.external.toggleSettingsSection},f.default.createElement("div",{className:"kit-panel"},f.default.createElement("div",{className:"kit-field tab-list"},f.default.createElement("div",{className:"kit-label"},"Set active tab"),f.default.createElement("div",{className:"kit-button add-list pull-right relative",onClick:this.onAddClick},f.default.createElement("i",null))),f.default.createElement(R,{tabs:i,current:o,onSelectClick:this.onSelectClick,onEditClick:this.onEditClick,onRemoveClick:this.onRemoveClick,onOpen:this.onOpen,onClose:this.onClose,onCommit:this.onCommit,stores:t,actions:a,dispatch:n}),f.default.createElement(C.default,{value:r,label:"Easing method",onChange:this.onEasingChange}),f.default.createElement("div",{className:"kit-section fades"},f.default.createElement("div",{className:"kit-field fade-in-duration"},f.default.createElement(v.default,{text:"Fade in"}),f.default.createElement(S.default,{value:s,minValue:0,unit:"ms",units:["ms"],ticks:!1,selectedNodeNativeId:t.uiNode.selectedNodeNativeId,onChange:this.onFadeInChange,onUnitChange:p.default.noop,onValueUnitChange:p.default.noop})),f.default.createElement("div",{className:"kit-field fade-out-duration"},f.default.createElement(v.default,{text:"Fade out"}),f.default.createElement(S.default,{value:d,minValue:0,unit:"ms",units:["ms"],ticks:!1,selectedNodeNativeId:t.uiNode.selectedNodeNativeId,onChange:this.onFadeOutChange,onUnitChange:p.default.noop,onValueUnitChange:p.default.noop})))))}}]),TabsSettings}(f.default.Component);t.default=P;var R=function(e){function TabList(){var e,t;(0,i.default)(this,TabList);for(var a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return t=(0,r.default)(this,(e=(0,s.default)(TabList)).call.apply(e,[this].concat(n))),(0,c.default)((0,d.default)(t),"onSortEnd",t.onSortEnd.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"renderItem",function(e){var a=e.item,n=e.index,l=e.Item,i=e.Item_Handle,o=t.props,r=o.stores,s=o.actions,d=o.current,u=o.onOpen,c=o.onClose,m=o.onCommit,g=o.onSelectClick,p=o.onEditClick,h=o.onRemoveClick;return f.default.createElement(N.default,{key:a.id,itemData:a,index:n,open:a.open,onOpen:u,onClose:c,onCommit:m,stores:r,childProps:{onSelectClick:g,onEditClick:p,onRemoveClick:h,onClose:c,stores:r,actions:s,current:d,Item:l,Item_Handle:i},Item:O,Panel:b.default})}),t}return(0,u.default)(TabList,e),(0,o.default)(TabList,[{key:"onSortEnd",value:function(e){var t=e.startIndex,a=e.endIndex;if(e.commit){var n=this.props.stores.uiNode.selectedNodeNativeId;this.props.dispatch(T.tabsTabDragged({nodeId:n,startIndex:t,endIndex:a}))}}},{key:"render",value:function(){var e=this.props.tabs;return f.default.createElement("div",{className:"kit-list-wrapper"},f.default.createElement(E.default,{className:"kit-list2",styleDragOffset:!0,onSortEnd:this.onSortEnd,items:e,invalidTargetIndexes:A,getItemKey:D,renderItem:this.renderItem}))}}]),TabList}(f.default.Component),O=function(e){function TabItem(){var e,t;(0,i.default)(this,TabItem);for(var a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return t=(0,r.default)(this,(e=(0,s.default)(TabItem)).call.apply(e,[this].concat(n))),(0,c.default)((0,d.default)(t),"onClick",t.onClick.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onEditClick",t.onEditClick.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onRemoveClick",t.onRemoveClick.bind((0,d.default)(t))),t}return(0,u.default)(TabItem,e),(0,o.default)(TabItem,[{key:"isReal",value:function(){var e=this.props.item.id;return Boolean(e)}},{key:"onClick",value:function(e){var t=this.props,a=t.item;(0,t.onSelectClick)(a.id),e.preventDefault(),e.stopPropagation()}},{key:"onEditClick",value:function(e){var t=this.props,a=t.item,n=t.onEditClick;n(a.id),e.preventDefault(),e.stopPropagation()}},{key:"onRemoveClick",value:function(e){var t=this.props,a=t.item,n=t.onRemoveClick;n(a.id),e.preventDefault(),e.stopPropagation()}},{key:"render",value:function(){var e=this.props,t=e.item,a=e.current,n=e.Item,l=e.Item_Handle,i=t.id,o=this.isReal(),r=(0,g.default)("kit-list2-item flat grey radioed tab clearfix ",{active:i===a}),s=(0,g.default)("kit-list2-item-wrap grey",{active:i===a});return f.default.createElement(n,{className:r,onClick:this.onClick},f.default.createElement("div",{className:s,key:"wrap"},i?f.default.createElement(l,{className:"kit-drag-handle"}):null,f.default.createElement("div",{className:"kit-list-radio sprite-mid"},f.default.createElement("i",null)),o?f.default.createElement("a",{className:"edit sprite-mid",onClick:this.onEditClick},f.default.createElement("i",null)):null,o?f.default.createElement("a",{className:"trash sprite-mid",onClick:this.onRemoveClick},f.default.createElement("i",null)):null,f.default.createElement("div",{className:"label one-line-text"},f.default.createElement("span",{className:"name"},i||"None"))))}}]),TabItem}(f.default.Component),D=function(e){return e.id}},5204:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(321)),i=n(a(322)),o=n(a(327)),r=n(a(326)),s=n(a(332)),d=n(a(328)),u=n(a(324)),c=n(a(329)),f=n(a(405)),m=n(a(320)),g=n(a(381)),p=n(a(647)),h=n(a(418)),v=n(a(436)),S=n(a(553)),E=a(360),N=function(e){function TabNamePanel(){var e,t;(0,l.default)(this,TabNamePanel);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return t=(0,o.default)(this,(e=(0,r.default)(TabNamePanel)).call.apply(e,[this].concat(n))),(0,u.default)((0,s.default)(t),"onIdChange",t.onIdChange.bind((0,s.default)(t))),(0,u.default)((0,s.default)(t),"onSave",t.onSave.bind((0,s.default)(t))),(0,u.default)((0,s.default)(t),"onClose",t.onClose.bind((0,s.default)(t))),(0,u.default)((0,s.default)(t),"state",{id:"",nameTaken:!1}),t}return(0,d.default)(TabNamePanel,e),(0,i.default)(TabNamePanel,[{key:"UNSAFE_componentWillMount",value:function(){this.refreshTab()}},{key:"componentDidMount",value:function(){this.focusInput()}},{key:"componentDidUpdate",value:function(e,t){c.default.isEqual(t,this.state)||this.props.refreshPanel()}},{key:"focusInput",value:function(){(0,f.default)(this.nameTextBox).find("input").trigger("focus").trigger("select")}},{key:"refreshTab",value:function(e){var t=(e=e||this.props).item.id,a={};t!==this.state.id&&(a.id=t),Object.keys(a).length>0&&this.setState(a)}},{key:"isValid",value:function(){var e=this.state,t=e.id,a=e.nameTaken;return Boolean(t)&&!a}},{key:"getInputClasses",value:function(){return(0,g.default)({invalid:!this.isValid()})}},{key:"getButtonClasses",value:function(){return(0,g.default)(["kit-button","has-text save"],{disabled:!this.isValid()})}},{key:"onIdChange",value:function(e){var t=this.props,a=t.item,n=t.stores,l=e!==a.id&&(0,E.tabNameTaken)(e,n.abstractNode,n.uiNode);this.setState({id:e,nameTaken:l})}},{key:"onSave",value:function(){var e=this.state.id;if(this.isValid()){var t=this.props,a=t.index;(0,t.onCommit)({index:a,id:e,commit:!0})}}},{key:"onClose",value:function(){var e=this.props,t=e.index;(0,e.onCommit)({index:t,commit:!1})}},{key:"render",value:function(){var e=this,t=this.state,a=t.id,n=t.nameTaken,l=m.default.createElement(p.default,null,m.default.createElement("div",{className:"tab-name-panel attribute-panel settings-panel visible"},m.default.createElement("div",{className:"inner"},m.default.createElement("div",{className:"kit-panel"},m.default.createElement("div",{className:"kit-field name"},m.default.createElement(h.default,{text:"Name"}),m.default.createElement(v.default,{tabIndex:1,value:a,className:this.getInputClasses(),onChange:this.onIdChange,onEnter:this.onSave,ref:function(t){e.nameTextBox=t},autofocus:!0}),n?m.default.createElement("div",{className:"taken"},"This name is already taken."):null),m.default.createElement("div",{className:this.getButtonClasses(),tabIndex:2,onClick:this.onSave},"Save")))));return m.default.createElement(S.default,{content:l,open:this.props.open,arrowSize:0,title:"Rename Tab",handleOpen:this.onClose,showMask:!0},this.props.children)}}]),TabNamePanel}(m.default.Component);t.default=N},5205:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tabsTabDragged=t.tabsFadeOutChanged=t.tabsFadeInChanged=t.tabsEasingChanged=t.tabsCurrentChanged=t.tabsTabRenamed=t.tabsTabRemoved=t.tabsTabAdded=void 0;var n=a(357),l=a(333),i=(0,n.createAction)(l.TABS_TAB_ADDED);t.tabsTabAdded=i;var o=(0,n.createAction)(l.TABS_TAB_REMOVED);t.tabsTabRemoved=o;var r=(0,n.createAction)(l.TABS_TAB_RENAMED);t.tabsTabRenamed=r;var s=(0,n.createAction)(l.TABS_CURRENT_CHANGED);t.tabsCurrentChanged=s;var d=(0,n.createAction)(l.TABS_EASING_CHANGED);t.tabsEasingChanged=d;var u=(0,n.createAction)(l.TABS_FADE_IN_CHANGED);t.tabsFadeInChanged=u;var c=(0,n.createAction)(l.TABS_FADE_OUT_CHANGED);t.tabsFadeOutChanged=c;var f=(0,n.createAction)(l.TABS_TAB_DRAGGED);t.tabsTabDragged=f},5206:function(e,t,a){"use strict";var n=a(323),l=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.NavbarSettingsState=void 0;var i=l(a(321)),o=l(a(322)),r=l(a(327)),s=l(a(326)),d=l(a(332)),u=l(a(328)),c=l(a(324)),f=l(a(320)),m=l(a(330)),g=l(a(381)),p=l(a(329)),h=l(a(384)),v=l(a(418)),S=l(a(646)),E=l(a(653)),N=l(a(645)),C=l(a(478)),b=l(a(1279)),y=a(345),k=n(a(361)),I=n(a(527)),T=n(a(1677)),A=a(360),_=a(497),x=a(371),P=a(373),R=m.default.Record({menuOpen:!1,links:0,menuType:"default",easing:"ease",easing2:"ease",duration:void 0,docHeight:!1,noScroll:!1,collapse:"medium"});t.NavbarSettingsState=R;var O=[{value:"default",label:"Drop Down"},{value:"over-right",label:"Over Right"},{value:"over-left",label:"Over Left"}],D={all:"Desktop and below",medium:"Tablet and below",small:"Phone (L) and below",tiny:"Phone (P) and below",none:"None"},F={all:["main","medium","small","tiny"],medium:["medium","small","tiny"],small:["small","tiny"],tiny:["tiny"],none:["none"]},w={all:0,medium:1,small:2,tiny:3,none:4},M={0:"all",1:"medium",2:"small",3:"tiny",4:"none"},L=function(e){function NavbarSettings(){var e,t;(0,i.default)(this,NavbarSettings);for(var a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return t=(0,r.default)(this,(e=(0,s.default)(NavbarSettings)).call.apply(e,[this].concat(n))),(0,c.default)((0,d.default)(t),"onToggleMenuOpen",t.onToggleMenuOpen.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onAddLink",t.onAddLink.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onMenuTypeChange",t.onMenuTypeChange.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onEasingChange",t.onEasingChange.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onEasing2Change",t.onEasing2Change.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onDurationChange",t.onDurationChange.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onToggleDocHeight",t.onToggleDocHeight.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onToggleNoScroll",t.onToggleNoScroll.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onCollapseChange",t.onCollapseChange.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"on_CollapseChange",t.on_CollapseChange.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"on_CollapseStart",t.on_CollapseStart.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"on_CollapseEnd",t.on_CollapseEnd.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"state",{navbarSettingsState:new R,startCollapse:null}),t}return(0,u.default)(NavbarSettings,e),(0,o.default)(NavbarSettings,[{key:"UNSAFE_componentWillMount",value:function(){this.refreshAttributes()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.props;e.stores.uiNode.selectedNodeNativeId===t.stores.uiNode.selectedNodeNativeId&&m.default.is(e.stores.abstractNode,t.stores.abstractNode)||this.refreshAttributes(e)}},{key:"refreshAttributes",value:function(e){e=e||this.props;var t=this.getNavbarNode(e);if(t){var a=this.state.navbarSettingsState.set("menuType",t.getIn(["data","navbar","animation"],"default")).set("easing",t.getIn(["data","navbar","easing"],"ease")).set("easing2",t.getIn(["data","navbar","easing2"],"ease")).set("duration",t.getIn(["data","navbar","duration"])).set("docHeight",t.getIn(["data","navbar","docHeight"],!1)).set("noScroll",t.getIn(["data","navbar","noScroll"],!1)).set("collapse",t.getIn(["data","navbar","collapse"],"medium")).set("menuOpen",t.getIn(["data","temp","navbar","isOpen"],!1));this.setState({navbarSettingsState:a})}}},{key:"getNavbarNode",value:function(e){var t=(e=e||this.props).stores,a=t.abstractNode,n=t.uiNode.selectedNodeNativeId,l=(0,y.getAbstractNode)(a,n),i=k.closestNavbarNode(l,a.root);return i?(0,y.getAbstractNode)(e.stores.abstractNode,i.id):null}},{key:"getMenuButtonClasses",value:function(){var e=this.state.navbarSettingsState.menuOpen;return(0,g.default)(["kit-button","has-text","open-menu"],{active:e})}},{key:"getCollapseLabel",value:function(){var e=this.state.navbarSettingsState.collapse;return D[e]}},{key:"getCollapseButtonClass",value:function(e){var t=this.state.navbarSettingsState.collapse,a=-1!==F[t].indexOf(e);return(0,g.default)(["sprite-mid",e],{active:a})}},{key:"onToggleMenuOpen",value:function(){var e=this.props.stores,t=e.styleBlock,a=e.uiNode,n=e.abstractNode,l=a.selectedNodeNativeId,i=t.getOrderedQueryKeys();(0,_.navbarMenuToggled)({abstractNodeState:n,nodeId:l,mediaQueryList:i})}},{key:"onAddLink",value:function(){var e=this,t=this.props.stores,a=this.state.navbarSettingsState,n=t.styleBlock,l=t.external,i=t.uiNode,o=t.abstractNode,r=i.selectedNodeNativeId,s=l.mediaQuery,d=a.menuOpen,u=a.collapse,c=(0,y.maybeGetAbstractNode)(o,r).chain(k.maybeClosestNavbarNode(o.root)).chain(function(e){return(0,A.createNavbarLink)(e,(0,P.generateGuid)())});if((0,x.maybe)(void 0)(function(t){e.props.dispatch(T.navbarLinkAdded({nodeId:r,linkNode:t,uiNodeState:i}))})(c),!d){var f=n.getOrderedQueryKeys();I.shouldSwitchMediaQuery({collapse:u,mediaQuery:s,mediaQueryList:f})||(0,_.navbarMenuToggled)({abstractNodeState:o,nodeId:r,mediaQueryList:f})}}},{key:"onMenuTypeChange",value:function(e){var t=this.props.stores.uiNode.selectedNodeNativeId;this.props.dispatch(T.navbarMenuTypeChanged({nodeId:t,menuType:e}))}},{key:"onEasingChange",value:function(e){var t=this.props.stores.uiNode.selectedNodeNativeId;this.props.dispatch(T.navbarEasingOpenChanged({nodeId:t,easing:e}))}},{key:"onEasing2Change",value:function(e){var t=this.props.stores.uiNode.selectedNodeNativeId;this.props.dispatch(T.navbarEasingCloseChanged({nodeId:t,easing2:e}))}},{key:"onDurationChange",value:function(e){var t=this.props.stores.uiNode.selectedNodeNativeId;this.props.dispatch(T.navbarDurationChanged({nodeId:t,duration:e}))}},{key:"onToggleDocHeight",value:function(){var e=this.props.stores.uiNode.selectedNodeNativeId;this.props.dispatch(T.navbarDocHeightToggled({nodeId:e}))}},{key:"onToggleNoScroll",value:function(){var e=this.props.stores.uiNode.selectedNodeNativeId;this.props.dispatch(T.navbarNoScrollToggled({nodeId:e}))}},{key:"onCollapseChange",value:function(e){var t=e.target.value,a=void 0===t?"none":t,n=this.props.stores,l=n.styleBlock,i=n.external,o=n.uiNode.selectedNodeNativeId,r=i.mediaQuery,s=l.getOrderedQueryKeys();this.props.dispatch(T.navbarCollapseChanged({nodeId:o,collapse:a,mediaQuery:r,mediaQueryList:s}))}},{key:"on_CollapseChange",value:function(e){var t=M[e],a=this.props.stores,n=a.styleBlock,l=a.external,i=a.uiNode.selectedNodeNativeId,o=l.mediaQuery,r=n.getOrderedQueryKeys();this.props.dispatch(T.navbarCollapseChanged({nodeId:i,collapse:t,mediaQuery:o,mediaQueryList:r}))}},{key:"on_CollapseStart",value:function(){var e=this.state.navbarSettingsState.collapse;this.setState({startCollapse:e})}},{key:"on_CollapseEnd",value:function(e){if(e){var t=this.state.navbarSettingsState.collapse,a=this.props.stores,n=a.styleBlock,l=a.external,i=a.uiNode.selectedNodeNativeId,o=l.mediaQuery,r=n.getOrderedQueryKeys();this.props.dispatch(T.navbarCollapseChanged({nodeId:i,collapse:t,mediaQuery:o,mediaQueryList:r})),this.setState({startCollapse:null})}else this.refreshAttributes()}},{key:"render",value:function(){var e=this.props,t=e.stores,a=e.actions,n=this.state.navbarSettingsState,l=n.menuType,i=n.easing,o=n.easing2,r=n.duration,s=n.docHeight,d=n.noScroll,u=n.collapse,c=w[u],m=this.getCollapseLabel();return f.default.createElement(h.default,{className:"navbar-settings",name:"navbar",title:"Navbar Settings",settingsSectionFlags:t.external.settingsSectionFlags,toggleSettingsSection:a.external.toggleSettingsSection},f.default.createElement("div",{className:"kit-panel"},f.default.createElement("div",{className:this.getMenuButtonClasses(),title:"Open Menu",onClick:this.onToggleMenuOpen},f.default.createElement("i",{className:"hamburger"}),f.default.createElement("span",null,"Open Menu")),f.default.createElement("div",{className:"kit-button has-text add-slide",title:"Add Link",onClick:this.onAddLink},f.default.createElement("i",null),f.default.createElement("span",null,"Add Link")),f.default.createElement("div",{className:"kit-divider anim"}),f.default.createElement("div",{className:"kit-field pull-left anim-type"},f.default.createElement(v.default,{text:"Menu type"}),f.default.createElement(N.default,{value:l,onCommit:this.onMenuTypeChange},O.map(function(e){return f.default.createElement("option",{value:e.value,key:e.value},e.label)}))),f.default.createElement(b.default,{label:"Easing open",value:i,onChange:this.onEasingChange}),f.default.createElement(b.default,{label:"Easing close",value:o,onChange:this.onEasing2Change}),f.default.createElement("div",{className:"kit-field anim-duration"},f.default.createElement(v.default,{text:"Duration"}),f.default.createElement(S.default,{value:r,selectedNodeNativeId:t.uiNode.selectedNodeNativeId,units:["ms"],unit:"ms",minValue:0,increment:100,onChange:this.onDurationChange,onUnitChange:p.default.noop,onValueUnitChange:p.default.noop})),f.default.createElement("div",{className:"kit-checkbox-group kit-inset-box"},f.default.createElement(C.default,{className:"docHeight",checked:s,onClick:this.onToggleDocHeight},"Menu fills page height"),f.default.createElement(C.default,{className:"noScroll",checked:d,onClick:this.onToggleNoScroll},"Disable scroll offset when fixed")),f.default.createElement("div",{className:"kit-title collapse-on"},"Menu icon for: ",f.default.createElement("span",null,m)),f.default.createElement("div",{className:"buttons collapse-icons clearfix"},f.default.createElement("div",{className:this.getCollapseButtonClass("main"),title:"All Devices",value:"all",onClick:this.onCollapseChange},f.default.createElement("i",null)),f.default.createElement("div",{className:this.getCollapseButtonClass("medium"),title:"Tablet",value:"medium",onClick:this.onCollapseChange},f.default.createElement("i",null)),f.default.createElement("div",{className:this.getCollapseButtonClass("small"),title:"Phone Landscape",value:"small",onClick:this.onCollapseChange},f.default.createElement("i",null)),f.default.createElement("div",{className:this.getCollapseButtonClass("tiny"),title:"Phone Portrait",value:"tiny",onClick:this.onCollapseChange},f.default.createElement("i",null)),f.default.createElement("div",{className:this.getCollapseButtonClass("none"),title:"None",value:"none",onClick:this.onCollapseChange},f.default.createElement("i",null))),f.default.createElement("div",{className:"collapse-slider"},f.default.createElement(E.default,{value:c,onChange:this.on_CollapseChange,onStart:this.on_CollapseStart,onEnd:this.on_CollapseEnd,minValue:0,maxValue:4,step:1}))))}}]),NavbarSettings}(f.default.Component);t.default=L},5207:function(e,t,a){"use strict";var n=a(323),l=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=l(a(321)),o=l(a(322)),r=l(a(327)),s=l(a(326)),d=l(a(332)),u=l(a(328)),c=l(a(324)),f=l(a(320)),m=l(a(330)),g=l(a(381)),p=l(a(329)),h=n(a(355)),v=l(a(384)),S=l(a(418)),E=l(a(646)),N=l(a(478)),C=n(a(497)),b=n(a(361)),y=n(a(345)),k=a(340),I=a(349),T=n(a(1678)),A=n(a(371)),_=l(a(1056)),x=a(343),P=a(373),R=m.default.Record({delay:0,hover:!1,open:!1}),O=function(e){function DropdownSettings(){var e,t;(0,i.default)(this,DropdownSettings);for(var a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return t=(0,r.default)(this,(e=(0,s.default)(DropdownSettings)).call.apply(e,[this].concat(n))),(0,c.default)((0,d.default)(t),"onToggleOpen",t.onToggleOpen.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onAddLink",t.onAddLink.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onDelayChange",t.onDelayChange.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onHoverChange",t.onHoverChange.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"state",{dropdownSettingsState:R()}),t}return(0,u.default)(DropdownSettings,e),(0,o.default)(DropdownSettings,[{key:"UNSAFE_componentWillMount",value:function(){this.refreshAttributes()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.props;e.stores.uiNode.selectedNodeNativeId===t.stores.uiNode.selectedNodeNativeId&&m.default.is(e.stores.abstractNode,t.stores.abstractNode)||this.refreshAttributes(e)}},{key:"refreshAttributes",value:function(e){e=e||this.props;var t=this.getDropdownNode(e);if(t){var a=this.state.dropdownSettingsState.set("delay",t.getIn(["data","dropdown","delay"])).set("hover",t.getIn(["data","dropdown","hover"],!1)).set("open",t.getIn(["data","temp","dropdown","isOpen"],!1));this.setState({dropdownSettingsState:a})}}},{key:"getOpenMenuClasses",value:function(){var e=this.state.dropdownSettingsState.open;return(0,g.default)(["kit-button","has-text","open-menu"],{active:e})}},{key:"getDropdownNode",value:function(e){var t=(e=e||this.props).stores,a=t.abstractNode,n=t.uiNode.selectedNodeNativeId,l=y.getAbstractNode(a,n),i=b.closestDropdownNode(l,a.root);return i?y.getAbstractNode(e.stores.abstractNode,i.id):null}},{key:"onToggleOpen",value:function(){var e=this.props.stores.uiNode.selectedNodeNativeId;C.dropdownMenuToggled({nodeId:e})}},{key:"onAddLink",value:function(){var e=this,t=this.props.stores,a=t.abstractNode,n=t.uiNode,l=n.selectedNodeNativeId,i=this.state.dropdownSettingsState.open,o=y.maybeGetAbstractNode(a,l).chain(b.maybeClosestDropdownNode(a.root)).chain((0,I.maybeFind)(k.isDropdownList)).map(function(e){var t=(0,I.reduceTree)(e,function(e,t){return(0,k.isDropdownLink)(t)?e.concat(t.getIn(["children",0,"data","value"])):e},[]);return(0,x.toAbstractNode)(_.default.create({},[(0,x.Text)(h.increment(t,"Link"))]))((0,P.generateGuid)())});A.maybe(void 0)(function(t){e.props.dispatch(T.dropdownLinkAdded({nodeId:l,linkNode:t,uiNodeState:n}))})(o),i||C.dropdownMenuToggled({nodeId:l})}},{key:"onDelayChange",value:function(e){var t=this.props.stores.uiNode.selectedNodeNativeId;this.props.dispatch(T.dropdownDelayChanged({nodeId:t,delay:e}))}},{key:"onHoverChange",value:function(){var e=this.props.stores.uiNode.selectedNodeNativeId;this.props.dispatch(T.dropdownHoverToggled({nodeId:e}))}},{key:"render",value:function(){var e=this.props.stores,t=this.state.dropdownSettingsState,a=t.delay,n=t.hover;return f.default.createElement(v.default,{className:"navbar-settings dropdown-settings",name:"navbar",title:"Dropdown Settings",settingsSectionFlags:this.props.stores.external.settingsSectionFlags,toggleSettingsSection:this.props.actions.external.toggleSettingsSection},f.default.createElement("div",{className:"kit-panel"},f.default.createElement("div",{className:this.getOpenMenuClasses(),onClick:this.onToggleOpen},f.default.createElement("i",{className:"hamburger"}),f.default.createElement("span",null,"Open Menu")),f.default.createElement("div",{className:"kit-button has-text add-slide",onClick:this.onAddLink},f.default.createElement("i",null),f.default.createElement("span",null,"Add Link")),f.default.createElement("div",{className:"kit-divider anim"}),f.default.createElement("div",{className:"kit-field anim-duration"},f.default.createElement(S.default,{text:"Close Delay"}),f.default.createElement(E.default,{value:a,unit:"ms",units:["ms"],increment:100,minValue:0,selectedNodeNativeId:e.uiNode.selectedNodeNativeId,onChange:this.onDelayChange,onUnitChange:p.default.noop,onValueUnitChange:p.default.noop})),f.default.createElement("div",{className:"kit-checkbox-group kit-inset-box dropdown-opts"},f.default.createElement("div",{className:"kit-field hover"},f.default.createElement(N.default,{checked:n,onClick:this.onHoverChange},"Open menu on hover")))))}}]),DropdownSettings}(f.default.Component);t.default=O},5208:function(e,t,a){"use strict";var n=a(323),l=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=l(a(321)),o=l(a(322)),r=l(a(327)),s=l(a(326)),d=l(a(332)),u=l(a(328)),c=l(a(324)),f=l(a(334)),m=l(a(320)),g=l(a(330)),p=l(a(329)),h=l(a(384)),v=l(a(418)),S=l(a(646)),E=l(a(645)),N=l(a(478)),C=l(a(1279)),b=a(469),y=a(331),k=a(345),I=a(349),T=n(a(361)),A=n(a(527)),_=n(a(5209)),x=a(373),P=a(340),R=(0,y.styledDiv)({display:"inline-block",verticalAlign:"top"}),O=m.default.createElement(R,null,m.default.createElement("div",{className:"kit-button quick-select"},m.default.createElement("i",{key:"hamburger",className:"hamburger"}),",",m.default.createElement("i",{key:"expand",className:"expand"}))),D=function(e){var t=e.value,a=e.onChange,n=e.options;return m.default.createElement(b.EnhancedDropdown,{button:O,handleChange:a,value:t,width:120,maxHeight:400},n.map(function(e){return m.default.createElement(b.Option,(0,f.default)({key:e.value},e))}))},F=g.default.Record({animation:"slide",easing:"ease",duration:void 0,infinite:!0,disableSwipe:!1,autoplay:!1,delay:void 0,autoMax:void 0,hideArrows:!1,navRound:!0,navNumbers:!1,navShadow:!1,navInvert:!1,navSpacing:0}),w=[{value:"slide",label:"Slide"},{value:"cross",label:"Cross Fade"},{value:"outin",label:"Fade Out - In"},{value:"fade",label:"Fade Over"},{value:"over",label:"Slide Over"}],M=function(e){function SliderSettings(){var e,t;(0,i.default)(this,SliderSettings);for(var a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return t=(0,r.default)(this,(e=(0,s.default)(SliderSettings)).call.apply(e,[this].concat(n))),(0,c.default)((0,d.default)(t),"onAddSlideClick",t.onAddSlideClick.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onPrevSlideClick",t.onPrevSlideClick.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onNextSlideClick",t.onNextSlideClick.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onQuickSelectClick",t.onQuickSelectClick.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onAnimationChange",t.onAnimationChange.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onEasingChange",t.onEasingChange.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onDurationChange",t.onDurationChange.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onToggleInfinite",t.onToggleInfinite.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onToggleDisableSwipe",t.onToggleDisableSwipe.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onToggleAutoplay",t.onToggleAutoplay.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onDelayChange",t.onDelayChange.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onAutoMaxChange",t.onAutoMaxChange.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onToggleHideArrows",t.onToggleHideArrows.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onToggleNavRound",t.onToggleNavRound.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onToggleNavNumbers",t.onToggleNavNumbers.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onToggleNavShadow",t.onToggleNavShadow.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onToggleNavInvert",t.onToggleNavInvert.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onNavSpacingChange",t.onNavSpacingChange.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"state",{sliderSettingsState:new F}),t}return(0,u.default)(SliderSettings,e),(0,o.default)(SliderSettings,[{key:"UNSAFE_componentWillMount",value:function(){this.refreshAttributes()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.props;e.stores.uiNode.selectedNodeNativeId===t.stores.uiNode.selectedNodeNativeId&&g.default.is(e.stores.abstractNode,t.stores.abstractNode)||this.refreshAttributes(e)}},{key:"componentDidUpdate",value:function(){if(this.newSlideAdded){var e=this.getSliderNode(),t=this.nativeId(e),a=A.getWidgetData("slider",t);A.triggerWidgetConfig("slider",t,{select:a.pages}),this.newSlideAdded=!1}}},{key:"refreshAttributes",value:function(e){e=e||this.props;var t=this.getSliderNode(e);if(t){var a=this.state.sliderSettingsState.set("animation",t.getIn(["data","slider","animation"],"slide")).set("easing",t.getIn(["data","slider","easing"],"ease")).set("duration",t.getIn(["data","slider","duration"],500)).set("infinite",t.getIn(["data","slider","infinite"],!0)).set("disableSwipe",t.getIn(["data","slider","disableSwipe"],!1)).set("autoplay",t.getIn(["data","slider","autoplay"],!1)).set("delay",t.getIn(["data","slider","delay"]),400).set("autoMax",t.getIn(["data","slider","autoMax"]),0).set("hideArrows",t.getIn(["data","slider","hideArrows"],!1)).set("navRound",t.getIn(["data","slider","navRound"],!1)).set("navNumbers",t.getIn(["data","slider","navNumbers"],!1)).set("navShadow",t.getIn(["data","slider","navShadow"],!1)).set("navInvert",t.getIn(["data","slider","navInvert"],!1)).set("navSpacing",t.getIn(["data","slider","navSpacing"],3));this.setState({sliderSettingsState:a})}}},{key:"nativeId",value:function(e){var t=this.props.stores.abstractNode;return(0,k.generateNativeIdFromAbstractNode)(t,e)}},{key:"getSliderNode",value:function(e){var t=(e=e||this.props).stores,a=t.abstractNode,n=t.uiNode.selectedNodeNativeId,l=(0,k.getAbstractNode)(a,n);return T.closestSliderNode(l,a.root)}},{key:"getMaskNode",value:function(){var e=this.props.stores,t=e.abstractNode,a=e.uiNode.selectedNodeNativeId,n=(0,k.getAbstractNode)(t,a),l=T.closestSliderNode(n,t.root);return(0,I.find)(l,P.isSliderMask)}},{key:"onAddSlideClick",value:function(){var e=this.props.stores.uiNode,t=e.selectedNodeNativeId;this.props.dispatch(_.sliderSlideAdded({nodeId:t,slideId:(0,x.generateGuid)(),uiNodeState:e})),this.newSlideAdded=!0}},{key:"enqueueSlideSelection",value:function(e,t){var a=this;this.enqueuedTimer&&clearTimeout(this.enqueuedTimer),this.enqueuedTimer=setTimeout(function(){a.props.dispatch(_.sliderSlideSelected({slideId:e.id}))},t.config.duration)}},{key:"onPrevSlideClick",value:function(){var e=this.getSliderNode(),t=this.nativeId(e),a=this.getMaskNode(),n=A.getWidgetData("slider",t),l=0===n.index?n.pages-1:n.index-1,i=a.children.get(l);A.triggerWidgetConfig("slider",t,{select:"prev"}),this.enqueueSlideSelection(i,n)}},{key:"onNextSlideClick",value:function(){var e=this.getSliderNode(),t=this.nativeId(e),a=this.getMaskNode(),n=A.getWidgetData("slider",t),l=n.index+1<n.pages?n.index+1:0,i=a.children.get(l);A.triggerWidgetConfig("slider",t,{select:"next"}),this.enqueueSlideSelection(i,n)}},{key:"onQuickSelectClick",value:function(e){var t=this.getMaskNode();if(t){var a=t.children.get(e);if(a){var n=this.getSliderNode();A.triggerWidgetConfig("slider",this.nativeId(n),{select:e}),this.props.dispatch(_.sliderSlideSelected({slideId:a.id}))}}}},{key:"onAnimationChange",value:function(e){var t=this.props.stores.uiNode.selectedNodeNativeId;this.props.dispatch(_.sliderAnimationChanged({nodeId:t,animation:e}))}},{key:"onEasingChange",value:function(e){var t=this.props.stores.uiNode.selectedNodeNativeId;this.props.dispatch(_.sliderEasingChanged({nodeId:t,easing:e}))}},{key:"onDurationChange",value:function(e){var t=this.props.stores.uiNode.selectedNodeNativeId;this.props.dispatch(_.sliderDurationChanged({nodeId:t,duration:e}))}},{key:"onToggleInfinite",value:function(){var e=this.props.stores.uiNode.selectedNodeNativeId;this.props.dispatch(_.sliderInfiniteToggled({nodeId:e}))}},{key:"onToggleDisableSwipe",value:function(){var e=this.props.stores.uiNode.selectedNodeNativeId;this.props.dispatch(_.sliderDisableSwipeToggled({nodeId:e}))}},{key:"onToggleAutoplay",value:function(){var e=this.props.stores.uiNode.selectedNodeNativeId;this.props.dispatch(_.sliderAutoplayToggled({nodeId:e}))}},{key:"onDelayChange",value:function(e){var t=this.props.stores.uiNode.selectedNodeNativeId;this.props.dispatch(_.sliderDelayChanged({nodeId:t,delay:e}))}},{key:"onAutoMaxChange",value:function(e){var t=this.props.stores.uiNode.selectedNodeNativeId;this.props.dispatch(_.sliderAutoMaxChanged({nodeId:t,autoMax:e}))}},{key:"onToggleHideArrows",value:function(){var e=this.props.stores.uiNode.selectedNodeNativeId;this.props.dispatch(_.sliderHideArrowsToggled({nodeId:e}))}},{key:"onToggleNavRound",value:function(){var e=this.props.stores.uiNode.selectedNodeNativeId;this.props.dispatch(_.sliderNavRoundToggled({nodeId:e}))}},{key:"onToggleNavNumbers",value:function(){var e=this.props.stores.uiNode.selectedNodeNativeId;this.props.dispatch(_.sliderNavNumbersToggled({nodeId:e}))}},{key:"onToggleNavShadow",value:function(){var e=this.props.stores.uiNode.selectedNodeNativeId;this.props.dispatch(_.sliderNavShadowToggled({nodeId:e}))}},{key:"onToggleNavInvert",value:function(){var e=this.props.stores.uiNode.selectedNodeNativeId;this.props.dispatch(_.sliderNavInvertToggled({nodeId:e}))}},{key:"onNavSpacingChange",value:function(e){var t=this.props.stores.uiNode.selectedNodeNativeId;this.props.dispatch(_.sliderNavSpacingChanged({nodeId:t,navSpacing:e}))}},{key:"render",value:function(){var e=this.props.stores,t=this.state.sliderSettingsState,a=t.animation,n=t.easing,l=t.duration,i=t.infinite,o=t.disableSwipe,r=t.autoplay,s=t.delay,d=t.autoMax,u=t.hideArrows,c=t.navRound,f=t.navNumbers,g=t.navShadow,b=t.navInvert,y=t.navSpacing,k=this.getSliderNode();if(!k)return null;var I=A.getWidgetData("slider",this.nativeId(k));return m.default.createElement(h.default,{className:"slider-settings custom",name:"slider",title:"Slider Settings",settingsSectionFlags:this.props.stores.external.settingsSectionFlags,toggleSettingsSection:this.props.actions.external.toggleSettingsSection},m.default.createElement("div",{className:"kit-panel"},m.default.createElement("div",{className:"kit-button has-text add-slide",onClick:this.onAddSlideClick},m.default.createElement("i",null),m.default.createElement("span",null,"Add Slide")),m.default.createElement("div",{className:"kit-button left-arrow",onClick:this.onPrevSlideClick},m.default.createElement("i",null)),m.default.createElement("div",{className:"kit-button right-arrow",onClick:this.onNextSlideClick},m.default.createElement("i",null)),m.default.createElement(D,{onChange:this.onQuickSelectClick,value:I.index,options:I.anchors?I.anchors.map(function(e,t){return{value:t,label:"Slide ".concat(t+1)}}):[]}),m.default.createElement("div",{className:"kit-divider anim"}),m.default.createElement("div",{className:"kit-field pull-left anim-type"},m.default.createElement(v.default,{text:"Animation type"}),m.default.createElement(E.default,{value:a,onCommit:this.onAnimationChange},w.map(function(e){return m.default.createElement("option",{value:e.value,key:e.value},e.label)}))),m.default.createElement(C.default,{value:n,label:"Easing method",onChange:this.onEasingChange}),m.default.createElement("div",{className:"kit-field anim-duration"},m.default.createElement(v.default,{text:"Duration"}),m.default.createElement(S.default,{value:l,unit:"ms",units:["ms"],minValue:0,increment:100,selectedNodeNativeId:e.uiNode.selectedNodeNativeId,onChange:this.onDurationChange,onValueUnitChange:this.onDurationChange,onUnitChange:p.default.noop})),m.default.createElement("div",{className:"kit-checkbox-group kit-inset-box slider-opts"},m.default.createElement("div",{className:"kit-field infinite-scroll"},m.default.createElement(N.default,{checked:i,disabled:"slide"!==a,onClick:this.onToggleInfinite},"Infinite repeat slides")),m.default.createElement("div",{className:"kit-field disable-swipe"},m.default.createElement(N.default,{checked:o,onClick:this.onToggleDisableSwipe},"Disable swipe gestures")),m.default.createElement("div",{className:"kit-field autoplay"},m.default.createElement(N.default,{checked:r,onClick:this.onToggleAutoplay},"Auto-play slides")),r?m.default.createElement("div",{className:"kit-field anim-delay"},m.default.createElement(v.default,{text:"Timer delay"}),m.default.createElement(S.default,{value:s,unit:"ms",units:["ms"],minValue:0,increment:100,selectedNodeNativeId:e.uiNode.selectedNodeNativeId,onChange:this.onDelayChange,onValueUnitChange:this.onDelayChange,onUnitChange:p.default.noop})):null,r?m.default.createElement("div",{className:"kit-field anim-auto-max"},m.default.createElement(v.default,{text:"Stop after"}),m.default.createElement(S.default,{value:d,minValue:0,selectedNodeNativeId:e.uiNode.selectedNodeNativeId,onChange:this.onAutoMaxChange,onValueUnitChange:this.onAutoMaxChange,onUnitChange:p.default.noop})):null),m.default.createElement("div",{className:"kit-title"},"Arrows"),m.default.createElement("div",{className:"kit-checkbox-group kit-inset-box arrow-style"},m.default.createElement(N.default,{className:"hideArrows",checked:u,onClick:this.onToggleHideArrows},"Hide at each end")),m.default.createElement("div",{className:"kit-title"},"Slide Nav"),m.default.createElement("div",{className:"kit-checkbox-group kit-inset-box nav-style"},m.default.createElement(N.default,{checked:c,onClick:this.onToggleNavRound},"Rounded"),m.default.createElement(N.default,{checked:f,onClick:this.onToggleNavNumbers},"Number labels"),m.default.createElement(N.default,{checked:g,onClick:this.onToggleNavShadow},"Shadow"),m.default.createElement(N.default,{checked:b,onClick:this.onToggleNavInvert},"Invert colors"),m.default.createElement("div",{className:"kit-field nav-margin"},m.default.createElement(v.default,{text:"Horizontal spacing"}),m.default.createElement(S.default,{value:y,unit:"px",units:["px"],minValue:0,selectedNodeNativeId:e.uiNode.selectedNodeNativeId,onChange:this.onNavSpacingChange,onValueUnitChange:this.onNavSpacingChange,onUnitChange:p.default.noop})))))}}]),SliderSettings}(m.default.Component);t.default=M},5209:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sliderSlideSelected=t.sliderSlideAdded=t.sliderNavSpacingChanged=t.sliderNavInvertToggled=t.sliderNavShadowToggled=t.sliderNavNumbersToggled=t.sliderNavRoundToggled=t.sliderHideArrowsToggled=t.sliderAutoMaxChanged=t.sliderDelayChanged=t.sliderAutoplayToggled=t.sliderDisableSwipeToggled=t.sliderInfiniteToggled=t.sliderEasingChanged=t.sliderAnimationChanged=t.sliderDurationChanged=void 0;var n=a(357),l=a(333),i=(0,n.createAction)(l.SLIDER_DURATION_CHANGED);t.sliderDurationChanged=i;var o=(0,n.createAction)(l.SLIDER_ANIMATION_CHANGED);t.sliderAnimationChanged=o;var r=(0,n.createAction)(l.SLIDER_EASING_CHANGED);t.sliderEasingChanged=r;var s=(0,n.createAction)(l.SLIDER_INFINITE_TOGGLED);t.sliderInfiniteToggled=s;var d=(0,n.createAction)(l.SLIDER_DISABLE_SWIPE_TOGGLED);t.sliderDisableSwipeToggled=d;var u=(0,n.createAction)(l.SLIDER_AUTOPLAY_TOGGLED);t.sliderAutoplayToggled=u;var c=(0,n.createAction)(l.SLIDER_DELAY_CHANGED);t.sliderDelayChanged=c;var f=(0,n.createAction)(l.SLIDER_AUTO_MAX_CHANGED);t.sliderAutoMaxChanged=f;var m=(0,n.createAction)(l.SLIDER_HIDE_ARROWS_TOGGLED);t.sliderHideArrowsToggled=m;var g=(0,n.createAction)(l.SLIDER_NAV_ROUND_TOGGLED);t.sliderNavRoundToggled=g;var p=(0,n.createAction)(l.SLIDER_NAV_NUMBERS_TOGGLED);t.sliderNavNumbersToggled=p;var h=(0,n.createAction)(l.SLIDER_NAV_SHADOW_TOGGLED);t.sliderNavShadowToggled=h;var v=(0,n.createAction)(l.SLIDER_NAV_INVERT_TOGGLED);t.sliderNavInvertToggled=v;var S=(0,n.createAction)(l.SLIDER_NAV_SPACING_CHANGED);t.sliderNavSpacingChanged=S;var E=(0,n.createAction)(l.SLIDER_SLIDE_ADDED);t.sliderSlideAdded=E;var N=(0,n.createAction)(l.SLIDER_SLIDE_SELECTED);t.sliderSlideSelected=N},5210:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(321)),i=n(a(322)),o=n(a(327)),r=n(a(326)),s=n(a(328)),d=n(a(320)),u=n(a(384)),c=n(a(1964)),f=function(e){function GPlusSettings(){return(0,l.default)(this,GPlusSettings),(0,o.default)(this,(0,r.default)(GPlusSettings).apply(this,arguments))}return(0,s.default)(GPlusSettings,e),(0,i.default)(GPlusSettings,[{key:"render",value:function(){var e=this.props,t=e.stores,a=e.actions,n=e.dispatch;return d.default.createElement(u.default,{className:"gplus-settings custom",name:"gplus",title:"Google+ Settings",settingsSectionFlags:this.props.stores.external.settingsSectionFlags,toggleSettingsSection:this.props.actions.external.toggleSettingsSection},d.default.createElement(c.default,{stores:t,actions:a,dispatch:n}))}}]),GPlusSettings}(d.default.Component);t.default=f},5211:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(321)),i=n(a(322)),o=n(a(327)),r=n(a(326)),s=n(a(328)),d=n(a(320)),u=n(a(384)),c=n(a(1965)),f=function(e){function TwitterSettings(){return(0,l.default)(this,TwitterSettings),(0,o.default)(this,(0,r.default)(TwitterSettings).apply(this,arguments))}return(0,s.default)(TwitterSettings,e),(0,i.default)(TwitterSettings,[{key:"render",value:function(){var e=this.props,t=e.stores,a=e.actions,n=e.dispatch;return d.default.createElement(u.default,{className:"twitter-settings custom",name:"twitter",title:"Twitter Settings",settingsSectionFlags:t.external.settingsSectionFlags,toggleSettingsSection:a.external.toggleSettingsSection},d.default.createElement(c.default,{stores:t,actions:a,dispatch:n}))}}]),TwitterSettings}(d.default.Component);t.default=f},5212:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(321)),i=n(a(322)),o=n(a(327)),r=n(a(326)),s=n(a(332)),d=n(a(328)),u=n(a(324)),c=n(a(320)),f=n(a(381)),m=n(a(384)),g=function(e){function EmbedSettings(){var e,t;(0,l.default)(this,EmbedSettings);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return t=(0,o.default)(this,(e=(0,r.default)(EmbedSettings)).call.apply(e,[this].concat(n))),(0,u.default)((0,s.default)(t),"onOpenClick",t.onOpenClick.bind((0,s.default)(t))),t}return(0,d.default)(EmbedSettings,e),(0,i.default)(EmbedSettings,[{key:"onOpenClick",value:function(){this.props.actions.embedEditor.showEmbedEditor()}},{key:"render",value:function(){var e=this.props,t=e.abstractNode,a=e.stores,n=e.actions,l=t.data.get("insideRTE");return c.default.createElement(m.default,{className:"embed-settings",name:"embed",title:"Embed Settings",settingsSectionFlags:a.external.settingsSectionFlags,toggleSettingsSection:n.external.toggleSettingsSection},c.default.createElement("button",{className:(0,f.default)({"kit-button":!0,"has-text":!0,disabled:l}),onClick:this.onOpenClick},c.default.createElement("span",null,"Open Code Editor"),c.default.createElement("i",{className:"icon-main new-tab"})))}}]),EmbedSettings}(c.default.Component);t.default=g},5213:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(321)),i=n(a(322)),o=n(a(327)),r=n(a(326)),s=n(a(328)),d=n(a(320)),u=n(a(384)),c=n(a(1969)),f=function(e){function SearchFormSettings(){return(0,l.default)(this,SearchFormSettings),(0,o.default)(this,(0,r.default)(SearchFormSettings).apply(this,arguments))}return(0,s.default)(SearchFormSettings,e),(0,i.default)(SearchFormSettings,[{key:"render",value:function(){return d.default.createElement(u.default,{name:"search-form",title:"Search Settings",settingsSectionFlags:this.props.stores.external.settingsSectionFlags,toggleSettingsSection:this.props.actions.external.toggleSettingsSection,"data-automation-id":"search-settings","aria-label":"Search"},d.default.createElement(c.default,this.props))}}]),SearchFormSettings}(d.default.Component);t.default=f},5214:function(e,t,a){"use strict";var n=a(323),l=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=l(a(321)),o=l(a(322)),r=l(a(327)),s=l(a(326)),d=l(a(332)),u=l(a(328)),c=l(a(324)),f=l(a(320)),m=n(a(345)),g=a(361),p=l(a(384)),h=l(a(478)),v=l(a(418)),S=l(a(5215)),E=l(a(572)),N=l(a(5216)),C=l(a(5217)),b=l(a(5218)),y=n(a(5219)),k=a(471),I=a(520),T=["temp","state"],A=["temp","searchPreviewQuery"],_=["search","resultsLength"],x=["search","snippetLength"],P=["search","highlightingEnabled"],R=function(e){function SearchResultSettings(){var e,t;(0,i.default)(this,SearchResultSettings);for(var a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return t=(0,r.default)(this,(e=(0,s.default)(SearchResultSettings)).call.apply(e,[this].concat(n))),(0,c.default)((0,d.default)(t),"handlePreviewQueryChange",function(e){var a=t.props,n=a.dispatch,l=a.stores;n(y.searchResultSettingsPreviewQueryChanged({uiNodeState:l.uiNode,query:e}))}),(0,c.default)((0,d.default)(t),"handleUiStateChange",function(e){var a=t.props,n=a.dispatch,l=a.stores;n(y.searchResultSettingsUiStateChanged({uiState:e,uiNodeState:l.uiNode}))}),(0,c.default)((0,d.default)(t),"handleResultsLengthChange",function(e){var a=t.props,n=a.dispatch,l=a.stores;n(y.searchResultSettingsLengthChanged({length:e,uiNodeState:l.uiNode}))}),(0,c.default)((0,d.default)(t),"handleSnippetLengthChange",function(e){var a=t.props,n=a.dispatch,l=a.stores;n(y.searchResultSettingsSnippetLengthChanged({length:e,uiNodeState:l.uiNode}))}),(0,c.default)((0,d.default)(t),"handleHighlightingEnabledChange",function(){var e=t.props,a=e.dispatch,n=e.stores;a(y.searchResultSettingsHighlihgtingToggled({uiNodeState:n.uiNode}))}),(0,c.default)((0,d.default)(t),"openSearchSettingsPanel",function(){var e=t.props,a=e.dispatch,n=e.stores.ui.leftSidebarTab,l=e.actions.ui.toggleLeftSidebarTab;a((0,k.selectLeftSidebarSetting)({settingName:"search"})),"settingsPanel"!==n&&l("settingsPanel")}),t}return(0,u.default)(SearchResultSettings,e),(0,o.default)(SearchResultSettings,[{key:"getSelectedNode",value:function(){var e=this.props.stores,t=m.getAbstractNode(e.abstractNode,e.uiNode.selectedNodeNativeId);return(0,g.closestSearchResultWrapper)(t,e.abstractNode.root)}},{key:"getData",value:function(){return this.getSelectedNode().get("data")}},{key:"render",value:function(){var e=this.props.isIndexed,t=this.getData(),a=this.props.stores.siteData,n=a.shortName,l=a.allowSiteSearch,i="Previewing sample results. "+(l?"Publish your project to create your first index and start viewing real results.":"Add CMS or Business Hosting to unlock full search functionality."),o=l?"If your results look inaccurate, go the Search Settings panel to start a site indexing.":"Previewing sample results.";return f.default.createElement(p.default,{className:"bem-SearchResultSettings",name:"search-result",title:"Search Result Settings",settingsSectionFlags:this.props.stores.external.settingsSectionFlags,toggleSettingsSection:this.props.actions.external.toggleSettingsSection},f.default.createElement("div",{className:"kit-panel"},f.default.createElement("div",{className:"kit-field bem-SearchResultSettings_PreviewResultsField"},f.default.createElement("div",null,f.default.createElement("div",{className:"kit-label bem-SearchResultSettings_PreviewResultsLabel"},"Preview results",f.default.createElement(C.default,{content:o,noArrow:!0}))),f.default.createElement(S.default,{className:"bem-SearchResultSettings_PreviewResultsTextBox",placeholder:"Search…",value:t.getIn(A,""),maxLength:256,onChange:this.handlePreviewQueryChange})),e&&l?null:f.default.createElement(b.default,{allowSiteSearch:l,shortName:n,urlRef:"search-result-settings",openSearchSettingsPanel:this.openSearchSettingsPanel},i),f.default.createElement("div",{className:"kit-divider"}),f.default.createElement("div",{className:"kit-field"},f.default.createElement(E.default,{className:"bem-SearchResultSettings_RadioButtons",buttonClass:"has-text bem-SearchResultSettings_RadioButton",value:t.getIn(T,"default"),onChange:this.handleUiStateChange,choices:[{value:"default",label:"Default"},{value:"empty",label:"No Results"}],tooltipDir:"none"})),f.default.createElement("div",{className:"kit-field"},f.default.createElement(v.default,{text:"Results length"}),f.default.createElement(N.default,{placeholder:I.RESULTS_LENGTH_DEFAULT,minValue:I.RESULTS_LENGTH_MIN,maxValue:I.RESULTS_LENGTH_MAX,value:t.getIn(_,I.RESULTS_LENGTH_DEFAULT),stores:this.props.stores,onChange:this.handleResultsLengthChange,throttle:500})),f.default.createElement("div",{className:"kit-field"},f.default.createElement(v.default,{text:"Snippet length"}),f.default.createElement(N.default,{placeholder:I.SNIPPET_LENGTH_DEFAULT,minValue:I.SNIPPET_LENGTH_MIN,maxValue:I.SNIPPET_LENGTH_MAX,step:10,value:t.getIn(x,I.SNIPPET_LENGTH_DEFAULT),stores:this.props.stores,onChange:this.handleSnippetLengthChange,throttle:500})),f.default.createElement("div",{className:"kit-inset-box"},f.default.createElement(h.default,{checked:t.getIn(P,I.HIGHLIGHTING_ENABLED_DEFAULT),onClick:this.handleHighlightingEnabledChange},"Highlight search terms in snippets"))))}}]),SearchResultSettings}(f.default.Component);t.default=R},5215:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(321)),i=n(a(322)),o=n(a(327)),r=n(a(326)),s=n(a(332)),d=n(a(328)),u=n(a(324)),c=n(a(320)),f=n(a(436)),m=function(e){function KitTextBoxStateful(e){var t;return(0,l.default)(this,KitTextBoxStateful),t=(0,o.default)(this,(0,r.default)(KitTextBoxStateful).call(this,e)),(0,u.default)((0,s.default)(t),"onChangeInternal",function(e){t.setState({value:e})}),(0,u.default)((0,s.default)(t),"onChangeExternal",function(){t.props.onChange(t.state.value)}),t.state={value:e.value},t}return(0,d.default)(KitTextBoxStateful,e),(0,i.default)(KitTextBoxStateful,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.value;t!==this.props.value&&this.setState({value:t})}},{key:"render",value:function(){return c.default.createElement(f.default,{value:this.state.value,onChange:this.onChangeInternal,onEnter:this.onChangeExternal,onBlur:this.onChangeExternal,className:this.props.className,placeholder:this.props.placeholder,tabIndex:this.props.tabIndex,onFocus:this.props.onFocus,disabled:this.props.disabled})}}]),KitTextBoxStateful}(c.default.Component);t.default=m},5216:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(321)),i=n(a(322)),o=n(a(327)),r=n(a(326)),s=n(a(332)),d=n(a(328)),u=n(a(324)),c=n(a(320)),f=n(a(653)),m=n(a(646)),g=a(329),p=function(e){function UnitSliderAndBoxStateful(e){var t;return(0,l.default)(this,UnitSliderAndBoxStateful),t=(0,o.default)(this,(0,r.default)(UnitSliderAndBoxStateful).call(this,e)),(0,u.default)((0,s.default)(t),"updateStateValue",function(e){t.setState({value:e}),t.onChange(e)}),t.state={value:e.value},t.setOnChange(e.onChange,e.throttle),t}return(0,d.default)(UnitSliderAndBoxStateful,e),(0,i.default)(UnitSliderAndBoxStateful,[{key:"setOnChange",value:function(e,t){this.onChange=t?(0,g.throttle)(e,t):e}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.onChange===this.props.onChange&&e.throttle===this.props.throttle||this.setOnChange(e.onChange,e.throttle),e.value!==this.state.value&&this.setState({value:e.value})}},{key:"shouldComponentUpdate",value:function(e,t){return this.props.minValue!==e.minValue||this.props.maxValue!==e.maxValue||this.props.step!==e.step||this.props.value!==e.value||this.props.onChange!==e.onChange||this.state.value!==t.value}},{key:"render",value:function(){return c.default.createElement("div",null,c.default.createElement(f.default,{minValue:this.props.minValue,maxValue:this.props.maxValue,step:this.props.step,value:this.state.value,onChange:this.updateStateValue}),c.default.createElement("div",{style:{float:"right"}},c.default.createElement(m.default,{small:!0,value:this.state.value,placeholder:this.props.placeholder,minValue:this.props.minValue,maxValue:this.props.maxValue,selectedNodeNativeId:this.props.stores.uiNode.selectedNodeNativeId,onChange:this.updateStateValue})))}}]),UnitSliderAndBoxStateful}(c.default.Component);t.default=p,(0,u.default)(p,"defaultProps",{minValue:0,maxValue:1,step:1,factor:1,throttle:0,placeholder:""})},5217:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(320)),i=n(a(341)),o=n(a(536)),r=n(a(1930)),s=l.default.createElement(i.default,{_name:"Help_Icon"},l.default.createElement(r.default,null));t.default=function(e){var t=e.content,a=e.label,n=e.noArrow,r=e.style;return l.default.createElement(o.default,{content:t,noArrow:n},l.default.createElement(i.default,{_name:"Help",style:r},s,a&&l.default.createElement(i.default,{_name:"Help_Label"},a)))}},5218:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(321)),i=n(a(322)),o=n(a(327)),r=n(a(326)),s=n(a(332)),d=n(a(328)),u=n(a(324)),c=n(a(320)),f=a(348),m=a(366),g=a(408),p={cursor:"pointer"},h=function(e){function SearchBetaNote(){var e,t;(0,l.default)(this,SearchBetaNote);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return t=(0,o.default)(this,(e=(0,r.default)(SearchBetaNote)).call.apply(e,[this].concat(n))),(0,u.default)((0,s.default)(t),"handleAddHostingClick",function(){var e=t.props,a=e.allowSiteSearch,n=e.openSearchSettingsPanel,l=e.shortName,i=e.urlRef;if(a)n();else{var o="".concat("https://webflow.com","/dashboard/sites/").concat(l,"/hosting?ref=").concat(i,"&cta=search");f.window.open(o)}}),t}return(0,d.default)(SearchBetaNote,e),(0,i.default)(SearchBetaNote,[{key:"render",value:function(){var e=this.props.allowSiteSearch?"Go to Search Settings":"Add Hosting";return c.default.createElement(m.Note,{marginTop:2,control:c.default.createElement(g.Link,{style:p,onClick:this.handleAddHostingClick},e),content:this.props.children})}}]),SearchBetaNote}(c.default.Component);t.default=h},5219:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.searchResultSettingsUiStateChanged=t.searchResultSettingsPreviewQueryChanged=t.searchResultSettingsHighlihgtingToggled=t.searchResultSettingsSnippetLengthChanged=t.searchResultSettingsLengthChanged=void 0;var n=a(357),l=a(333),i=(0,n.createAction)(l.SEARCH_RESULT_SETTINGS_LENGTH_CHANGED);t.searchResultSettingsLengthChanged=i;var o=(0,n.createAction)(l.SEARCH_RESULT_SETTINGS_SNIPPET_LENGTH_CHANGED);t.searchResultSettingsSnippetLengthChanged=o;var r=(0,n.createAction)(l.SEARCH_RESULT_SETTINGS_HIGHLIHGTING_TOGGLED);t.searchResultSettingsHighlihgtingToggled=r;var s=(0,n.createAction)(l.SEARCH_RESULT_SETTINGS_PREVIEW_QUERY_CHANGED);t.searchResultSettingsPreviewQueryChanged=s;var d=(0,n.createAction)(l.SEARCH_RESULT_SETTINGS_UI_STATE_CHANGED);t.searchResultSettingsUiStateChanged=d},5220:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(321)),i=n(a(322)),o=n(a(327)),r=n(a(326)),s=n(a(328)),d=n(a(320)),u=n(a(384)),c=n(a(1966)),f=function(e){function BackgroundVideoSettings(){return(0,l.default)(this,BackgroundVideoSettings),(0,o.default)(this,(0,r.default)(BackgroundVideoSettings).apply(this,arguments))}return(0,s.default)(BackgroundVideoSettings,e),(0,i.default)(BackgroundVideoSettings,[{key:"render",value:function(){var e=this.props,t=e.stores,a=e.actions,n=e.dispatch;return d.default.createElement(u.default,{className:"background-video-settings",name:"background-video",title:"Background Video Settings",settingsSectionFlags:t.external.settingsSectionFlags,toggleSettingsSection:a.external.toggleSettingsSection},d.default.createElement(c.default,{stores:t,actions:a,dispatch:n}))}}]),BackgroundVideoSettings}(d.default.Component);t.default=f},5221:function(e,t,a){"use strict";var n=a(323),l=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=l(a(321)),o=l(a(322)),r=l(a(327)),s=l(a(326)),d=l(a(332)),u=l(a(328)),c=l(a(324)),f=l(a(320)),m=l(a(330)),g=l(a(384)),p=l(a(478)),h=n(a(340)),v=n(a(345)),S=n(a(1733)),E=function(e){function ContributorSettings(){var e,t;(0,i.default)(this,ContributorSettings);for(var a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return t=(0,r.default)(this,(e=(0,s.default)(ContributorSettings)).call.apply(e,[this].concat(n))),(0,c.default)((0,d.default)(t),"onEditableClick",t.onEditableClick.bind((0,d.default)(t))),t}return(0,u.default)(ContributorSettings,e),(0,o.default)(ContributorSettings,[{key:"shouldComponentUpdate",value:function(e){var t=this.props;return e.stores.uiNode.selectedNodeNativeId!==t.stores.uiNode.selectedNodeNativeId||!m.default.is(e.stores.external.settingsSectionFlags,t.stores.external.settingsSectionFlags)||!m.default.is(e.stores.abstractNode,t.stores.abstractNode)}},{key:"getNode",value:function(){return v.getAbstractNode(this.props.stores.abstractNode,this.props.stores.uiNode.selectedNodeNativeId)}},{key:"isEditable",value:function(){var e=this.getNode();return Boolean(e)&&h.isContributorEditingEnabled(e)}},{key:"onEditableClick",value:function(){var e=this.props,t=e.stores,a=e.dispatch,n=t.uiNode;a(S.contributorEditableToggled({uiNodeState:n}))}},{key:"render",value:function(){var e=this.props,t=e.stores,a=e.actions;return f.default.createElement(g.default,{className:"contributor-settings custom",name:"contributor",title:"Editor Settings",settingsSectionFlags:t.external.settingsSectionFlags,toggleSettingsSection:a.external.toggleSettingsSection},f.default.createElement("div",{className:"switch"},f.default.createElement(p.default,{checked:this.isEditable(),onClick:this.onEditableClick},"Collaborators can edit this element")))}}]),ContributorSettings}(f.default.Component);t.default=E},5222:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(321)),i=n(a(322)),o=n(a(327)),r=n(a(326)),s=n(a(332)),d=n(a(328)),u=n(a(324)),c=n(a(320)),f=a(330),m=a(366),g=a(408),p=n(a(384)),h=n(a(478)),v=n(a(377)),S=n(a(347)),E=n(a(5223)),N=a(331),C=a(426),b=a(340),y=a(345),k=a(383),I=a(1253),T="SEARCH_EXCLUDE_NOTE",A=(0,N.styled)(h.default)({display:"flex",alignItems:"center"}),_=(0,N.styledDiv)(function(e){return{position:"absolute",height:22,width:22,left:22+e.theme.gutters.base/2,display:"inline-block"}}),x=(0,N.styled)(E.default)({height:"100%",width:"100%"}),P=(0,N.styledDiv)(function(e){var t=e.theme.gutters;return{marginLeft:22+t.base/2,paddingRight:t.normal}}),R=(0,N.styled)("span")(function(e){var t=e.theme,a=t.colors;return{cursor:"pointer",borderBottomStyle:"solid",borderBottomWidth:t.control.borderWidth,borderBottomColor:a.foregroundDim}},{hover:function(e){var t=e.theme.colors;return{color:t.foregroundVivid,borderBottomColor:t.foregroundVivid}}}),O={cursor:"pointer"},D=function(e){function SearchIndexableNodeSettings(){var e,t;(0,l.default)(this,SearchIndexableNodeSettings);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return t=(0,o.default)(this,(e=(0,r.default)(SearchIndexableNodeSettings)).call.apply(e,[this].concat(n))),(0,u.default)((0,s.default)(t),"onIndexableClick",function(){(0,t.props.dispatch)((0,I.searchSettingsExcludeToggled)({uiNodeState:t.props.stores.uiNode}))}),(0,u.default)((0,s.default)(t),"openPageManager",function(){var e=t.props,a=e.actions,n=e.stores,l=e.currentPageId,i=a.pageManager.openSettings,o=a.ui.toggleLeftSidebarTab,r=n.ui.leftSidebarTab;i(l,"search"),"pagesMenu"!==r&&o("pagesMenu")}),(0,u.default)((0,s.default)(t),"dismiss",function(){t.props.dispatch((0,C.dismissNote)({id:T}))}),t}return(0,d.default)(SearchIndexableNodeSettings,e),(0,i.default)(SearchIndexableNodeSettings,[{key:"shouldComponentUpdate",value:function(e){var t=this.props;return e.stores.uiNode.selectedNodeNativeId!==t.stores.uiNode.selectedNodeNativeId||!(0,f.is)(e.stores.external.settingsSectionFlags,t.stores.external.settingsSectionFlags)||!(0,f.is)(e.stores.abstractNode,t.stores.abstractNode)||e.currentPageId!==t.currentPageId||e.permanentlyDismissedNotes!==t.permanentlyDismissedNotes||!(0,f.is)(e.stores.page,t.stores.page)}},{key:"getNode",value:function(){return(0,y.getAbstractNode)(this.props.stores.abstractNode,this.props.stores.uiNode.selectedNodeNativeId)}},{key:"isPageExcluded",value:function(){var e=(0,k.getPage)(this.props.currentPageId,this.props.stores.page);return e&&e.searchExclude}},{key:"isAncestorExcluded",value:function(){var e=this.props.stores.abstractNode.getIn(["root"],null);if(!e)return!1;var t=this.getNode();return Boolean(t)&&(0,b.hasAncestorExcludedFromSearch)(e,t)}},{key:"isExcluded",value:function(){var e=this.getNode();return Boolean(e)&&(0,b.isExcludedFromSearch)(e)}},{key:"render",value:function(){var e,t=this.props,a=t.stores,n=t.selectedNodeLabel,l=t.currentPageId,i=t.permanentlyDismissedNotes,o=this.isExcluded(),r=this.isAncestorExcluded(),s=this.isPageExcluded(),d=s||r;s?e="This content has been excluded in its Page settings.":r&&(e="This content has been excluded in a parent element’s settings.");var u=c.default.createElement(A,{checked:s||r||o,onClick:this.onIndexableClick,disabled:d},c.default.createElement(_,null,c.default.createElement(x,null)),c.default.createElement(P,null,"Exclude ","".concat(n,"’s")," content from site search results"));e&&(u=c.default.createElement(v.default,{alternate:!0,copy:!0,panel:!0,placement:"bottom",arrowSize:0,content:e},c.default.createElement("div",null,u)));var f=a.bindingContextState.pageCollectionId,h=Boolean(f),E=h&&a.collectionState.collections.getIn([f,"singularName"],"this"),N=(0,k.getPages)(a.page).getIn([l,"name"]),C=i.has(T);return c.default.createElement(p.default,{title:"Search Index Settings",settingsSectionFlags:this.props.stores.external.settingsSectionFlags,toggleSettingsSection:this.props.actions.external.toggleSettingsSection,"data-automation-id":"search-index-settings","aria-label":"Search Index"},u,C||s?null:c.default.createElement(m.Note,{marginTop:2,control:c.default.createElement(g.Link,{style:O,onClick:this.dismiss},"Ok, got it"),content:c.default.createElement(c.default.Fragment,null,"To exclude"," ",h?"all pages in your ".concat(E," Collection"):"the whole ".concat(N," page"),", go to its"," ",c.default.createElement(S.default,null,c.default.createElement(R,{onClick:this.openPageManager},h?"Collection ":"","Page settings")),".")}))}}]),SearchIndexableNodeSettings}(c.default.Component);t.default=D},5223:function(e,t,a){"use strict";var n=a(320).createElement;e.exports=function(e){var t=e.scale||1;return n("svg",{"data-icon":"SearchExclude","aria-hidden":!0,focusable:!1,width:20*t,height:20*t,viewBox:"0 0 20 20",y:null!=e.y?e.y:null,x:null!=e.x?e.x:null,className:"bem-Svg"+(e.className?" "+e.className:""),style:Object.assign({display:"block",transform:"translate(0,0)"},e.style)},n("defs",null,n("path",{id:"wf-svg-SearchExclude-a",d:"M11.03 6.975a5.58 5.58 0 01-.9 1.918l3.79 3.788-1.24 1.24-3.787-3.79A5.6 5.6 0 115.203.016a5.5 5.5 0 00-.195 1.78 3.85 3.85 0 104.233 5.06 5.51 5.51 0 001.79.12z"})),n("g",{fill:"currentColor",fillRule:"evenodd"},n("use",{fillRule:"nonzero",xlinkHref:"#wf-svg-SearchExclude-a",opacity:".5",transform:"translate(4 4)"}),n("path",{d:"M14.5 1C16.984 1 19 3.016 19 5.5S16.984 10 14.5 10A4.502 4.502 0 0110 5.5C10 3.016 12.016 1 14.5 1zM17 6V5h-5v1h5z"})))},e.exports.displayName="Svg(SearchExclude)"},5224:function(e,t,a){"use strict";var n=a(323),l=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FormSettingsState=void 0;var i=l(a(321)),o=l(a(322)),r=l(a(327)),s=l(a(326)),d=l(a(332)),u=l(a(328)),c=l(a(324)),f=l(a(320)),m=l(a(330)),g=l(a(384)),p=l(a(1967)),h=n(a(349)),v=n(a(361)),S=m.default.Record({method:""});t.FormSettingsState=S;var E=function(e){function PasswordPageFormSettings(){var e,t;(0,i.default)(this,PasswordPageFormSettings);for(var a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return t=(0,r.default)(this,(e=(0,s.default)(PasswordPageFormSettings)).call.apply(e,[this].concat(n))),(0,c.default)((0,d.default)(t),"state",{formSettingsState:new S,redirectUrl:"",actionUrl:""}),t}return(0,u.default)(PasswordPageFormSettings,e),(0,o.default)(PasswordPageFormSettings,[{key:"UNSAFE_componentWillMount",value:function(){this.refresh()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.props;e.stores.uiNodeState.selectedNodeNativeId===t.stores.uiNodeState.selectedNodeNativeId&&m.default.is(e.stores.abstractNode,t.stores.abstractNode)||this.refresh(e)}},{key:"refresh",value:function(e){e=e||this.props;var t=this.getFormNode(e);if(t){var a=t.getIn(["data","form","redirect"]),n=t.getIn(["data","attr","action"]),l=this.state.formSettingsState.set("method",t.getIn(["data","attr","method"],""));this.setState({formSettingsState:l,redirectUrl:a,actionUrl:n})}}},{key:"getFormNode",value:function(e){var t=(e||this.props).stores,a=t.abstractNode.root,n=t.uiNodeState.selectedNodeNativeId;return v.getFormProxyNode(h.findTreeNode(a,n),a)}},{key:"render",value:function(){var e=this.props,t=e.stores,a=e.actions,n=e.dispatch;return f.default.createElement(g.default,{className:"form-settings",name:"form",title:"Password Form Settings",settingsSectionFlags:this.props.stores.external.settingsSectionFlags,toggleSettingsSection:this.props.actions.external.toggleSettingsSection},f.default.createElement("div",{className:"kit-panel"},f.default.createElement(p.default,{stores:t,actions:a,dispatch:n})))}}]),PasswordPageFormSettings}(f.default.Component);t.default=E},5225:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(321)),i=n(a(322)),o=n(a(327)),r=n(a(326)),s=n(a(328)),d=n(a(320)),u=n(a(384)),c=n(a(1968)),f=function(e){function PasswordPageFormInputSettings(){return(0,l.default)(this,PasswordPageFormInputSettings),(0,o.default)(this,(0,r.default)(PasswordPageFormInputSettings).apply(this,arguments))}return(0,s.default)(PasswordPageFormInputSettings,e),(0,i.default)(PasswordPageFormInputSettings,[{key:"render",value:function(){var e=this.props,t=e.stores,a=e.actions,n=e.dispatch;return d.default.createElement(u.default,{className:"input-settings",name:"input",title:"Password Input Settings",settingsSectionFlags:t.external.settingsSectionFlags,toggleSettingsSection:a.external.toggleSettingsSection},d.default.createElement(c.default,{stores:t,actions:a,dispatch:n}))}}]),PasswordPageFormInputSettings}(d.default.Component);t.default=f},5226:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(321)),i=n(a(322)),o=n(a(327)),r=n(a(326)),s=n(a(332)),d=n(a(328)),u=n(a(324)),c=n(a(320)),f=a(331),m=n(a(384)),g=n(a(347)),p=n(a(570)),h=n(a(389)),v=a(350),S=a(353),E=n(a(855)),N=n(a(652)),C=a(346),b=a(554),y=a(555),k=a(358),I=Object.keys(k.ADD_TO_CART_STATES),T={DEFAULT:"Default",OUT_OF_STOCK:"Out of stock",ERROR:"Error"},A=(0,f.styledDiv)(function(e){var t=e.theme,a=t.gutters,n=t.colors;return{marginTop:a.x12,marginBottom:a.x12,background:n.backgroundDeep,pointerEvents:"none",height:1,width:"100%"}}),_=function(e){var t=e.on,a=e.onClick;return c.default.createElement(g.default,null,c.default.createElement(N.default,{on:t,onClick:a,size:14,length:22}))},x=(0,f.styled)(S.FinePrint)(function(e){return{marginRight:e.theme.gutters.normal}}),P=(0,f.styledDiv)({display:"flex"}),R=(0,f.styled)(C.InputIcon)(function(e){return{marginRight:e.theme.gutters.narrow}}),O=c.default.createElement(P,null,c.default.createElement(R,null)," Quantity"),D=(0,f.styled)(E.default)(function(e){return{borderRadius:e.theme.control.borderRadius}}),F=function(e){function AddToCartFormSettings(){var e,t;(0,l.default)(this,AddToCartFormSettings);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return t=(0,o.default)(this,(e=(0,r.default)(AddToCartFormSettings)).call.apply(e,[this].concat(n))),(0,u.default)((0,s.default)(t),"updatePreviewState",function(e){return function(){t.props.dispatch((0,b.addToCartPreviewStateUpdated)({uiNodeState:t.props.stores.uiNode,previewState:e}))}}),(0,u.default)((0,s.default)(t),"toggleShowQuantityField",function(){t.props.dispatch((0,b.addToCartQuantityFieldToggled)({uiNodeState:t.props.stores.uiNode}))}),t}return(0,d.default)(AddToCartFormSettings,e),(0,i.default)(AddToCartFormSettings,[{key:"render",value:function(){var e=this,t=this.props,a=t.stores,n=t.actions,l=(0,y.getAddToCartPreviewState)({uiNodeState:a.uiNode,abstractNodeState:a.abstractNode});return c.default.createElement(m.default,{name:"addToCart",title:"Add to Cart Settings",settingsSectionFlags:a.external.settingsSectionFlags,toggleSettingsSection:n.external.toggleSettingsSection},c.default.createElement(v.FlexRow,{align:"center"},c.default.createElement(x,null,"State:"),c.default.createElement(p.default,{style:{gridTemplateColumns:I.map(function(e){return(e===k.ADD_TO_CART_STATES.OUT_OF_STOCK?1.3:1)+"fr"}).join(" ")}},I.map(function(t){return c.default.createElement(g.default,{key:t},c.default.createElement(h.default,{selected:l===t,onClick:e.updatePreviewState(t)},T[t]))}))),c.default.createElement(A,null),c.default.createElement(D,{label:O,extra:c.default.createElement(_,{on:(0,y.getIsAddToCartQuantityFieldEnabled)({uiNodeState:this.props.stores.uiNode,abstractNodeState:this.props.stores.abstractNode}),onClick:this.toggleShowQuantityField})}))}}]),AddToCartFormSettings}(c.default.Component);t.default=F},5227:function(e,t,a){"use strict";var n=a(124),l=a(323);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=n(a(321)),r=n(a(322)),s=n(a(327)),d=n(a(326)),u=n(a(332)),c=n(a(328)),f=n(a(324)),m=l(a(320)),g=a(331),p=n(a(384)),h=n(a(570)),v=n(a(389)),S=n(a(347)),E=n(a(477)),N=n(a(769)),C=n(a(5228)),b=n(a(5229)),y=n(a(5230)),k=n(a(5231)),I=a(456),T=a(539),A=a(457),_=n(a(817)),x=n(a(511)),P=n(a(377)),R=l(a(402)),O=n(a(866)),D=n(a(5232)),F=a(554),w=a(414),M=a(340),L=a(555),U=a(380),V=a(358),B={ms:{step:50,max:1e3,min:0}},H=(i={},(0,f.default)(i,V.CART_STATES.DEFAULT,"Default"),(0,f.default)(i,V.CART_STATES.EMPTY,"Empty"),(0,f.default)(i,V.CART_STATES.ERROR,"Error"),i),G=(0,g.styledDiv)(function(e){var t=e.theme,a=t.gutters,n=t.colors;return{marginTop:a.x12,marginBottom:a.x12,background:n.backgroundDeep,pointerEvents:"none",height:1,width:"100%"}}),q=(0,g.styledDiv)(function(e){return{marginBottom:e.theme.gutters.base+4}}),Q=Object.keys(V.CART_STATES),W=function(e){function CommerceCartWrapperSettings(){var e,t;(0,o.default)(this,CommerceCartWrapperSettings);for(var a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return t=(0,s.default)(this,(e=(0,d.default)(CommerceCartWrapperSettings)).call.apply(e,[this].concat(n))),(0,f.default)((0,u.default)(t),"updateOpenState",function(){var e=(0,L.getCartOpenState)({uiNodeState:t.props.uiNodeState,abstractNodeState:t.props.abstractNodeState});t.props.dispatch((0,F.cartOpenStateUpdated)({selectedNodeNativeId:t.props.uiNodeState.selectedNodeNativeId,openState:!e}))}),(0,f.default)((0,u.default)(t),"updatePreviewState",function(e){return function(){t.props.dispatch((0,F.cartPreviewStateUpdated)({uiNodeState:t.props.uiNodeState,previewState:e}))}}),(0,f.default)((0,u.default)(t),"updateCartType",function(e){return function(){t.props.dispatch((0,F.cartTypeUpdated)({cartType:e})),t.props.dispatch((0,w.ix2UiUpdateConditionalDefaults)({nodeType:M.isCommerceCartWrapper}))}}),(0,f.default)((0,u.default)(t),"updateCartTypeDropdownOnOpen",function(e){return function(){t.props.dispatch((0,F.cartTypeDropdownOnOpenUpdated)({openOn:e}))}}),(0,f.default)((0,u.default)(t),"toggleCartProductAddedState",function(){t.props.dispatch((0,F.cartProductAddToggled)({uiNodeState:t.props.uiNodeState}))}),(0,f.default)((0,u.default)(t),"updatePreviewCartItemCountState",function(e){t.props.dispatch((0,F.cartPreviewItemCountStateUpdated)({uiNodeState:t.props.uiNodeState,previewItems:Math.ceil(e)}))}),(0,f.default)((0,u.default)(t),"updateEasingType",function(e){t.props.dispatch((0,F.cartAnimationEasingUpdated)({easingType:e}))}),(0,f.default)((0,u.default)(t),"updateDuration",function(e){null!=e&&t.props.dispatch((0,F.cartAnimationDurationUpdated)({duration:e.value}))}),t}return(0,c.default)(CommerceCartWrapperSettings,e),(0,r.default)(CommerceCartWrapperSettings,[{key:"render",value:function(){var e=this,t=this.props,a=t.uiNodeState,n=t.collectionState,l=t.abstractNodeState,i=t.settingsSectionFlags,o=t.toggleSettingsSection,r=(0,L.getCartOpenState)({uiNodeState:a,abstractNodeState:l}),s=(0,L.getCartProductAddedState)({uiNodeState:a,abstractNodeState:l}),d=(0,L.getCartTypeState)({uiNodeState:a,abstractNodeState:l}),u=(0,L.getCartAnimationEasingTypeState)({uiNodeState:a,abstractNodeState:l}),c=(0,L.getCartAnimationDurationState)({uiNodeState:a,abstractNodeState:l}),f=(0,L.getCartTypeDropdownOnOpenState)({uiNodeState:a,abstractNodeState:l}),g=(0,L.getPreviewCartItemCountState)({uiNodeState:a,abstractNodeState:l}),F=(0,U.getProductsItemCount)(n),w={none:{step:1,max:Math.min(F,20),min:F?1:0}},M=F?(0,L.getCartPreviewState)({uiNodeState:a,abstractNodeState:l}):V.CART_STATES.EMPTY;return m.default.createElement(p.default,{name:"Cart",title:"Cart Wrapper Settings",settingsSectionFlags:i,toggleSettingsSection:o},m.default.createElement(S.default,null,m.default.createElement(v.default,{selected:r,onClick:this.updateOpenState,"data-automation-id":"cart-toggle-button"},m.default.createElement(N.default,null)," Open cart")),m.default.createElement(G,null),m.default.createElement(q,null,m.default.createElement(R.default,{columns:[(0,R.gu)(14),(0,R.fr)(1)]},m.default.createElement(O.default,null,"Cart type:"),m.default.createElement(h.default,null,m.default.createElement(S.default,null,m.default.createElement(v.default,{selected:d===V.CART_TYPES.MODAL,onClick:this.updateCartType(V.CART_TYPES.MODAL),"data-automation-id":"cart-type-modal-button"},m.default.createElement(P.default,{content:"Modal",primary:!0},m.default.createElement(S.default,null,m.default.createElement("div",null,m.default.createElement(y.default,null)))))),m.default.createElement(S.default,null,m.default.createElement(v.default,{selected:d===V.CART_TYPES.LEFT_SIDEBAR,onClick:this.updateCartType(V.CART_TYPES.LEFT_SIDEBAR),"data-automation-id":"cart-type-left-sidebar-button"},m.default.createElement(P.default,{content:"Sidebar-left",primary:!0},m.default.createElement(S.default,null,m.default.createElement("div",null,m.default.createElement(C.default,null)))))),m.default.createElement(S.default,null,m.default.createElement(v.default,{selected:d===V.CART_TYPES.RIGHT_SIDEBAR,onClick:this.updateCartType(V.CART_TYPES.RIGHT_SIDEBAR),"data-automation-id":"cart-type-right-sidebar-button"},m.default.createElement(P.default,{content:"Sidebar-right",primary:!0},m.default.createElement(S.default,null,m.default.createElement("div",null,m.default.createElement(k.default,null)))))),m.default.createElement(S.default,null,m.default.createElement(v.default,{selected:d.includes("Dropdown"),onClick:d!==V.CART_TYPES.LEFT_DROPDOWN?this.updateCartType(V.CART_TYPES.RIGHT_DROPDOWN):null,"data-automation-id":"cart-type-dropdown-button"},m.default.createElement(P.default,{content:"Dropdown",primary:!0},m.default.createElement(S.default,null,m.default.createElement("div",null,m.default.createElement(b.default,null))))))))),d===V.CART_TYPES.LEFT_DROPDOWN||d===V.CART_TYPES.RIGHT_DROPDOWN?m.default.createElement(m.Fragment,null,m.default.createElement(q,null,m.default.createElement(R.default,{columns:[(0,R.gu)(14),(0,R.fr)(1)]},m.default.createElement(O.default,null,"Align:"),m.default.createElement(h.default,null,m.default.createElement(S.default,{segmentGrow:null},m.default.createElement(v.default,{selected:d===V.CART_TYPES.LEFT_DROPDOWN,onClick:this.updateCartType(V.CART_TYPES.LEFT_DROPDOWN),"data-automation-id":"cart-type-dropdown-left-align-button"},"Left")),m.default.createElement(S.default,{segmentGrow:null},m.default.createElement(v.default,{selected:d===V.CART_TYPES.RIGHT_DROPDOWN,onClick:this.updateCartType(V.CART_TYPES.RIGHT_DROPDOWN),"data-automation-id":"cart-type-dropdown-right-align-button"},"Right"))))),m.default.createElement(q,null,m.default.createElement(R.default,{columns:[(0,R.gu)(14),(0,R.fr)(1)]},m.default.createElement(O.default,null,"Open on:"),m.default.createElement(h.default,null,m.default.createElement(S.default,{segmentGrow:null},m.default.createElement(v.default,{selected:f===V.CART_TYPE_DROPDOWN_ON_OPEN.CLICK,onClick:this.updateCartTypeDropdownOnOpen(V.CART_TYPE_DROPDOWN_ON_OPEN.CLICK),"data-automation-id":"cart-type-dropdown-open-click-button"},"Click")),m.default.createElement(S.default,{segmentGrow:null},m.default.createElement(v.default,{selected:f===V.CART_TYPE_DROPDOWN_ON_OPEN.HOVER,onClick:this.updateCartTypeDropdownOnOpen(V.CART_TYPE_DROPDOWN_ON_OPEN.HOVER),"data-automation-id":"cart-type-dropdown-open-hover-button"},"Hover")))))):null,m.default.createElement(q,null,m.default.createElement(R.default,{columns:[(0,R.gu)(14),(0,R.fr)(1)]},m.default.createElement(O.default,null,"Easing:"),m.default.createElement(D.default,{value:u,onChange:this.updateEasingType}))),m.default.createElement(q,null,m.default.createElement(R.default,{columns:[(0,R.gu)(14),(0,R.fr)(2),(0,R.fr)(1)]},m.default.createElement(I.StylePanelLabel,null,"Duration:"),m.default.createElement(T.StylePanelSlider,{value:{unit:"ms",value:c},min:B.ms.min,max:B.ms.max,step:B.ms.step,onChange:this.updateDuration,dataAutomationIdKnob:"cart-animation-duration-slider"}),m.default.createElement(A.StylePanelUnitInput,{value:{unit:"ms",value:c},ranges:B,onChange:this.updateDuration,withMagic:!1,dataAutomationIdInput:"cart-animation-duration-input"}))),m.default.createElement(q,null,m.default.createElement(R.default,{columns:[(0,R.gu)(14),(0,R.fr)(1)]},m.default.createElement("div",null)," ",m.default.createElement("div",null,m.default.createElement(E.default,{checked:s,onClick:this.toggleCartProductAddedState,label:"Open when product is added"})))),m.default.createElement(G,null),m.default.createElement(q,null,m.default.createElement(R.default,{columns:[(0,R.gu)(14),(0,R.fr)(1)]},m.default.createElement(O.default,null,"State:"),m.default.createElement(h.default,null,Q.map(function(t){return m.default.createElement(S.default,{key:t,segmentGrow:null},m.default.createElement(v.default,{selected:M===t,onClick:e.updatePreviewState(t),"data-automation-id":V.CART_STATES_AUTOMATION[t],disabled:t!==V.CART_STATES.EMPTY&&!F},H[t]))})))),M===V.CART_STATES.EMPTY?null:m.default.createElement(R.default,{columns:[(0,R.gu)(14),(0,R.fr)(2),(0,R.fr)(1)]},m.default.createElement(O.default,null,"Preview:"),m.default.createElement(_.default,{value:g,min:w.none.min,max:w.none.max,step:w.none.step,onChange:this.updatePreviewCartItemCountState,dataAutomationIdKnob:"cart-preview-slider"}),m.default.createElement(x.default,{onChange:this.updatePreviewCartItemCountState,value:g,min:w.none.min,max:w.none.max,step:w.none.step,dataAutomationIdInput:"cart-preview-input"})))}}]),CommerceCartWrapperSettings}(m.default.Component);t.default=W},5228:function(e,t,a){"use strict";var n=a(320).createElement;e.exports=function(e){var t=e.scale||1;return n("svg",{"data-icon":"CartSidebarLeft","aria-hidden":!0,focusable:!1,width:17*t,height:14*t,viewBox:"0 0 17 14",y:null!=e.y?e.y:null,x:null!=e.x?e.x:null,className:"bem-Svg"+(e.className?" "+e.className:""),style:Object.assign({display:"block",transform:"translate(0,0)"},e.style)},n("g",{fill:"currentColor",fillRule:"evenodd"},n("path",{opacity:".4",d:"M8 0h9v14H8z"}),n("path",{d:"M0 0h6v14H0z"})))},e.exports.displayName="Svg(CartSidebarLeft)"},5229:function(e,t,a){"use strict";var n=a(320).createElement;e.exports=function(e){var t=e.scale||1;return n("svg",{"data-icon":"CartDropdown","aria-hidden":!0,focusable:!1,width:15*t,height:12*t,viewBox:"0 0 15 12",y:null!=e.y?e.y:null,x:null!=e.x?e.x:null,className:"bem-Svg"+(e.className?" "+e.className:""),style:Object.assign({display:"block",transform:"translate(0,0)"},e.style)},n("path",{d:"M0 0h15v12H0zm3.5 4l4 5 4-5z",fill:"currentColor",fillRule:"evenodd"}))},e.exports.displayName="Svg(CartDropdown)"},5230:function(e,t,a){"use strict";var n=a(320).createElement;e.exports=function(e){var t=e.scale||1;return n("svg",{"data-icon":"CartModal","aria-hidden":!0,focusable:!1,width:17*t,height:14*t,viewBox:"0 0 17 14",y:null!=e.y?e.y:null,x:null!=e.x?e.x:null,className:"bem-Svg"+(e.className?" "+e.className:""),style:Object.assign({display:"block",transform:"translate(0,0)"},e.style)},n("g",{fill:"currentColor",fillRule:"evenodd"},n("path",{opacity:".4",d:"M15 4h2v10H4v-2h11z"}),n("path",{d:"M0 0h13v10H0z"})))},e.exports.displayName="Svg(CartModal)"},5231:function(e,t,a){"use strict";var n=a(320).createElement;e.exports=function(e){var t=e.scale||1;return n("svg",{"data-icon":"CartSidebarRight","aria-hidden":!0,focusable:!1,width:17*t,height:14*t,viewBox:"0 0 17 14",y:null!=e.y?e.y:null,x:null!=e.x?e.x:null,className:"bem-Svg"+(e.className?" "+e.className:""),style:Object.assign({display:"block",transform:"translate(0,0)"},e.style)},n("g",{fill:"currentColor",fillRule:"evenodd"},n("path",{opacity:".4",d:"M0 0h9v14H0z"}),n("path",{d:"M11 0h6v14h-6z"})))},e.exports.displayName="Svg(CartSidebarRight)"},5232:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(321)),i=n(a(322)),o=n(a(327)),r=n(a(326)),s=n(a(328)),d=n(a(320)),u=n(a(854)),c=[{value:"ease",label:"Ease"},{value:"ease-in",label:"Ease In"},{value:"ease-out",label:"Ease Out"},{value:"ease-in-out",label:"Ease In Out"},{value:"linear",label:"Linear"},{value:"ease-in-quad",label:"Ease In Quad"},{value:"ease-in-cubic",label:"Ease In Cubic"},{value:"ease-in-quart",label:"Ease In Quart"},{value:"ease-in-quint",label:"Ease In Quint"},{value:"ease-in-sine",label:"Ease In Sine"},{value:"ease-in-expo",label:"Ease In Expo"},{value:"ease-in-circ",label:"Ease In Circ"},{value:"ease-in-back",label:"Ease In Back"},{value:"ease-out-quad",label:"Ease Out Quad"},{value:"ease-out-cubic",label:"Ease Out Cubic"},{value:"ease-out-quart",label:"Ease Out Quart"},{value:"ease-out-quint",label:"Ease Out Quint"},{value:"ease-out-sine",label:"Ease Out Sine"},{value:"ease-out-expo",label:"Ease Out Expo"},{value:"ease-out-circ",label:"Ease Out Circ"},{value:"ease-out-back",label:"Ease Out Back"},{value:"ease-in-out-quad",label:"Ease In Out Quad"},{value:"ease-in-out-cubic",label:"Ease In Out Cubic"},{value:"ease-in-out-quart",label:"Ease In Out Quart"},{value:"ease-in-out-quint",label:"Ease In Out Quint"},{value:"ease-in-out-sine",label:"Ease In Out Sine"},{value:"ease-in-out-expo",label:"Ease In Out Expo"},{value:"ease-in-out-circ",label:"Ease In Out Circ"},{value:"ease-in-out-back",label:"Ease In Out Back"}],f=function(e){function EasingMenuFancy(){return(0,l.default)(this,EasingMenuFancy),(0,o.default)(this,(0,r.default)(EasingMenuFancy).apply(this,arguments))}return(0,s.default)(EasingMenuFancy,e),(0,i.default)(EasingMenuFancy,[{key:"render",value:function(){return d.default.createElement(u.default,{value:this.props.value,onChange:this.props.onChange},c.map(function(e){return d.default.createElement("option",{value:e.value,label:e.label,key:e.value},e.label)}))}}]),EasingMenuFancy}(d.default.Component);t.default=f},5233:function(e,t,a){"use strict";var n=a(124),l=a(323);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=n(a(321)),r=n(a(322)),s=n(a(327)),d=n(a(326)),u=n(a(332)),c=n(a(328)),f=n(a(324)),m=n(a(320)),g=n(a(5234)),p=a(331),h=l(a(402)),v=n(a(866)),S=n(a(570)),E=n(a(389)),N=n(a(347)),C=a(358),b=a(555),y=a(349),k=a(554),I=a(345),T=a(340),A=(0,p.styledDiv)(function(e){return{marginTop:e.theme.gutters.base+4}}),_=Object.keys(C.SHIPPING_METHODS_STATES),x=(i={},(0,f.default)(i,C.SHIPPING_METHODS_STATES.DEFAULT,"Default"),(0,f.default)(i,C.SHIPPING_METHODS_STATES.EMPTY,"Empty"),i),P=function(e){function CommerceShippingMethodsSettings(){var e,t;(0,o.default)(this,CommerceShippingMethodsSettings);for(var a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return t=(0,s.default)(this,(e=(0,d.default)(CommerceShippingMethodsSettings)).call.apply(e,[this].concat(n))),(0,f.default)((0,u.default)(t),"updateShippingMethodState",function(e,a){return function(){var n=t.props.uiNodeState;a?t.props.dispatch((0,k.paypalCheckoutShippingMethodsUpdated)({uiNodeState:n,shippingMethodState:e})):t.props.dispatch((0,k.checkoutShippingMethodsUpdated)({uiNodeState:n,shippingMethodState:e}))}}),t}return(0,c.default)(CommerceShippingMethodsSettings,e),(0,r.default)(CommerceShippingMethodsSettings,[{key:"render",value:function(){var e=this,t=this.props,a=t.uiNodeState,n=t.abstractNodeState,l=(0,y.isInside)(T.isCommercePaypalCheckoutFormContainer)(n.root)((0,I.getAbstractNode)(n,a.selectedNodeNativeId)),i=l?(0,b.getPaypalCheckoutShippingMethodsState)({uiNodeState:a,abstractNodeState:n}):(0,b.getShippingMethodsState)({uiNodeState:a,abstractNodeState:n});return m.default.createElement(g.default,this.props,m.default.createElement(A,null,m.default.createElement(h.default,{columns:[(0,h.gu)(14),(0,h.fr)(1)]},m.default.createElement(v.default,null,"State:"),m.default.createElement(S.default,null,_.map(function(t){return m.default.createElement(N.default,{key:t,segmentGrow:null},m.default.createElement(E.default,{selected:i===t,onClick:e.updateShippingMethodState(t,l)},x[t]))})))))}}]),CommerceShippingMethodsSettings}(m.default.Component);t.default=P},5234:function(e,t,a){"use strict";var n=a(323),l=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=l(a(321)),o=l(a(322)),r=l(a(327)),s=l(a(326)),d=l(a(328)),u=l(a(320)),c=l(a(384)),f=l(a(389)),m=l(a(866)),g=l(a(2072)),p=n(a(402)),h=function(e){function CommerceShippingMethodSettings(){return(0,i.default)(this,CommerceShippingMethodSettings),(0,r.default)(this,(0,s.default)(CommerceShippingMethodSettings).apply(this,arguments))}return(0,d.default)(CommerceShippingMethodSettings,e),(0,o.default)(CommerceShippingMethodSettings,[{key:"render",value:function(){var e=this.props,t=e.settingsSectionFlags,a=e.toggleSettingsSection,n=e.title,l=void 0===n?"Shipping Method List Settings":n,i=e.collectionName,o=void 0===i?"Shipping Methods":i,r=e.children;return u.default.createElement(c.default,{name:"commerceShippingMethodsSettings",title:l,settingsSectionFlags:t,toggleSettingsSection:a},u.default.createElement(p.default,{columns:[(0,p.gu)(14),(0,p.fr)(1)]},u.default.createElement(m.default,null,"Source:"),u.default.createElement(f.default,{dynamic:!0,style:{justifyContent:"space-between"}},u.default.createElement("div",null,o),u.default.createElement(g.default,null))),r)}}]),CommerceShippingMethodSettings}(u.default.Component);t.default=h},5235:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(321)),i=n(a(322)),o=n(a(327)),r=n(a(326)),s=n(a(332)),d=n(a(328)),u=n(a(324)),c=n(a(320)),f=n(a(384)),m=n(a(477)),g=a(555),p=a(554),h=function(e){function CommerceCartButtonItemCountSettings(){var e,t;(0,l.default)(this,CommerceCartButtonItemCountSettings);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return t=(0,o.default)(this,(e=(0,r.default)(CommerceCartButtonItemCountSettings)).call.apply(e,[this].concat(n))),(0,u.default)((0,s.default)(t),"toggleHideEmptyCartState",function(){t.props.dispatch((0,p.hideCartWhenEmptyToggled)({uiNodeState:t.props.uiNodeState}))}),t}return(0,d.default)(CommerceCartButtonItemCountSettings,e),(0,i.default)(CommerceCartButtonItemCountSettings,[{key:"render",value:function(){var e=this.props,t=e.settingsSectionFlags,a=e.toggleSettingsSection,n=e.uiNodeState,l=e.abstractNodeState,i=(0,g.getHideEmptyCartState)({uiNodeState:n,abstractNodeState:l});return c.default.createElement(f.default,{name:"CommerceCartButtonItemCountSettings",title:"Cart Quantity Settings",settingsSectionFlags:t,toggleSettingsSection:a},c.default.createElement(m.default,{checked:i,onClick:this.toggleHideEmptyCartState,label:"Hide when cart is empty",dataAutomationId:"cart-hide-when-empty-checkbox"}))}}]),CommerceCartButtonItemCountSettings}(c.default.Component);t.default=h},5236:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(321)),i=n(a(322)),o=n(a(327)),r=n(a(326)),s=n(a(332)),d=n(a(328)),u=n(a(324)),c=n(a(320)),f=n(a(855)),m=n(a(652)),g=a(346),p=a(331),h=n(a(347)),v=a(555),S=a(554),E=n(a(384)),N=function(e){var t=e.on,a=e.onClick,n=e.dataAutomationId;return c.default.createElement(h.default,null,c.default.createElement(m.default,{on:t,onClick:a,"data-automation-id":n,size:14,length:22}))},C=(0,p.styledDiv)({display:"flex"}),b=(0,p.styled)(g.TextIcon)(function(e){return{marginRight:e.theme.gutters.narrow}}),y=c.default.createElement(C,null,c.default.createElement(b,null)," Cart Quantity"),k=(0,p.styled)(f.default)(function(e){return{borderRadius:e.theme.control.borderRadius}}),I=function(e){function CommerceCartButtonSettings(){var e,t;(0,l.default)(this,CommerceCartButtonSettings);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return t=(0,o.default)(this,(e=(0,r.default)(CommerceCartButtonSettings)).call.apply(e,[this].concat(n))),(0,u.default)((0,s.default)(t),"toggleCartCountState",function(){t.props.dispatch((0,S.cartCountToggled)({uiNodeState:t.props.uiNodeState}))}),t}return(0,d.default)(CommerceCartButtonSettings,e),(0,i.default)(CommerceCartButtonSettings,[{key:"render",value:function(){var e=this.props,t=e.settingsSectionFlags,a=e.toggleSettingsSection,n=e.uiNodeState,l=e.abstractNodeState,i=(0,v.isCartCountHidden)({uiNodeState:n,abstractNodeState:l});return c.default.createElement(E.default,{name:"CommerceCartButtonSettings",title:"Cart Button Settings",settingsSectionFlags:t,toggleSettingsSection:a},c.default.createElement(k,{label:y,extra:c.default.createElement(N,{on:!i,onClick:this.toggleCartCountState,dataAutomationId:"cart-item-count-toggle"})}))}}]),CommerceCartButtonSettings}(c.default.Component);t.default=I},5237:function(e,t,a){"use strict";var n=a(323),l=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=l(a(321)),o=l(a(322)),r=l(a(327)),s=l(a(326)),d=l(a(328)),u=l(a(320)),c=l(a(384)),f=l(a(389)),m=l(a(866)),g=l(a(2072)),p=n(a(402)),h=function(e){function CommerceLockedDynlistSettings(){return(0,i.default)(this,CommerceLockedDynlistSettings),(0,r.default)(this,(0,s.default)(CommerceLockedDynlistSettings).apply(this,arguments))}return(0,d.default)(CommerceLockedDynlistSettings,e),(0,o.default)(CommerceLockedDynlistSettings,[{key:"render",value:function(){var e=this.props,t=e.settingsSectionFlags,a=e.toggleSettingsSection,n=e.title,l=void 0===n?"Cart List Settings":n,i=e.collectionName,o=void 0===i?"Products":i,r=e.children;return u.default.createElement(c.default,{name:"commerceCartListSettings",title:l,settingsSectionFlags:t,toggleSettingsSection:a},u.default.createElement(p.default,{columns:[(0,p.gu)(14),(0,p.fr)(1)]},u.default.createElement(m.default,null,"Source:"),u.default.createElement(f.default,{dynamic:!0,style:{justifyContent:"space-between"}},u.default.createElement("div",null,o),u.default.createElement(g.default,null))),r)}}]),CommerceLockedDynlistSettings}(u.default.Component);t.default=h},5238:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(321)),i=n(a(322)),o=n(a(327)),r=n(a(326)),s=n(a(332)),d=n(a(328)),u=n(a(324)),c=n(a(320)),f=n(a(384)),m=n(a(389)),g=n(a(347)),p=n(a(769)),h=a(554),v=a(555),S=function(e){function CommerceCheckoutFormContainerSettings(){var e,t;(0,l.default)(this,CommerceCheckoutFormContainerSettings);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return t=(0,o.default)(this,(e=(0,r.default)(CommerceCheckoutFormContainerSettings)).call.apply(e,[this].concat(n))),(0,u.default)((0,s.default)(t),"updateBillingAddressToggleState",function(){var e=(0,v.getBillingAddressToggleState)({uiNodeState:t.props.uiNodeState,abstractNodeState:t.props.abstractNodeState});t.props.dispatch((0,h.billingAddressToggleStateUpdated)({uiNodeState:t.props.uiNodeState,billingAddressToggleState:!e}))}),t}return(0,d.default)(CommerceCheckoutFormContainerSettings,e),(0,i.default)(CommerceCheckoutFormContainerSettings,[{key:"render",value:function(){var e=this.props,t=e.uiNodeState,a=e.abstractNodeState,n=e.settingsSectionFlags,l=e.toggleSettingsSection,i=(0,v.getBillingAddressToggleState)({uiNodeState:t,abstractNodeState:a});return c.default.createElement(f.default,{name:"Checkout",title:"Payment Info Settings",settingsSectionFlags:n,toggleSettingsSection:l},c.default.createElement(g.default,null,c.default.createElement(m.default,{"data-automation-id":"show-billing-address",selected:i,onClick:this.updateBillingAddressToggleState},c.default.createElement(p.default,null),i?"Hide Billing Address":"Show Billing Address")))}}]),CommerceCheckoutFormContainerSettings}(c.default.Component);t.default=S},5239:function(e,t,a){"use strict";var n=a(323),l=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=l(a(321)),o=l(a(322)),r=l(a(327)),s=l(a(326)),d=l(a(332)),u=l(a(328)),c=l(a(324)),f=l(a(320)),m=a(335),g=l(a(384)),p=l(a(576)),h=n(a(402)),v=l(a(866)),S=a(555),E=a(380),N=a(554),C=function(e){function CommerceOrderItemsSettings(){var e,t;(0,i.default)(this,CommerceOrderItemsSettings);for(var a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return t=(0,r.default)(this,(e=(0,s.default)(CommerceOrderItemsSettings)).call.apply(e,[this].concat(n))),(0,c.default)((0,d.default)(t),"updatePreviewOrderItemCountState",function(e){t.props.dispatch((0,N.orderPreviewItemCountStateUpdated)({selectedNodeNativeId:t.props.selectedNodeNativeId,previewItems:e}))}),t}return(0,u.default)(CommerceOrderItemsSettings,e),(0,o.default)(CommerceOrderItemsSettings,[{key:"render",value:function(){var e=this.props,t=e.selectedNodeNativeId,a=e.abstractNodeState,n=e.collectionState,l=e.settingsSectionFlags,i=e.toggleSettingsSection,o=(0,S.getPreviewOrderItemCountState)({selectedNodeNativeId:t,abstractNodeState:a}),r=(0,E.getProductsItemCount)(n),s={none:{step:1,max:Math.min(r,20),min:r?1:0}};return f.default.createElement(g.default,{name:"Order Items",title:"Order Items Settings",settingsSectionFlags:l,toggleSettingsSection:i},f.default.createElement(h.default,{columns:[(0,h.gu)(14),(0,h.fr)(1)]},f.default.createElement(v.default,null,"Preview:"),f.default.createElement(p.default,{spacerLeftOfSlider:!1,value:o,length:100,units:m.emptyArray,ranges:s,onValueChange:this.updatePreviewOrderItemCountState,onInputValueChange:this.updatePreviewOrderItemCountState,dataAutomationIdInput:"order-items-preview-input",dataAutomationIdKnob:"order-items-preview-slider"})))}}]),CommerceOrderItemsSettings}(f.default.Component);t.default=C},5240:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(321)),i=n(a(322)),o=n(a(327)),r=n(a(326)),s=n(a(332)),d=n(a(328)),u=n(a(324)),c=n(a(320)),f=a(331),m=n(a(384)),g=n(a(5241)),p=a(353),h=a(366),v=a(368),S=a(408),E=a(554),N=a(555),C=a(471),b=a(358),y=[{label:"None",key:b.QUICK_CHECKOUT_STATES.NONE},{label:"Apple Pay",key:b.QUICK_CHECKOUT_STATES.APPLE_PAY,subtext:"Visible on Safari"},{label:"Pay with browser",key:b.QUICK_CHECKOUT_STATES.PAY_NOW,subtext:"Visible on Chrome and Edge"}],k=(0,f.styledDiv)(function(e){return{marginTop:e.theme.gutters.base+4}}),I=function(e){function CommerceQuickCheckoutActionsSettings(){var e,t;(0,l.default)(this,CommerceQuickCheckoutActionsSettings);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return t=(0,o.default)(this,(e=(0,r.default)(CommerceQuickCheckoutActionsSettings)).call.apply(e,[this].concat(n))),(0,u.default)((0,s.default)(t),"updatePreviewState",function(e){return function(){t.props.dispatch((0,E.quickCheckoutPreviewStateUpdated)({uiNodeState:t.props.uiNodeState,previewState:e}))}}),(0,u.default)((0,s.default)(t),"dispatchSidebarActions",function(){var e=t.props,a=e.dispatch,n=e.uiState,l=n.settingsPanelSetting,i=n.commercePanelSetting;"commerce"!==l&&a((0,C.selectLeftSidebarSetting)({settingName:"commerce"})),"payment"!==i&&a((0,C.commerceSettingsPanelSelected)({settingName:"payment"}))}),(0,u.default)((0,s.default)(t),"navigateToPaymentSettings",function(){var e=t.props,a=e.uiState.leftSidebarTab,n=e.toggleLeftSidebarTab;"settingsPanel"!==a?n("settingsPanel").then(t.dispatchSidebarActions):t.dispatchSidebarActions()}),t}return(0,d.default)(CommerceQuickCheckoutActionsSettings,e),(0,i.default)(CommerceQuickCheckoutActionsSettings,[{key:"render",value:function(){var e=this.props,t=e.uiNodeState,a=e.abstractNodeState,n=e.commerceState,l=e.settingsSectionFlags,i=e.toggleSettingsSection,o=n.settings.quickCheckoutEnabled,r=(0,N.getQuickCheckoutPreviewState)({uiNodeState:t,abstractNodeState:a,quickCheckoutEnabled:o});return c.default.createElement(m.default,{name:"Web Payments",title:"Web Payments Settings",settingsSectionFlags:l,toggleSettingsSection:i,"data-automation-id":"commerce-quick-checkout-actions-settings"},c.default.createElement(p.FinePrint,null,"Preview:"),c.default.createElement(k,null,c.default.createElement(g.default,{items:y,selectedKey:r,onSelectItem:this.updatePreviewState})),!o&&c.default.createElement(k,null,c.default.createElement(h.Note,{sizing:"large",intent:"warning",control:c.default.createElement(S.Link,{onClick:this.navigateToPaymentSettings},"Enable Web Payments"),content:c.default.createElement(v.Text,null,"Web Payments are disabled and will not be visible on your published site.")})))}}]),CommerceQuickCheckoutActionsSettings}(c.default.Component);t.default=I},5241:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(320)),i=a(331),o=n(a(347)),r=a(353),s=(0,i.styledDiv)(function(e){var t=e.theme,a=t.colors,n=t.gutters,l=e.selected,i=l?3:1;return{height:n.x12,width:n.x12,flexShrink:0,border:"".concat(i,"px solid ").concat(a.borderDeep),marginTop:n.x4/2,marginRight:n.x8,borderRadius:"100%",backgroundColor:l?a.foreground:a.backgroundDeep}}),d=(0,i.styledDiv)({width:224}),u=(0,i.styledDiv)(function(e){var t=e.theme,a=t.colors,n=t.gutters,l=t.control,i=e.first,o=e.last,r=e.selected,s=i?l.borderRadius:0,d=o?l.borderRadius:0;return{display:"flex",alignItems:"flex-start",position:"relative",marginTop:-1*l.borderWidth,backgroundColor:a.backgroundDeepAlt,padding:n.x8,borderStyle:"solid",borderWidth:l.borderWidth,borderRadius:"".concat(s,"px ").concat(s,"px ").concat(d,"px ").concat(d,"px"),borderColor:r?a.accent:a.borderDeep,zIndex:r?2:1,cursor:"default"}},{hover:function(e){return{backgroundColor:e.theme.colors.backgroundDeep}}}),c=function(e){var t=e.label,a=e.subtext,n=e.selected,i=e.onSelect,d=e.first,c=e.last;return l.default.createElement(o.default,null,l.default.createElement(u,{first:d,last:c,selected:n,onClick:i},l.default.createElement(s,{selected:n}),l.default.createElement("div",null,l.default.createElement(r.FinePrint,null,t),a&&l.default.createElement(r.FinePrint,{dim:!0},a))))},f=function(e){var t=e.items,a=e.selectedKey,n=e.onSelectItem;return l.default.createElement(d,null,t.map(function(e,i){return l.default.createElement(c,{key:e.key,label:e.label,subtext:e.subtext,selected:a===e.key,first:0===i,last:i===t.length-1,onSelect:n(e.key)})}))};t.default=f},5242:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(320)),i=n(a(384)),o=n(a(5243)),r=function(e){var t=e.settingsSectionFlags,a=e.toggleSettingsSection,n=e.showPageCount,r=e.toggleShowPageCount;return l.default.createElement(i.default,{name:"PaginationSettings",title:"Pagination Settings",settingsSectionFlags:t,toggleSettingsSection:a},l.default.createElement(o.default,{showPageCount:n,toggleShowPageCount:r}))};t.default=r},5243:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(320)),i=a(331),o=a(350),r=a(353),s=n(a(652)),d=a(346),u=(0,i.styled)(o.FlexRow)(function(e){var t=e.theme,a=t.colors,n=t.gutters,l=t.control;return{alignItems:"center",background:a.backgroundDeepAlt,border:"".concat(l.borderWidth,"px solid ").concat(a.backgroundDeep),height:7*n.x4,padding:n.normal,borderRadius:l.borderRadius}}),c=(0,i.styled)(d.TextIcon)(function(e){return{marginRight:e.theme.gutters.normal}}),f=(0,i.styled)(r.FinePrint)({flexGrow:1}),m=function(e){var t=e.showPageCount,a=e.toggleShowPageCount;return l.default.createElement(u,null,l.default.createElement(c,null),l.default.createElement(f,null,"Show page count"),l.default.createElement(s.default,{onClick:a,size:16,length:26,on:t}))};t.default=m},5244:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildPaginationSettingsProps=void 0;var n=a(340),l=a(361),i=a(333),o=a(336),r=a(349);t.buildPaginationSettingsProps=function(e){var t=e.selectedNode,a=e.abstractNodeState,l=e.dispatch,i=e.settingsSectionFlags,o=e.toggleSettingsSection;return(0,n.isPagination)(t)||(0,n.isPaginationPrevious)(t)||(0,n.isPaginationNext)(t)||(0,n.isPaginationCount)(t)?s(i)(o)(t)(a)(l):null};var s=(0,o.weakMemo)(function(e){return(0,o.weakMemo)(function(t){return(0,o.weakMemo)(function(a){return(0,o.weakMemo)(function(i){return(0,o.weakMemo)(function(o){var s=(0,l.closestDynamoWrapper)(a,i.root)&&(0,r.closestNode)(i.root,a,n.isPagination);if(s){var c=(0,r.contains)(n.isPaginationCount)(s),f=c?u(o):d(o);return{settingsSectionFlags:e,toggleSettingsSection:t,showPageCount:c,toggleShowPageCount:f}}return null})})})})}),d=(0,o.weakMemo)(function(e){return function(){return e({type:i.PAGINATION_COUNT_SHOWN})}}),u=(0,o.weakMemo)(function(e){return function(){return e({type:i.PAGINATION_COUNT_HIDDEN})}})},5245:function(e,t,a){"use strict";var n=a(323),l=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=l(a(125)),o=l(a(126)),r=l(a(338)),s=n(a(320)),d=a(329),u=a(335),c=a(368),f=a(355),m=a(386),g=a(1110),p=l(a(384)),h=n(a(565)),v=a(425),S=a(1132),E=a(1976),N=a(762),C=a(589),b=a(1979),y=a(1111),k=s.useCallback,I=s.useState,T=s.useMemo,A=function(e){return e.ExternalStore.settingsSectionFlags},_={gridColumn:"span 2"},x=[u.emptyArray,u.emptyArray],P=function(){return s.createElement(h.PropertyListNone,null)},R=s.memo(function(){var e=(0,m.useDispatch)(),t=I(null),a=(0,r.default)(t,2),n=a[0],l=a[1],u=(0,m.use__UNSAFE__actionCreators)().ExternalActionCreators.toggleSettingsSection,R=(0,m.useDesignerSelector)(b.selectLiveSelectedNode),O=(0,m.useDesignerSelector)(A),D=R?(0,C.getSymbolRootDataType)(R):null,F=T(function(){if(!D)return x;var e=(0,d.get)(D,["fields","sym","fields","overrides"]);if(!e||"Record"!==e.type)return x;for(var t=[],a=[],n=0,l=Object.keys(e.fields);n<l.length;n++){var i=l[n],o=e.fields[i];t.push({id:i,label:i,icon:s.createElement(S.DataTypeIcon,{dataType:o}),item:o}),a.push(i)}return[t,a]},[D]),w=(0,r.default)(F,2),M=w[0],L=w[1],U=(0,N.useDialog)().confirm,V=k(function(){var t=(0,o.default)(i.default.mark(function _callee(t){var a,n;return i.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(R){l.next=2;break}return l.abrupt("return");case 2:if(!((a=(0,y.findAllReferencesToField)(R,t)).length>0)){l.next=10;break}return l.next=6,U({content:"By deleting this field, ".concat(a.length," reference").concat(1===a.length?"":"s"," to it will be unlinked."),title:"Delete field?",submit:{label:"Delete field",intent:"danger"},cancel:{label:"Cancel",intent:"default"}});case 6:if(n=l.sent,"cancel"!==n.response.submitType){l.next=10;break}return l.abrupt("return");case 10:e((0,g.symbolRootFieldDeleted)({name:t}));case 11:case"end":return l.stop()}},_callee)}));return function(e){return t.apply(this,arguments)}}(),[U,e,R]),B=function(e){return!L.map(f.slugify).includes((0,f.slugify)(e))},H=T(function(){return function(t){var a=t.id,i=t.label,o=t.icon,r=t.item,d=function(){e((0,g.symbolRootFieldHovered)({name:i}))},u=function(){e((0,g.symbolRootFieldHovered)({name:null}))};return s.createElement(v.Popover,{key:a,onChange:function(e){return l(e.open?a:null)},state:a===n?v.OPENED_STATE:v.CLOSED_STATE,renderPopoverContent:function(t){var a=t.viewport;return s.createElement(E.DataTypeFieldEditor,{style:{width:a.width},validateFieldName:B,value:r,onChange:function(t){e((0,g.symbolRootFieldChanged)({name:i,newField:t})),t.system.label!==i&&l(t.system.label)}})},showArrow:!1},function(e){var t=e.openPopover,n=e.Anchor;return s.createElement(n,null,s.createElement(h.PropertyListItem,{key:a,id:a,label:i,onClick:M.length?t:void 0,onMouseOver:d,onMouseOut:u,icon:o}))})}},[e,L.join(),M.length,n]);return s.createElement(p.default,{"data-automation-id":"SymbolRootSettings",name:"symbol-root",title:"Symbol Master",settingsSectionFlags:O,toggleSettingsSection:u},s.createElement(c.__DEPRECATED__SigmaGrid,{gridTemplateColumns:"1fr 24px",alignItems:"center",gridGap:1},s.createElement(c.Text,{"data-automation-id":"PropertyListLabel"},"Fields"),s.createElement(h.PropertyListAddButton,{tooltip:"Add field","data-automation-id":"PropertyListAddButton",onClick:function(){var t=(0,f.increment)(L,"Field");e((0,g.symbolRootFieldAdded)({name:t})),l(t)}}),s.createElement(h.default,{"data-automation-id":"SymbolFieldsPropertyList",style:_,sortable:!1,disabled:0===M.length,deletable:!0,onItemDeleted:V,items:M,renderNone:P,renderItem:H})))});t.default=R},653:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(321)),i=n(a(322)),o=n(a(327)),r=n(a(326)),s=n(a(332)),d=n(a(328)),u=n(a(324)),c=n(a(320)),f=n(a(989)),m=a(348),g=n(a(405)),p=m.window.document,h=function(e){function UnitSlider(){var e,t;(0,l.default)(this,UnitSlider);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return t=(0,o.default)(this,(e=(0,r.default)(UnitSlider)).call.apply(e,[this].concat(n))),(0,u.default)((0,s.default)(t),"state",{changing:!1}),(0,u.default)((0,s.default)(t),"setDomNode",function(e){t.node=e}),(0,u.default)((0,s.default)(t),"onMousedown",function(e){var a=(0,s.default)(t),n=t.trackNode(),l=n.offset().left,i=n.width();function computeValue(e){var t=a.props.minValue+Math.min(Math.max((e.clientX-l)/i,0),1)*(a.props.maxValue-a.props.minValue);return a.preciseValue(t)}function update(e){if("-"!==a.props.unit&&"function"==typeof a.props.onValueUnitChange)a.props.onValueUnitChange(computeValue(e),a.props.unit);else{var t=computeValue(e);a.props.onChange(t)}}function stop(e){e.preventDefault(),e.stopPropagation()}function mousemove(e){update(e),stop(e)}function mouseup(e){update(e),a.tweakState.apply(),stop(e)}function cleanup(){o.off("mousemove",mousemove),o.off("mouseup",mouseup),a.tweakState=null,a.setState({changing:!1})}t.tweakState&&t.tweakState.cancel(),t.tweakState={startValue:t.props.value,apply:function(){a.props.onEnd&&a.props.onEnd(!0),cleanup()},cancel:function(){a.props.onEnd&&a.props.onEnd(!1),cleanup()}};var o=(0,g.default)(p);o.on("mousemove",mousemove),o.on("mouseup",mouseup),t.setState({changing:!0}),a.props.onStart&&a.props.onStart(),update(e)}),t}return(0,d.default)(UnitSlider,e),(0,i.default)(UnitSlider,[{key:"UNSAFE_componentWillMount",value:function(){this.tweakState=null}},{key:"componentWillUnmount",value:function(){this.tweakState&&this.tweakState.cancel()}},{key:"shouldComponentUpdate",value:function(e,t){return this.props.value!==e.value||this.state!==t}},{key:"preciseValue",value:function(e){var t=1/this.props.factor;if("precision"in this.props){var a=this.precisionFactor();return Math.round(e*t*a)/t/a}return Math.round(e*t)/t}},{key:"precisionFactor",value:function(){return Math.pow(10,void 0!==this.props.precision?this.props.precision:0)}},{key:"nubbinStyle",value:function(){var e=Number(null!=this.props.value?this.props.value:this.props.placeholder),t=this.props,a=t.minValue,n=t.maxValue;return isNaN(e)?{}:{left:100*Math.min(Math.max((e-a)/(n-a),0),1)+"%"}}},{key:"$domNode",value:function(){return(0,g.default)(this.node)}},{key:"trackNode",value:function(){return this.$domNode().find("> .track")}},{key:"nubbinNode",value:function(){return this.$domNode().find("> .nubbin")}},{key:"render",value:function(){return c.default.createElement("div",{ref:this.setDomNode,className:"kit-unit-slider kit-input-control",onMouseDown:this.props.disabled?null:this.onMousedown},c.default.createElement("div",{className:"track","data-automation-id":this.props.trackAutomationId}),c.default.createElement("span",{className:"nubbin",style:this.nubbinStyle(),tabIndex:"0","data-automation-id":this.props.nubbinAutomationId}),this.state.changing?c.default.createElement(f.default,{to:"#drag-ghost"},c.default.createElement("div",{className:"drag-ghost pointer"})):null)}}]),UnitSlider}(c.default.Component);t.default=h,(0,u.default)(h,"defaultProps",{minValue:0,maxValue:1,step:1,factor:1})},866:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(353),l=(0,a(331).styled)(n.FinePrint)(function(e){return{marginRight:e.theme.gutters.normal,color:"rgb(217, 217, 217)",whiteSpace:"nowrap",textAlign:"right"}});t.default=l}}]);
//# sourceMappingURL=designer.4b65e94f432561d33ad5.chunk.js.map